(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{256:function(e,t,r){"use strict";var n=r(12),a=r.n(n),c=r(13),o=r(97),u=r.n(o);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(){var e=Object(c.h)(),t=Object(c.g)(),r=Object(c.j)(),n=u.a.parse(e.search);return{location:e,history:t,match:r,queryStringParsed:n,objectToQueryString:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"?".concat(u.a.stringify(i(i({},n),e)))}}}},297:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s}));var n=r(12),a=r.n(n),c=r(55);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(c.a)("/get-users",u({body:e},t))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(c.a)("/delete-user",u({method:"POST",body:e},t))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(c.a)("/add-user",u({method:"POST",body:e},t))}},341:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r(12),a=r.n(n),c=r(297);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(){var e=this;this.setState({loadingUsers:!0});var t=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.setState(u(u({loadUsersError:t},r),{},{usersInitialised:!0,loadingUsers:!1}))};c.c().then((function(e){return t(e.errors,e)})).catch(t)}},417:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"defaultState",(function(){return w}));var a=r(0),c=r.n(a),o="Users",u=r(24),l=r(21),i=r(343),s=r(344),f=r(347),b=r(346),O=r(345),p=r(317),m=r(318),d=r(407),j=r(92),y=r.n(j),g=r(12),h=r.n(g),v=r(20),E=r.n(v),P=r(256),w={users:[],documentTitle:"",navSection:null};function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=c.a.createContext(null),C=r(244),U=r.n(C),T=r(2),F=r.n(T),W=r(237),q=r(249),x=r.n(q),A=r(212),J=r(208),R=r(209),z=r(129),N=r(416),_=r(404),I=r(342),Q=r(387),B=r(128),G=r(297);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(e){var t=e.updateState,r={email:""},n=Object(a.useState)(r),o=E()(n,2),u=o[0],l=o[1],i=function(e){return l(K(K({},u),e))},s=Object(a.useState)(!1),f=E()(s,2),b=f[0],O=f[1],p=Object(a.useState)(null),m=E()(p,2),d=m[0],j=m[1],y=Object(a.useState)(!1),g=E()(y,2),h=g[0],v=g[1],P=function(e){b||(i(r),v(e))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,{size:"small",onClick:function(){return P(!0)}},c.a.createElement(x.a,null)),c.a.createElement(A.a,{open:h,onClose:function(){return P(!1)},fullWidth:!0,maxWidth:"sm"},c.a.createElement(J.a,null,c.a.createElement(_.a,{fullWidth:!0},c.a.createElement(N.a,{label:"User email",value:u.email,onChange:function(e){return i({email:e.target.value})}})),c.a.createElement(_.a,null,c.a.createElement(I.a,{label:"Admin user",control:c.a.createElement(Q.a,{value:"",checked:1===u.role,onChange:function(){return i({role:1===u.role?0:1})}})}))),c.a.createElement(R.a,null,d?c.a.createElement(B.a,null,d.msg||d.message||JSON.stringify(d)):null,c.a.createElement(z.a,{color:"primary",onClick:function(){O(!0),G.a(u).then((function(e){var r=e.user;O(!1),P(!1),t((function(e){var t=e.users;return{users:[].concat(U()(t),[r])}}))})).catch((function(e){O(!1),j(e)}))}},"Add user"))))};L.propTypes={updateState:F.a.func.isRequired};var M=L,V=r(259),X=r.n(V),Y=function(e){var t=e.user,r=e.updateState,n=e.disabled,o=Object(a.useState)(!1),u=E()(o,2),l=u[0],i=u[1],s=Object(a.useState)(null),f=E()(s,2),b=f[0],O=f[1],p=Object(a.useState)(!1),m=E()(p,2),d=m[0],j=m[1],y=function(e){l||(O(null),j(e))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,{size:"small",disabled:!0===n,onClick:function(){return y(!0)}},c.a.createElement(X.a,null)),c.a.createElement(A.a,{open:d,onClose:function(){return y(!1)},fullWidth:!0,maxWidth:"sm"},c.a.createElement(J.a,null,c.a.createElement(B.a,null,"Are you sure you want to delete ",c.a.createElement("b",null,t.email),"?")),c.a.createElement(R.a,null,b?c.a.createElement(B.a,{variant:"caption",color:"error",style:{marginRight:"auto"}},b.msg||b.message||JSON.stringify(b)):null,c.a.createElement(z.a,{disabled:l,onClick:function(){return y(!1)}},"Cancel"),c.a.createElement(z.a,{disabled:l,color:"secondary",onClick:function(){i(!0),G.b({id:t.id}).then((function(){i(!1),y(!1),r((function(e){return{users:e.users.filter((function(e){return e.id!==t.id}))}}))})).catch((function(e){i(!1),O(e)}))}},l?"Deleting...":"Delete"))))};Y.propTypes={user:F.a.object.isRequired,updateState:F.a.func.isRequired,disabled:F.a.bool};var Z,$=Y,ee=(Z=function(){var e=Object(l.d)().state.authenticatedUser,t=c.a.useContext(k),r=t.state.users,n=t.setState;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,null,c.a.createElement(d.a,{action:c.a.createElement(c.a.Fragment,null,c.a.createElement(M,{updateState:n})),title:"Users"}),c.a.createElement(m.a,null,c.a.createElement(i.a,null,c.a.createElement(s.a,null,c.a.createElement(O.a,null,c.a.createElement(b.a,null,"Email"),c.a.createElement(b.a,null,"Action"))),c.a.createElement(f.a,null,r.map((function(t,r){return c.a.createElement(O.a,{key:"user-".concat(r)},c.a.createElement(b.a,null,t.email),c.a.createElement(b.a,null,c.a.createElement($,{user:t,disabled:e.email===t.email,updateState:n})))})))))))},function(e){var t=Object(P.a)(),a=c.a.useState(w),o=E()(a,2),u=o[0],l=o[1],i=new function e(){var a=this;y()(this,e),h()(this,"state",u),h()(this,"_setState",l),h()(this,"router",t),h()(this,"defaults",n),h()(this,"setState",(function(e){return a._setState((function(t){return D(D({},t),"function"==typeof e?e(t):e)}))})),h()(this,"getUsers",r(341).default.bind(this))};return c.a.useEffect((function(){i.getUsers()}),[]),c.a.createElement(k.Provider,{value:i},c.a.createElement(Z,e))});t.default=function(){return Object(l.b)(o),Object(u.e)(o),Object(l.c)("users"),c.a.createElement(c.a.Fragment,null,c.a.createElement(ee,null))}}}]);