(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{349:function(e,t,n){"use strict";var r=n(1),a=n(56),i=n(3),o=n(0),c=n(4),l=n(215),u=n(6),s=n(38),d=n(71),f=n(58),m=n(14),p=o.forwardRef((function(e,t){var n=e.children,u=e.classes,p=e.className,v=e.collapsedHeight,E=e.collapsedSize,g=void 0===E?"0px":E,h=e.component,y=void 0===h?"div":h,b=e.disableStrictModeCompat,w=void 0!==b&&b,O=e.in,j=e.onEnter,x=e.onEntered,T=e.onEntering,I=e.onExit,S=e.onExited,D=e.onExiting,A=e.style,R=e.timeout,k=void 0===R?s.b.standard:R,P=e.TransitionComponent,_=void 0===P?l.a:P,C=Object(i.a)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),L=Object(f.a)(),N=o.useRef(),H=o.useRef(null),B=o.useRef(),M="number"==typeof(v||g)?"".concat(v||g,"px"):v||g;o.useEffect((function(){return function(){clearTimeout(N.current)}}),[]);var W=L.unstable_strictMode&&!w,F=o.useRef(null),U=Object(m.a)(t,W?F:void 0),z=function(e){return function(t,n){if(e){var r=W?[F.current,t]:[t,n],i=Object(a.a)(r,2),o=i[0],c=i[1];void 0===c?e(o):e(o,c)}}},J=z((function(e,t){e.style.height=M,j&&j(e,t)})),q=z((function(e,t){var n=H.current?H.current.clientHeight:0,r=Object(d.a)({style:A,timeout:k},{mode:"enter"}).duration;if("auto"===k){var a=L.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(a,"ms"),B.current=a}else e.style.transitionDuration="string"==typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),T&&T(e,t)})),V=z((function(e,t){e.style.height="auto",x&&x(e,t)})),X=z((function(e){var t=H.current?H.current.clientHeight:0;e.style.height="".concat(t,"px"),I&&I(e)})),Y=z(S),G=z((function(e){var t=H.current?H.current.clientHeight:0,n=Object(d.a)({style:A,timeout:k},{mode:"exit"}).duration;if("auto"===k){var r=L.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),B.current=r}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=M,D&&D(e)}));return o.createElement(_,Object(r.a)({in:O,onEnter:J,onEntered:V,onEntering:q,onExit:X,onExited:Y,onExiting:G,addEndListener:function(e,t){var n=W?e:t;"auto"===k&&(N.current=setTimeout(n,B.current||0))},nodeRef:W?F:void 0,timeout:"auto"===k?null:k},C),(function(e,t){return o.createElement(y,Object(r.a)({className:Object(c.a)(u.root,u.container,p,{entered:u.entered,exited:!O&&"0px"===M&&u.hidden}[e]),style:Object(r.a)({minHeight:M},A),ref:U},t),o.createElement("div",{className:u.wrapper,ref:H},o.createElement("div",{className:u.wrapperInner},n)))}))}));p.muiSupportAuto=!0,t.a=Object(u.a)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(p)},398:function(e,t,n){"use strict";n.r(t);var r=n(42),a=n.n(r),i=n(10),o=n.n(i),c=n(20),l=n.n(c),u=n(29),s=n.n(u),d=n(0),f=n.n(d),m=n(2),p=n.n(m),v=n(349),E=n(387),g=n(138),h=function(e){var t=e.children,n=e.events;return n=n||{},f.a.useEffect((function(){var e=function(e){return Object.keys(n).forEach((function(t){var r=n[t];r&&window[e](t,r,!0)}))};return e("addEventListener"),function(){e("removeEventListener")}})),f.a.createElement(f.a.Fragment,null,t)};h.propTypes={children:p.a.any,events:p.a.object};var y=h,b=n(219),w=n(137),O=n(12),j=n.n(O),x=n(5),T=n.n(x),I=n(128),S=n(60);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=j()((function(){return{actionsWrap:{textAlign:"right"},actions:{display:"flex",justifyContent:"flex-end",alignItems:"center"}}})),k=function(e){var t=e.copy,n=f.a.useState({authType:"sign-in",emailRegistration:{},form:{email:"",password:"",password2:""}}),r=l()(n,2),i=r[0],o=r[1],c=function(e){return o((function(t){return A(A({},t),"function"==typeof e?e(t):e)}))},u=function(e){return c((function(t){return{form:A(A({},t.form),"function"==typeof e?e(t.form):e)}}))},d=i.loading,m=i.authType,p=i.authenticateError,h=i.emailRegistration,O=i.form,j=O.email,x=O.password,D=O.password2,k=function(){var e=!d&&j;if(h.userId){var t=x&&(!!h.activated||x===D);e=e&&t}return!e},P=function(){k()||(c({loading:!0,authenticateError:null}),Object(I.a)(m,{id:h.userId,username:j,password:x,password2:D}).then((function(){window.location.href="/"})).catch((function(e){c({loading:!1,authenticateError:e})})))},_=function(){c({loading:!0,authenticateError:null}),Object(I.b)({email:j}).then((function(e){c({loading:!1,emailRegistration:e,authType:e.userId&&!e.activated?"sign-up":"sign-in"})})).catch((function(e){return c({loading:!1,authenticateError:e})}))},C=R(),L=h.errors||p,N=function(e){return f.a.createElement("div",{className:T()(C.actionsWrap)},!!L&&L.map((function(e,t){var n=t;return f.a.createElement("div",{key:n},f.a.createElement(w.a,{color:"error",variant:"caption"},e))})),f.a.createElement("div",{className:T()(C.actions)},e))},H=d?f.a.createElement(b.a,{color:"secondary",size:20}):null;return f.a.createElement(f.a.Fragment,null,f.a.createElement("button",{onClick:a()(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)("/api/add-stats",{method:"POST",body:{stats:[{type:"click",count:1,dur:30,segmentation:{key1:"value1",key2:"value2"}}]}});case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))},"Add event"),f.a.createElement(y,{events:{keyup:function(e){if(13===e.keyCode)return h.userId?void P():_()}}},f.a.createElement("div",null,f.a.createElement(E.a,{fullWidth:!0,variant:"outlined",type:"email",name:"email",value:j||"",label:t.EMAIL_ADDRESS_INPUT_LABEL,onChange:function(e){return u({email:e.target.value})}})),f.a.createElement("br",null),f.a.createElement(v.a,{in:!h.userId},N(f.a.createElement(f.a.Fragment,null,f.a.createElement(g.a,{disableElevation:!0,size:"large",color:"primary",variant:"contained",endIcon:H,onClick:function(){return _()},disabled:k()},t.VERIFY_EMAIL_ADDRESS_BUTTON_TEXT)))),f.a.createElement(v.a,{in:!!h.userId},f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement(E.a,{fullWidth:!0,variant:"outlined",type:"password",name:"password",value:x||"",label:t.PASSWORD_INPUT_LABEL,onChange:function(e){return u({password:e.target.value})}})),f.a.createElement("br",null),"sign-up"===m&&f.a.createElement(f.a.Fragment,null,f.a.createElement("br",null),f.a.createElement("div",null,f.a.createElement(E.a,{fullWidth:!0,variant:"outlined",type:"password",name:"password2",value:D||"",label:t.PASSWORD_INPUT_LABEL,onChange:function(e){return u({password2:e.target.value})}})),f.a.createElement("br",null)),N(f.a.createElement(f.a.Fragment,null,f.a.createElement(g.a,{disableElevation:!0,size:"large",color:"primary",variant:"contained",endIcon:H,onClick:function(){return P()},disabled:k()},t.SUBMIT_BUTTON_LABEL)))))))};k.propTypes={copy:p.a.object.isRequired};t.default=k}}]);