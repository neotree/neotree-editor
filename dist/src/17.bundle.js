(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{367:function(e,t,n){"use strict";var a=n(1),r=n(53),i=n(3),o=n(0),c=n(4),l=(n(2),n(202)),s=n(5),u=n(32),d=n(64),m=n(54),f=n(14),p=o.forwardRef((function(e,t){var n=e.children,s=e.classes,p=e.className,E=e.collapsedHeight,v=void 0===E?"0px":E,g=e.component,h=void 0===g?"div":g,b=e.disableStrictModeCompat,y=void 0!==b&&b,w=e.in,O=e.onEnter,j=e.onEntered,x=e.onEntering,A=e.onExit,R=e.onExited,I=e.onExiting,T=e.style,D=e.timeout,S=void 0===D?u.b.standard:D,_=e.TransitionComponent,L=void 0===_?l.a:_,P=Object(i.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),k=Object(m.a)(),C=o.useRef(),N=o.useRef(null),H=o.useRef(),B="number"==typeof v?"".concat(v,"px"):v;o.useEffect((function(){return function(){clearTimeout(C.current)}}),[]);var F=k.unstable_strictMode&&!y,M=o.useRef(null),W=Object(f.a)(t,F?M:void 0),U=function(e){return function(t,n){if(e){var a=F?[M.current,t]:[t,n],i=Object(r.a)(a,2),o=i[0],c=i[1];void 0===c?e(o):e(o,c)}}},z=U((function(e,t){e.style.height=B,O&&O(e,t)})),q=U((function(e,t){var n=N.current?N.current.clientHeight:0,a=Object(d.a)({style:T,timeout:S},{mode:"enter"}).duration;if("auto"===S){var r=k.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(r,"ms"),H.current=r}else e.style.transitionDuration="string"==typeof a?a:"".concat(a,"ms");e.style.height="".concat(n,"px"),x&&x(e,t)})),J=U((function(e,t){e.style.height="auto",j&&j(e,t)})),V=U((function(e){var t=N.current?N.current.clientHeight:0;e.style.height="".concat(t,"px"),A&&A(e)})),X=U(R),Y=U((function(e){var t=N.current?N.current.clientHeight:0,n=Object(d.a)({style:T,timeout:S},{mode:"exit"}).duration;if("auto"===S){var a=k.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),H.current=a}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=B,I&&I(e)}));return o.createElement(L,Object(a.a)({in:w,onEnter:z,onEntered:J,onEntering:q,onExit:V,onExited:X,onExiting:Y,addEndListener:function(e,t){var n=F?e:t;"auto"===S&&(C.current=setTimeout(n,H.current||0))},nodeRef:F?M:void 0,timeout:"auto"===S?null:S},P),(function(e,t){return o.createElement(h,Object(a.a)({className:Object(c.a)(s.container,p,{entered:s.entered,exited:!w&&"0px"===B&&s.hidden}[e]),style:Object(a.a)({minHeight:B},T),ref:W},t),o.createElement("div",{className:s.wrapper,ref:N},o.createElement("div",{className:s.wrapperInner},n)))}))}));p.muiSupportAuto=!0,t.a=Object(s.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(p)},419:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(2),o=n.n(i),c=n(367),l=n(416),s=n(129),u=function(e){var t=e.children,n=e.events;return n=n||{},r.a.useEffect((function(){var e=function(e){return Object.keys(n).forEach((function(t){var a=n[t];a&&window[e](t,a,!0)}))};return e("addEventListener"),function(){e("removeEventListener")}})),r.a.createElement(r.a.Fragment,null,t)};u.propTypes={children:o.a.any,events:o.a.object};var d=u,m=n(210),f=n(128),p=n(24),E=n(10),v=n.n(E),g=n(12),h=n.n(g),b=n(13),y=n(329),w=n(98);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=Object(b.g)(),n=Object(y.b)(),a=function(e,t){var n=t.state,a=n.loading,r=n.emailRegistration,i=n.form,o=i.email,c=i.password,l=i.password2;return function(){var e=!a&&o;if(r.userId){var t=c&&(!!r.activated||c===l);e=e&&t}return!e}}(0,n),i=function(e,t){var n=t.disableAction,a=t.setState,r=t.state,i=r.emailRegistration,o=r.form,c=o.email,l=o.password,s=o.password2;return function(){n(e)||(a({loading:!0,authenticateError:null}),Object(w.a)(e,{id:i.userId,username:c,password:l,password2:s}).then((function(){window.location.href="/"})).catch((function(e){a({loading:!1,authenticateError:e})})))}}(e,j(j({},n),{},{disableAction:a})),o=n.state.emailRegistration;return r.a.useEffect((function(){o.userId&&!o.activated?t.push("/sign-up"):t.push("/sign-in")}),[o]),j(j({},n),{},{disableAction:a,onAuthenticate:i,checkEmailRegistration:function(){return!a()&&n.checkEmailRegistration(n)}})},A=Object(p.d)((function(){return{actionsWrap:{textAlign:"right"},actions:{display:"flex",justifyContent:"flex-end",alignItems:"center"}}})),R=function(e){var t=e.copy,n=e.authType,a=A(),i=x(n),o=i.setForm,u=i.disableAction,p=i.onAuthenticate,E=i.checkEmailRegistration,g=i.state,h=g.loading,b=g.authenticateError,y=g.emailRegistration,w=g.form,O=w.email,j=w.password,R=w.password2,I=y.errors||b,T=function(e){return r.a.createElement("div",{className:v()(a.actionsWrap)},!!I&&I.map((function(e,t){var n=t;return r.a.createElement("div",{key:n},r.a.createElement(f.a,{color:"error",variant:"caption"},e))})),r.a.createElement("div",{className:v()(a.actions)},e))},D=h?r.a.createElement(m.a,{color:"secondary",size:20}):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{events:{keyup:function(e){if(13===e.keyCode)return y.userId?void p(n):E(n)}}},r.a.createElement("div",null,r.a.createElement(l.a,{fullWidth:!0,variant:"outlined",type:"email",name:"email",value:O||"",label:t.EMAIL_ADDRESS_INPUT_LABEL,onChange:function(e){return o({email:e.target.value})}})),r.a.createElement("br",null),r.a.createElement(c.a,{in:!y.userId},T(r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{disableElevation:!0,size:"large",color:"primary",variant:"contained",endIcon:D,onClick:function(){return E(n)},disabled:u(n)},t.VERIFY_EMAIL_ADDRESS_BUTTON_TEXT)))),r.a.createElement(c.a,{in:!!y.userId},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(l.a,{fullWidth:!0,variant:"outlined",type:"password",name:"password",value:j||"",label:t.PASSWORD_INPUT_LABEL,onChange:function(e){return o({password:e.target.value})}})),r.a.createElement("br",null),"sign-up"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(l.a,{fullWidth:!0,variant:"outlined",type:"password",name:"password2",value:R||"",label:t.PASSWORD_INPUT_LABEL,onChange:function(e){return o({password2:e.target.value})}})),r.a.createElement("br",null)),T(r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{disableElevation:!0,size:"large",color:"primary",variant:"contained",endIcon:D,onClick:function(){return p()},disabled:u(n)},t.SUBMIT_BUTTON_LABEL)))))))};R.propTypes={copy:o.a.object.isRequired,authType:o.a.oneOf(["sign-in","sign-up"]).isRequired};t.default=R}}]);