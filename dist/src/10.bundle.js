(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{267:function(e,t,n){"use strict";var a=n(37),r=n(146);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(0)),c=(0,a(n(147)).default)(o.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=c},269:function(e,t,n){"use strict";var a=n(14),r=n.n(a),o=n(15),c=n.n(o),l=n(25),i=n.n(l),s=n(0),u=n.n(s),d=n(4),f=n.n(d),m=n(383),p=n(345),g=n(346),b=n(256),y=n(348),h=n(349),v=n(142),E=n(362),w=n(382),k=n(17),O=n.n(k),x=n(10),j=n.n(x),S=n(286),C=n.n(S),K=n(347),N=n(272),R=n(264),I=n.n(R),P=n(254),D=n(287),F=n.n(D),T=n(380),z=Object(N.c)((function(){return u.a.createElement("div",null,u.a.createElement(T.a,{title:"Drag to reposition"},u.a.createElement(P.a,{style:{cursor:"move"}},u.a.createElement(F.a,null))))})),A=Object(N.b)((function(e){var t=e.row,n=e.rowIndex,a=e.selectable,r=e.classes,o=e.selected,l=e.setSelected,i=e.displayFields,s=e.action,d=e.sortable;return u.a.createElement(p.a,{className:j()(r.dataItemRow,{selected:o.map((function(e){return e.rowIndex})).includes(n)})},a&&u.a.createElement(g.a,{padding:"none"},u.a.createElement(E.a,{checked:o.map((function(e){return e.rowIndex})).includes(n),onChange:function(){return l((function(e){return e.map((function(e){return e.rowIndex})).includes(n)?e.filter((function(e){return e.rowIndex!==n})):[].concat(I()(e),[{row:t,rowIndex:n}])}))}})),d&&u.a.createElement(g.a,{padding:"none"},u.a.createElement(z,null)),i.map((function(e,a){var r=e.render?e.render({row:t,rowIndex:n,column:e.key,columnIndex:a}):t[e.key];return u.a.createElement(g.a,c()({},e.cellProps,{key:"".concat(n).concat(e.key).concat(a)}),r)})),s?u.a.createElement(g.a,{align:"right",padding:"none"},s):null)})),q=Object(N.a)((function(e){var t=e.rows,n=e.sortable,a=e.classes,r=e.selected,o=e.selectable,c=e.setSelected,l=e.displayFields,i=e.renderRowAction,s=e.filter;return u.a.createElement(K.a,null,t.map((function(e,t){var d=t;return s&&!s(e)?null:u.a.createElement(A,{key:"".concat(d).concat(t),row:e,sortable:n,index:t,rowIndex:t,classes:a,selectable:o,action:i?i(e,t)||u.a.createElement(u.a.Fragment,null):null,displayFields:l,selected:r,setSelected:c})})))}));function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=O()((function(e){return{table:{minWidth:800},headerWrap:{position:"relative",height:60},header:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",boxSizing:"border-box",padding:e.spacing()},dataItemRow:{"&:hover, &.selected":{backgroundColor:e.palette.action.hover}}}}));function V(e){var t=e.noDataMsg,n=e.title,a=e.selectable,r=e.renderRowAction,o=e.data,l=e.onSortData,s=e.displayFields,d=e.renderHeaderActions,f=e.filter;a=!1!==a;var k=W(),O=u.a.useState([]),x=i()(O,2),S=x[0],K=x[1],N=u.a.useState(o),R=i()(N,2),I=R[0],P=R[1];return u.a.useEffect((function(){JSON.stringify(I)!==JSON.stringify(o)&&P(o)}),[o]),u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,{square:!0,elevation:0},u.a.createElement("div",{className:j()(k.headerWrap)},u.a.createElement("div",{className:j()(k.header)},u.a.createElement(v.a,{variant:"h6"},n),u.a.createElement("div",{style:{marginLeft:"auto"}}),d&&d({selected:S}))),u.a.createElement(w.a,null),I.length?u.a.createElement(m.a,{component:b.a},u.a.createElement(y.a,{className:j()(k.table)},u.a.createElement(h.a,null,u.a.createElement(p.a,null,a&&u.a.createElement(g.a,{padding:"none"},u.a.createElement(E.a,{indeterminate:S.length>0&&S.length<I.length,checked:I.length>0&&S.length===I.length,onChange:function(){return K((function(e){return e.length<I.length?I.map((function(e,t){return{row:e,rowIndex:t}})):[]}))}})),!!l&&u.a.createElement(g.a,null),s.map((function(e,t){return u.a.createElement(g.a,c()({},e.cellProps,{key:"".concat(e.key).concat(t)}),u.a.createElement("b",null,e.label))})),r?u.a.createElement(g.a,{align:"right"},u.a.createElement("b",null,"Action")):null)),u.a.createElement(q,{rows:I,filter:f,selectable:a,renderRowAction:r,classes:k,displayFields:s,selected:S,setSelected:K,useDragHandle:!0,sortable:!!l,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,a=C()(I,{$splice:[[t,1],[n,0,I[t]]]}).map((function(e,t){return J(J({},e),{},{position:t+1})}));P(a),l(a)}}))):u.a.createElement("div",{style:{textAlign:"center",padding:25}},u.a.createElement(v.a,{color:"textSecondary"},t||"No data"))))}V.propTypes={noDataMsg:f.a.string,selectable:f.a.bool,renderRowAction:f.a.func,title:f.a.string.isRequired,displayFields:f.a.array.isRequired,renderHeaderActions:f.a.func,onSortData:f.a.func,data:f.a.array.isRequired,filter:f.a.func};t.a=V},307:function(e,t,n){"use strict";var a=n(15),r=n.n(a),o=n(16),c=n.n(o),l=n(0),i=n.n(l),s=n(18),u=n(4),d=n.n(u),f=n(10),m=n.n(f),p=n(17),g=["className"],b=n.n(p)()((function(){return{root:{position:"fixed",bottom:20,right:20,zIndex:10}}})),y=i.a.forwardRef((function(e,t){var n=e.className,a=c()(e,g),o=b();return i.a.createElement(i.a.Fragment,null,Object(s.createPortal)(i.a.createElement("div",r()({},a,{ref:t,className:m()(n,o.root)})),document.body))}));y.propTypes={className:d.a.string},t.a=y},310:function(e,t,n){"use strict";var a=n(7),r=n(1),o=n(0),c=n(9),l=n(11),i=n(99),s=n(13),u=o.forwardRef((function(e,t){var n=e.children,l=e.classes,u=e.className,d=e.color,f=void 0===d?"default":d,m=e.component,p=void 0===m?"button":m,g=e.disabled,b=void 0!==g&&g,y=e.disableFocusRipple,h=void 0!==y&&y,v=e.focusVisibleClassName,E=e.size,w=void 0===E?"large":E,k=e.variant,O=void 0===k?"circular":k,x=Object(a.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return o.createElement(i.a,Object(r.a)({className:Object(c.a)(l.root,u,"large"!==w&&l["size".concat(Object(s.a)(w))],b&&l.disabled,"extended"===O&&l.extended,{primary:l.primary,secondary:l.secondary,inherit:l.colorInherit}[f]),component:p,disabled:b,focusRipple:!h,focusVisibleClassName:Object(c.a)(l.focusVisible,v),ref:t},x),o.createElement("span",{className:l.label},n))}));t.a=Object(l.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(u)},331:function(e,t,n){"use strict";var a=n(45),r=n.n(a),o=n(15),c=n.n(o),l=n(25),i=n.n(l),s=n(16),u=n.n(s),d=n(34),f=n.n(d),m=n(0),p=n.n(m),g=n(4),b=n.n(g),y=n(107),h=n(60),v=["children","configKeys","onClick"],E=p.a.forwardRef((function(e,t){var n=e.children,a=e.configKeys,o=e.onClick,l=u()(e,v),s=p.a.useState(!1),d=i()(s,2),m=d[0],g=d[1],b=a.length>1,E=Object(y.a)(),w=i()(E,2),k=w[0],O=w[1];return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",c()({},l,{ref:t,onClick:function(e){O(),o&&o(e)}}),n),k({title:"Delete config key".concat(b?"s":""),message:"Are you sure you want to delete config key".concat(b?"s":"","?"),onConfirm:function(){r()(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,fetch("/delete-config-keys",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({configKeys:a})});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,(r=n.errors)&&r.length?alert(JSON.stringify(r)):window.location.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0.message);case 15:g(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()}}),m?p.a.createElement(h.a,null):null)}));E.propTypes={onClick:b.a.func,children:b.a.node,configKeys:b.a.array.isRequired},t.a=E},332:function(e,t,n){"use strict";var a=n(45),r=n.n(a),o=n(15),c=n.n(o),l=n(25),i=n.n(l),s=n(16),u=n.n(s),d=n(34),f=n.n(d),m=n(0),p=n.n(m),g=n(4),b=n.n(g),y=n(60),h=n(107),v=["children","configKeys","onClick"],E=p.a.forwardRef((function(e,t){var n=e.children,a=e.configKeys,o=e.onClick,l=u()(e,v),s=p.a.useState(!1),d=i()(s,2),m=d[0],g=d[1],b=Object(h.a)(),E=i()(b,2),w=E[0],k=E[1],O=a.length>1;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",c()({},l,{ref:t,onClick:function(e){k(),o&&o(e)}}),n),w({title:"Duplicate config key".concat(O?"s":""),message:"Are you sure you want to duplicate config key".concat(O?"s":"","?"),onConfirm:function(){r()(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,fetch("/duplicate-config-keys",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({configKeys:a})});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,(r=n.errors)&&r.length?alert(JSON.stringify(r)):window.location.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0.message);case 15:g(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))()}}),m&&p.a.createElement(y.a,null))}));E.propTypes={onClick:b.a.func,children:b.a.node,configKeys:b.a.array.isRequired},t.a=E},333:function(e,t,n){"use strict";var a=n(15),r=n.n(a),o=n(45),c=n.n(o),l=n(14),i=n.n(l),s=n(25),u=n.n(s),d=n(16),f=n.n(d),m=n(34),p=n.n(m),g=n(0),b=n.n(g),y=n(4),h=n.n(y),v=n(231),E=n(227),w=n(228),k=n(229),O=n(143),x=n(393),j=n(225),S=n(142),C=n(60),K=n(31),N=["children","onClick","configKey"];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=b.a.forwardRef((function(e,t){var n=e.children,a=e.onClick,o=e.configKey,l=f()(e,N),i=Object(K.d)().state.viewMode,s=b.a.useState(!1),d=u()(s,2),m=d[0],g=d[1],y=b.a.useState(!1),h=u()(y,2),R=h[0],P=h[1],D=b.a.useState(null),F=u()(D,2),T=F[0],z=F[1],A=b.a.useState(null),q=u()(A,2),M=q[0],J=q[1],W=I({},o),V=b.a.useState(W),H=u()(V,2),$=H[0],L=H[1],B=function(e){return L((function(t){return I(I({},t),"function"==typeof e?e(t):e)}))},_=b.a.useState(!1),G=u()(_,2),Q=G[0],U=G[1],X=b.a.useState(null),Y=u()(X,2),Z=(Y[0],Y[1]),ee=b.a.useCallback((function(){c()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.prev=1,e.next=4,fetch(o?"/update-config-key":"/create-config-key",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify($)});case 4:return t=e.sent,e.next=7,t.json();case 7:(t=e.sent).errors&&t.errors.length?alert(JSON.stringify(t.errors)):window.location.reload(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),Z(e.t0);case 14:U(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()}));return b.a.useEffect((function(){o&&B(o)}),[o]),b.a.useEffect((function(){B(W)}),[m]),b.a.useEffect((function(){var e=null;$.label||(e=I(I({},e),{},{label:"Label is required"})),$.configKey||(e=I(I({},e),{},{configKey:"Key is required"})),z(e||null),J(null)}),[$]),b.a.createElement(b.a.Fragment,null,b.a.createElement("div",r()({},l,{ref:t,onClick:function(e){g(!0),a&&a(e)}}),n),b.a.createElement(v.a,{open:m,maxWidth:"sm",fullWidth:!0,onClose:function(){return R?null:g(!1)}},b.a.createElement(E.a,null,o?"Edit":"Add"," config key"),b.a.createElement(w.a,null,b.a.createElement("div",null,b.a.createElement(x.a,{fullWidth:!0,required:!0,error:!!T&&!!T.label,value:$.configKey||"",label:"Key",onChange:function(e){return B({configKey:e.target.value})}})),b.a.createElement("br",null),b.a.createElement("div",null,b.a.createElement(x.a,{fullWidth:!0,required:!0,error:!!T&&!!T.configKey,value:$.label||"",label:"Label",onChange:function(e){return B({label:e.target.value})}})),b.a.createElement("br",null),b.a.createElement("div",null,b.a.createElement(x.a,{fullWidth:!0,value:$.summary||"",label:"Summary",onChange:function(e){return B({summary:e.target.value})}})),M?b.a.createElement("div",null,b.a.createElement("br",null),b.a.createElement(S.a,{variant:"caption",color:"error"},JSON.stringify(M))):null),b.a.createElement(k.a,null,R?b.a.createElement(O.a,null,b.a.createElement(j.a,{size:20})):b.a.createElement(b.a.Fragment,null,"view"===i&&b.a.createElement(S.a,{color:"error",variant:"caption"},"Can't save because you're in view mode"),b.a.createElement(O.a,{variant:"contained",color:"primary",disabled:"view"===i||!!T,onClick:function(){P(!0),ee(o,$,(function(e){P(!1),J(e),g(!1)}))}},"Save"),b.a.createElement(O.a,{onClick:function(){return g(!1)}},"Cancel")))),Q?b.a.createElement(C.a,null):null)}));P.propTypes={onClick:h.a.func,children:h.a.node,configKey:h.a.object},t.a=P},356:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),l=n(254),i=n(268),s=n.n(i),u=n(274),d=n.n(u),f=n(143),m=n(310),p=n(307),g=n(331),b=n(332),y=n(333);function h(e){var t=e.selected;return r.a.createElement(r.a.Fragment,null,t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{configKeys:t.map((function(e){return{configKeyId:e.row.configKeyId}}))},r.a.createElement(f.a,null,"Duplicate")),r.a.createElement(g.a,{configKeys:t.map((function(e){return{configKeyId:e.row.configKeyId}}))},r.a.createElement(l.a,null,r.a.createElement(d.a,null)))),r.a.createElement(y.a,null,r.a.createElement(l.a,null,r.a.createElement(s.a,null))),r.a.createElement(p.a,null,r.a.createElement(y.a,null,r.a.createElement(m.a,{color:"secondary"},r.a.createElement(s.a,null)))))}h.propTypes={selected:c.a.array.isRequired},t.default=function(e){return r.a.createElement(h,e)}},357:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n.n(a),o=n(0),c=n.n(o),l=n(4),i=n.n(l),s=n(254),u=n(267),d=n.n(u),f=n(366),m=n(259),p=n(142),g=n(31),b=n(331),y=n(332),h=n(333);function v(e){var t=e.row,n=Object(g.d)().state.viewMode,a=c.a.useState(null),o=r()(a,2),l=o[0],i=o[1],u=function(){return i(null)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{onClick:function(e){return i(e.currentTarget)}},c.a.createElement(d.a,null)),c.a.createElement(f.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:u},c.a.createElement(m.a,{onClick:u,configKey:t,component:h.a},"view"===n?"View":"Edit"),"view"===n?null:c.a.createElement(m.a,{onClick:u,configKeys:[{id:t.id}],component:y.a},"Duplicate"),"view"===n?null:c.a.createElement(m.a,{onClick:u,configKeys:[{id:t.id}],component:b.a},c.a.createElement(p.a,{color:"error"},"Delete"))))}v.propTypes={row:i.a.object.isRequired,rowIndex:i.a.number.isRequired},t.default=function(e,t){return c.a.createElement(v,{row:e,rowIndex:t})}},401:function(e,t,n){"use strict";n.r(t);var a=n(45),r=n.n(a),o=n(25),c=n.n(o),l=n(34),i=n.n(l),s=n(0),u=n.n(s),d=n(31),f="Configuration",m=n(111),p=n(269);t.default=function(){var e=Object(d.d)().state.viewMode;Object(d.c)("configKeys"),Object(d.b)(f);var t=u.a.useState([]),a=c()(t,2),o=a[0],l=a[1],s=u.a.useState(!1),g=c()(s,2),b=g[0],y=g[1],h=u.a.useState(!1),v=c()(h,2),E=v[0],w=v[1];return u.a.useEffect((function(){r()(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,fetch("/get-config-keys");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,a=n.configKeys,l(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0.message);case 15:y(!0),w(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})))()}),[]),u.a.createElement(u.a.Fragment,null,b?u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,{noDataMsg:"No config keys",selectable:!1,title:f,data:o,renderHeaderActions:"view"===e?null:n(356).default,renderRowAction:n(357).default,displayFields:[{key:"configKey",label:"Key"},{key:"label",label:"Label"},{key:"summary",label:"Summary"}],onSortData:"view"===e?void 0:function(e){l(e),r()(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/update-config-keys",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({configKeys:e.map((function(e){return{id:e.id,position:e.position}}))})});case 3:return n=t.sent,t.next=6,n.json();case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()}})):null,E&&u.a.createElement(m.a,null))}}}]);