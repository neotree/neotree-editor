(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{141:function(e,t,n){"use strict";var a=n(10),o=n.n(a),i=n(3),l=n.n(i),r=n(124),c=n.n(r),u=n(16),s=n.n(u),f=n(0),g=n.n(f),d=n(2),p=n.n(d),y=n(132),m=n(41),h=function(e){var t=e.container,n=e.data,a=e.children,i=e.host,r=(e.actions,s()(e,["container","data","children","host","actions"])),u=Object(y.a)(),f=c()(u,3),d=(f[0],f[1]),p=f[2],m=p.copyToClipboard,h=s()(p,["copyToClipboard"]),C=t||g.a.Fragment;return g.a.createElement(C,null,g.a.createElement("div",o()({},r,{onClick:function(e){var t=l()({},n,{host:i});m(t),d(h.updateState({copiedData:t})),r.onClick&&r.onClick(e)}}),a))};h.propTypes={children:p.a.node,data:p.a.object.isRequired,onClick:p.a.func},t.a=Object(m.a)(h,function(e){return{host:e.$APP.host}})},146:function(e,t,n){"use strict";var a=n(3),o=n.n(a),i=n(124),l=n.n(i),r=n(16),c=n.n(r),u=n(0),s=n.n(u),f=n(2),g=n.n(f),d=n(132),p=n(41),y=n(12),m=function(e){var t=e.children,n=c()(e,["children"]),a=n.data,i=n.accept,r=n.onSuccess,u=n.onFailure,f=n.host,g=Object(d.a)(),p=l()(g,3),y=(p[0],p[1]),m=p[2],h=m.getClipboardData,C=m.clearClipboardData,E=c()(m,["getClipboardData","clearClipboardData"]),b=function(e){r&&r(e),C(),y(E.updateState({copiedData:null}))};return s.a.useEffect(function(){return h()&&y(E.updateState({copiedData:h()})),function(){y(E.updateState({destination:void 0,accept:void 0,onSuccess:void 0,onFailure:void 0}))}},[]),s.a.useEffect(function(){y(E.updateState({destination:o()({},a,{host:f}),accept:i,onSuccess:b,onFailure:function(e){return u&&u(e)}}))},[r,u,a,i]),t};m.propTypes={data:g.a.object.isRequired,accept:g.a.array.isRequired,children:g.a.node},t.a=Object(y.f)(Object(p.a)(m,function(e){return{host:e.$APP.host}}))},147:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(2),l=function(e){var t=e.children,n=e.options;n=n||{allScripts:!0,allConfigKeys:!0};var a="";return Object.keys(n).forEach(function(e,t){a+="".concat(e,"=").concat(n[e]),t<Object.keys(n).length-1&&(a+="&")}),o.a.createElement("a",{target:"_blank",style:{color:"inherit",textDecoration:"none",fontWeight:"inherit"},rel:"noopener noreferrer",href:"/export-data?".concat(a)},t||"Export")};l.propTypes={options:n.n(i).a.object},t.a=l},410:function(e,t,n){"use strict";n.r(t);var a=n(10),o=n.n(a),i=n(124),l=n.n(i),r=n(0),c=n.n(r),u=n(2),s=n.n(u),f=n(26),g=n(12),d=n(3),p=n.n(d),y=n(140),m={UPDATE:"UPDATE",updateState:function(e){return{type:"UPDATE",partialState:e}}},h={configKeys:[]},C=Object(y.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;if(t.type===m.UPDATE){var n=p()({},e);return p()({},e,{},"function"==typeof t.partialState?t.partialState(n):t.partialState)}return e},h,m),E=n(42),b=n(52),K=n(43),D=n.n(K),S=n(19),v=n.n(S),k=n(20),x=n.n(k),_=n(21),T=n.n(_),j=n(22),w=n.n(j),O=n(25),A=n.n(O),I=n(23),P=n.n(I),F=n(24),B=n.n(F),N=(n(41),n(120)),z=n(122),H=n(141),J=n(146),L=n(147),M=function(e){function t(e){var n;return v()(this,t),n=T()(this,w()(t).call(this,e)),B()(A()(n),"toggleClipboardPasteBox",function(){return n.setState({openClipboardPasteBox:!n.state.openClipboardPasteBox})}),B()(A()(n),"handleInputChange",function(e,t){return n.setState(p()({},n.state,B()({},e,t.target.value)))}),B()(A()(n),"handleCreateClick",function(){var e=n.props.updateState,t=n.state,a=t.configKey,o=t.label,i=t.summary;n.setState({creatingConfigKey:!0}),E.a.post("/create-config-key",{data:JSON.stringify({configKey:a,label:o,summary:i})}).then(function(t){var a=t.payload;n.setState({creatingConfigKey:!1}),e(function(e){return{configKeys:[a.configKey].concat(D()(e.configKeys))}}),n.closeCreateConfigKeyDialog()}).catch(function(e){return n.setState({createConfigKeyError:e,creatingConfigKey:!1})})}),B()(A()(n),"handleDeleteClick",function(){var e=n.props.updateState,t=n.state.configKeyIdForAction;n.setState({deletingConfigKey:!0}),E.a.post("/delete-config-key",{id:t}).then(function(){n.setState({deletingConfigKey:!1}),e(function(e){return{configKeys:e.configKeys.filter(function(e){return e.id!==t})}}),n.closeDeleteConfirmDialog()}).catch(function(e){return n.setState({deleteConfigKeyError:e,deletingConfigKey:!1})})}),B()(A()(n),"openCreateConfigKeyDialog",function(){return n.setState(p()({},n.state,{openCreateConfigKeyDialog:!0}))}),B()(A()(n),"closeCreateConfigKeyDialog",function(){return n.setState(p()({},n.state,{openCreateConfigKeyDialog:!1,configKey:"",label:"",summary:""}))}),B()(A()(n),"openDeleteConfirmDialog",function(e){return n.setState(p()({},n.state,{openDeleteConfirmDialog:!0,configKeyIdForAction:e}))}),B()(A()(n),"closeDeleteConfirmDialog",function(){return n.setState(p()({},n.state,{openDeleteConfirmDialog:!1,configKeyIdForAction:null,deleteConfigKeyError:null,createConfigKeyError:null}))}),B()(A()(n),"handleDuplicateKey",function(e){var t=n.props.updateState;n.setState({duplicatingConfigKey:!0}),E.a.post("/duplicate-config-key",{id:e}).then(function(a){var o=a.payload;n.setState({duplicatingConfigKey:!1}),t(function(t){var n=D()(t.configKeys),a=n.map(function(t,n){return t.id===e?n:null}).filter(function(e){return null!==e})[0]||0;return n.splice(a+1,0,o.configKey),{configKeys:n}})}).catch(function(e){return n.setState({duplicateConfigKeyError:e,duplicatingConfigKey:!1})})}),n.state={openDeleteConfirmDialog:!1,openCreateConfigKeyDialog:!1,configKeyIdForAction:"",configKey:"",label:"",summary:""},n}return P()(t,e),x()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.configKeys,a=t.updateState,o=this.state,i=o.configKey,l=o.label,r=o.summary,u=o.deletingConfigKey,s=o.deleteConfigKeyError,f=o.creatingConfigKey,g=o.createConfigKeyError,d={container:{display:"flex",boxSizing:"border-box",justifyContent:"center",height:"100%"},table:{width:"780px"},fab:{position:"fixed",bottom:24,right:24,zIndex:900}},y=c.a.createElement(N.Dialog,{open:this.state.openCreateConfigKeyDialog,style:{width:"540px"}},c.a.createElement(N.DialogContent,null,c.a.createElement(N.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Key",onChange:this.handleInputChange.bind(this,"configKey"),value:i}),c.a.createElement(N.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Label",onChange:this.handleInputChange.bind(this,"label"),value:l}),c.a.createElement(N.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Summary",onChange:this.handleInputChange.bind(this,"summary"),value:r}),g?c.a.createElement("div",{className:"ui__dangerColor ui__textAlign_center"},g.msg||g.message||JSON.stringify(g)):null),c.a.createElement(N.DialogActions,null,[f?null:c.a.createElement(N.Button,{type:"button",onClick:this.handleCreateClick,accent:!0},"Create"),f?null:c.a.createElement(N.Button,{type:"button",onClick:this.closeCreateConfigKeyDialog},"Cancel"),f?c.a.createElement(b.a,{size:25}):null].map(function(e,t){return e&&c.a.cloneElement(e,{key:t})}))),m=c.a.createElement(N.Dialog,{open:this.state.openDeleteConfirmDialog},[c.a.createElement(N.DialogContent,null,u?c.a.createElement(b.a,{className:"ui__flex ui__justifyContent_center"}):c.a.createElement("div",null,s?c.a.createElement("div",{className:"ui__dangerColor"},s.msg||s.message||JSON.stringify(s)):c.a.createElement("p",null,"Are you sure you want to delete this configuration key?"))),u?null:c.a.createElement(N.DialogActions,null,c.a.createElement(N.Button,{type:"button",onClick:this.handleDeleteClick,accent:!0},"Delete"),c.a.createElement(N.Button,{type:"button",onClick:this.closeDeleteConfirmDialog},"Cancel"))].map(function(e,t){return e&&c.a.cloneElement(e,{key:t})})),h=c.a.createElement("div",null,c.a.createElement(N.DataTable,{style:{width:"780px"},shadow:0,rows:n.map(function(e){return p()({id:e.id},e.data)})},c.a.createElement(N.TableHeader,{name:"configKey"},"Key"),c.a.createElement(N.TableHeader,{name:"label"},"Label"),c.a.createElement(N.TableHeader,{name:"summary"},"Summary"),c.a.createElement(N.TableHeader,{name:"id",style:{width:"32px"},cellFormatter:function(t,n,a){var o="more-user-action-menu".concat(a);return c.a.createElement("div",null,c.a.createElement("div",{style:{position:"relative",color:"#999999"},className:"ui__flex ui__alignItems_center"},"Â ",c.a.createElement("div",{id:o,className:"ui__cursor_pointer"},c.a.createElement(z.j,{style:{fontSize:"24px"}})),c.a.createElement(N.Menu,{target:o,align:"right"},c.a.createElement(N.MenuItem,{onClick:e.openDeleteConfirmDialog.bind(e,t)},"Delete"),c.a.createElement(N.MenuItem,{onClick:function(){return e.handleDuplicateKey(t)}},"Duplicate"),c.a.createElement(N.MenuItem,null,c.a.createElement(H.a,{data:{dataId:t,dataType:"configKey",dataTypeHyphenated:"config-key"}},c.a.createElement("span",null,"Copy"))),c.a.createElement(N.MenuItem,null,c.a.createElement(L.a,{options:{configKey:t}})))))}}))),C=c.a.createElement(N.Card,{shadow:0,style:{width:"420px"}},c.a.createElement(N.CardTitle,null,"There are no configuration keys"),c.a.createElement(N.CardText,null,c.a.createElement("span",null,"To create your first configuration key click on the orange icon at the bottom right of the window."),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null)));return c.a.createElement(J.a,{accept:["configKey"],data:{},onSuccess:function(e){var t=e.payload;return a(function(e){return{configKeys:[t.configKey].concat(D()(e.configKeys))}})}},c.a.createElement(N.FABButton,{style:d.fab,colored:!0,ripple:!0,onClick:this.openCreateConfigKeyDialog},c.a.createElement(z.a,{style:{fontSize:"24px"}})),c.a.createElement("div",{style:d.container},n&&n.length>0?h:C),y,m)}}]),t}(r.Component),U=function(e){var t=Object(r.useState)(!1),n=l()(t,2),a=n[0],i=n[1],u=Object(r.useState)(null),s=l()(u,2),f=(s[0],s[1]),g=C(),d=l()(g,3),p=d[0].configKeys,y=d[1],m=d[2];return Object(r.useEffect)(function(){i(!0),E.a.get("/get-config-keys").then(function(e){var t=e.payload;i(!1),y(m.updateState({configKeys:t.configKeys||[]}))}).catch(function(e){i(!1),f(e)})},[]),c.a.createElement("div",null,!p.length&&a&&c.a.createElement(b.a,{className:"ui__flex ui__justifyContent_center"}),!p.length&&a?null:c.a.createElement(M,o()({},e,{configKeys:p,updateState:function(e){return y(m.updateState(e))}})))};U.propTypes={match:s.a.object};t.default=Object(f.hot)(Object(g.f)(U))}}]);