(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{310:function(e,t,n){"use strict";var a=n(11),r=n.n(a),o=n(16),i=n.n(o),c=n(18),l=n.n(c),u=n(19),s=n.n(u),d=n(20),p=n.n(d),h=n(21),m=n.n(h),f=n(22),g=n.n(f),b=n(0),E=n.n(b),C=n(2),D=n.n(C),j=n(12),y=n(25),O=n(42),w=function(e){function t(){return l()(this,t),p()(this,m()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.redirectToIfNotAuthenticated,n=e.authenticatedUser,a=e.history;t&&!n&&a.push(t)}},{key:"render",value:function(){var e=this.props,t=e.Component,n=e.authenticatedUser,a=i()(e,["Component","authenticatedUser"]);return n?E.a.createElement(t,r()({},a,{authenticatedUser:n})):null}}]),t}(E.a.Component);w.propTypes={history:D.a.object,authenticatedUser:D.a.object,Component:D.a.oneOfType([D.a.object,D.a.func]).isRequired,redirectToIfNotAuthenticated:D.a.string};var T=Object(y.hot)(Object(j.f)(Object(O.a)(w,function(e){return{authenticatedUser:e.appStatus.authenticatedUser}})));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/auth/sign-in";return function(n){return E.a.createElement(T,r()({},n,{Component:e,redirectToIfNotAuthenticated:t}))}}},412:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Dashboard",function(){return F});var a=n(11),r=n.n(a),o=n(3),i=n.n(o),c=n(18),l=n.n(c),u=n(19),s=n.n(u),d=n(20),p=n.n(d),h=n(21),m=n.n(h),f=n(24),g=n.n(f),b=n(22),E=n.n(b),C=n(23),D=n.n(C),j=n(0),y=n.n(j),O=n(2),w=n.n(O),T=n(27),v=n(25),k=n(35),x=n(12),L=n(42),S=n(310),I=n(125),U=n(29),A=Object(U.a)(function(){return n.e(8).then(n.bind(null,410))}),M=Object(U.a)(function(){return n.e(10).then(n.bind(null,409))}),N=Object(U.a)(function(){return n.e(7).then(n.bind(null,407))}),P=Object(U.a)(function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,404))}),R=Object(U.a)(function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,405))}),q=Object(U.a)(function(){return n.e(11).then(n.bind(null,408))}),B=Object(U.a)(function(){return n.e(5).then(n.bind(null,406))}),F=function(t){function n(t){var a;return l()(this,n),a=p()(this,m()(n).call(this,t)),D()(g()(a),"getChildContext",function(){return{setToolbarTitle:a.setToolbarTitle}}),D()(g()(a),"setToolbarTitle",function(e){return a.setState(i()({},a.state,{toolbarTitle:e}))}),D()(g()(a),"handleLogoutClick",function(){var t=a.props.actions;a.setState({loggingOut:!0}),t.get("logout",{onResponse:function(){return a.setState({loggingOut:!1,openLogoutConfirmDialog:!1})},onFailure:function(e){return a.setState({logOutFailure:e})},onSuccess:function(){t.updateAppStatus({authenticatedUser:null}),e.window.location.href="/auth/sign-in"}})}),D()(g()(a),"openLogoutConfirmDialog",function(){return a.setState({openLogoutConfirmDialog:!0})}),D()(g()(a),"closeLogoutConfirmDialog",function(){return a.setState({openLogoutConfirmDialog:!1})}),D()(g()(a),"toggleDrawer",function(){var e=Object(T.findDOMNode)(a.refs.layout);e.classList.contains("is-small-screen")&&e.MaterialLayout.toggleDrawer()}),a.state={loggingOut:!1,toolbarTitle:"Dashboard",openLogoutConfirmDialog:!1},a}return E()(n,t),s()(n,[{key:"render",value:function(){var e=this,t=this.state.toolbarTitle,n={container:{height:"100%"},content:{backgroundColor:"#f0f0f0",padding:"48px"}};return y.a.createElement("div",{style:n.container},y.a.createElement(I.Layout,{ref:"layout",fixedHeader:!0,fixedDrawer:!0},y.a.createElement(I.Header,{title:t},y.a.createElement(I.IconButton,{name:"more_vert",id:"actionbar-menu"}),y.a.createElement(I.Menu,{target:"actionbar-menu",align:"right"},y.a.createElement(I.MenuItem,null,"Profile"),y.a.createElement(I.MenuItem,{onClick:this.openLogoutConfirmDialog},"Sign out"))),y.a.createElement(I.Drawer,{title:"Neo Tree"},y.a.createElement(I.Navigation,null,y.a.createElement(k.b,{onClick:this.toggleDrawer,to:"/dashboard/adminpassword"},"Admin Password"),y.a.createElement(k.b,{onClick:this.toggleDrawer,to:"/dashboard/configkeys"},"Configuration"),y.a.createElement(k.b,{onClick:this.toggleDrawer,to:"/dashboard/scripts"},"Scripts"),y.a.createElement(k.b,{onClick:this.toggleDrawer,to:"/dashboard/import-firebase"},"Import/Export"))),y.a.createElement(I.Content,{style:n.content},y.a.createElement(x.c,null,y.a.createElement(x.a,{exact:!0,path:"/dashboard/import-firebase",render:function(t){return y.a.createElement(B,r()({},e.props,t))}}),y.a.createElement(x.a,{exact:!0,path:"/dashboard",render:function(t){return y.a.createElement(q,r()({},e.props,t))}}),y.a.createElement(x.a,{exact:!0,path:"/dashboard/scripts",render:function(t){return y.a.createElement(q,r()({},e.props,t))}}),y.a.createElement(x.a,{exact:!0,path:"/dashboard/scripts/:scriptId",render:function(t){return y.a.createElement(R,r()({},e.props,t))}}),y.a.createElement(x.a,{exact:!0,path:"/dashboard/scripts/:scriptId/screens/:screenId",render:function(t){return y.a.createElement(P,r()({},e.props,t))}}),y.a.createElement(x.a,{exact:!0,path:"/dashboard/scripts/:scriptId/diagnosis/:diagnosisId",render:function(t){return y.a.createElement(N,r()({},e.props,t))}}),y.a.createElement(x.a,{exact:!0,path:"/dashboard/adminpassword",render:function(t){return y.a.createElement(A,r()({},e.props,t))}}),y.a.createElement(x.a,{exact:!0,path:"/dashboard/configkeys",render:function(t){return y.a.createElement(M,r()({},e.props,t))}}),y.a.createElement(x.a,{path:"*",render:function(t){return y.a.createElement(q,r()({},e.props,t))}})))),y.a.createElement(I.Dialog,{open:this.state.openLogoutConfirmDialog},y.a.createElement(I.DialogTitle,null,"Sign out"),y.a.createElement(I.DialogContent,null,y.a.createElement("p",null,"You are about to sign out. All unsaved changes will be lost.")),y.a.createElement(I.DialogActions,null,y.a.createElement(I.Button,{type:"button",onClick:this.handleLogoutClick,accent:!0},"Sign out"),y.a.createElement(I.Button,{type:"button",onClick:this.closeLogoutConfirmDialog},"Cancel"))))}}]),n}(y.a.Component);D()(F,"childContextTypes",{setToolbarTitle:w.a.func}),F.propTypes={actions:w.a.object,authenticatedUser:w.a.object.isRequired,history:w.a.object.isRequired},t.default=Object(v.hot)(Object(x.f)(Object(S.a)(Object(L.a)(F))))}.call(this,n(13))}}]);