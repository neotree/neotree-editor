(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{287:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(0),r=n.n(a),c=n(2),l=n.n(c),i=n(322),o=n(248),s=n(137),u=n(304),m=n.n(u),p=n(15);function f(e){var t=e.backLink,n=e.title,a=Object(p.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(i.a,{item:!0,xs:1,sm:1},r.a.createElement(o.a,{onClick:function(){return t?a.push(t):a.goBack()}},r.a.createElement(m.a,null))),r.a.createElement(i.a,{item:!0,xs:11,sm:11},r.a.createElement(s.a,{variant:"h5"},n))))}f.propTypes={title:l.a.node,backLink:l.a.string}},303:function(e,t,n){"use strict";var a=n(9),r=n.n(a),c=n(11),l=n.n(c),i=n(0),o=n.n(i),s=n(2),u=n.n(s),m=n(5),p=n.n(m),f=n(12),b=n.n(f),d=n(317),E=["className","color"],v=b()((function(e){return{backgroundColor:function(t){var n=t.color,a=e.palette[n]?e.palette[n].main:null;return a?{backgroundColor:a}:{}}}})),g=o.a.forwardRef((function(e,t){var n=e.className,a=e.color,c=l()(e,E),i=v({color:a});return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,r()({},c,{ref:t,className:p()(n,i.backgroundColor)})))}));g.propTypes={className:u.a.string},t.a=g},394:function(e,t,n){"use strict";n.r(t);var a=n(42),r=n.n(a),c=n(20),l=n.n(c),i=n(29),o=n.n(i),s=n(0),u=n.n(s),m=n(15),p=n(219),f=n(356),b=n(348),d=n(56),E=n(125),v=n(10),g=n.n(v),y=n(2),h=n.n(y),O=n(323),w=n(324),j=n(379),k=n(386),C=n(398),x=n(391),S=n(303),P=n(137),T=n(378),D=n(138),N=n(287),L=n(25);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){var t=e.script,n=Object(L.d)().state.viewMode,a=Object(m.g)(),c=u.a.useState(I({},t)),i=l()(c,2),s=i[0],p=i[1],f=function(e){return p((function(t){return I(I({},t),"function"==typeof e?e(t):e)}))},b=u.a.useState(!1),E=l()(b,2),v=E[0],g=E[1],y=u.a.useCallback((function(){r()(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,fetch(t?"/update-script":"/create-script",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(s)});case 4:return n=e.sent,e.next=7,n.json();case 7:if(!(n=e.sent).errors||!n.errors.length){e.next=10;break}return e.abrupt("return",alert(JSON.stringify(n.errors)));case 10:t?a.push("/scripts"):window.location.href="/scripts/".concat(n.script.script_id),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),alert("Ooops... ".concat(e.t0.message));case 16:g(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))()}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,null,u.a.createElement(w.a,null,u.a.createElement(N.a,{backLink:"/scripts",title:"".concat(t?"Edit":"Add"," script")}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(k.a,{fullWidth:!0,required:!0,error:!s.title,value:s.title||"",label:"Title",onChange:function(e){return f({title:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(k.a,{fullWidth:!0,value:s.printTitle||"",label:"Print title",onChange:function(e){return f({printTitle:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(k.a,{fullWidth:!0,value:s.description||"",label:"Description",onChange:function(e){return f({description:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(P.a,{variant:"button",color:"primary"},"Type"),u.a.createElement(S.a,{color:"primary"}),u.a.createElement("br",null),u.a.createElement(C.a,{name:"type",value:s.type||"",onChange:function(e){var t=e.target.value;f({type:t})}},[{name:"admission",label:"Admission"},{name:"discharge",label:"Discharge"},{name:"neolab",label:"NeoLab"}].map((function(e){return u.a.createElement(T.a,{key:e.name,value:e.name,control:u.a.createElement(x.a,null),label:e.label})})))),u.a.createElement(j.a,{style:{justifyContent:"flex-end"}},"view"===n&&u.a.createElement(P.a,{color:"error",variant:"caption"},"Can't save because you're in view mode"),u.a.createElement(D.a,{color:"primary",onClick:function(){return y()},disabled:"view"===n||!(s.title&&!v)},"Save"))),v?u.a.createElement(d.a,null):null)}J.propTypes={script:h.a.object};var A=J,W=function(){return u.a.createElement("div",{style:{margin:25,textAlign:"center"}},u.a.createElement(p.a,null))},q=Object(E.a)((function(){return Promise.all([n.e(2),n.e(10)]).then(n.bind(null,381))}),{LoaderComponent:W}),B=Object(E.a)((function(){return Promise.all([n.e(2),n.e(9)]).then(n.bind(null,382))}),{LoaderComponent:W});t.default=function(){var e=Object(m.g)(),t=Object(m.h)(),n=t.scriptId,a=t.scriptSection,c=u.a.useState(null),i=l()(c,2),s=i[0],p=i[1],E=u.a.useState(!1),v=l()(E,2),g=v[0],y=v[1],h=u.a.useState(!1),O=l()(h,2),w=O[0],j=O[1],k=u.a.useState(a||"screens"),C=l()(k,2),x=C[0],S=C[1];return u.a.useEffect((function(){r()(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),"new"===n){e.next=16;break}return e.prev=2,e.next=5,fetch("/get-script?scriptId=".concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,r=a.script,p(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),alert(e.t0.message);case 16:y(!0),j(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})))()}),[]),g?u.a.createElement(u.a.Fragment,null,u.a.createElement(A,{script:s}),u.a.createElement("br",null),s?u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,{centered:!0,value:x,indicatorColor:"primary",textColor:"primary",onChange:function(t,n){S(n),e.push("/scripts/".concat(s.scriptId,"/").concat(n))}},u.a.createElement(b.a,{value:"screens",label:"Screens"}),u.a.createElement(b.a,{value:"diagnoses",label:"Diagnoses"})),"screens"===x&&u.a.createElement(q,{script:s}),"diagnoses"===x&&u.a.createElement(B,{script:s})):null,w&&u.a.createElement(d.a,null)):u.a.createElement(d.a,null)}}}]);