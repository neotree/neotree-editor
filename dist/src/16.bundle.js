(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{202:function(e,t,n){"use strict";var r=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),l=(0,r(n(106)).default)(a.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=l},264:function(e,t,n){"use strict";var r=n(1),a=n(3),l=n(0),c=(n(2),n(4)),o=n(217),i=n(5),u=n(101),s=n(8),f=l.forwardRef((function(e,t){e.checked;var n=e.classes,i=e.className,f=e.control,b=e.disabled,d=(e.inputRef,e.label),m=e.labelPlacement,p=void 0===m?"end":m,O=(e.name,e.onChange,e.value,Object(a.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),g=Object(o.a)(),v=b;void 0===v&&void 0!==f.props.disabled&&(v=f.props.disabled),void 0===v&&g&&(v=g.disabled);var j={disabled:v};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===f.props[t]&&void 0!==e[t]&&(j[t]=e[t])})),l.createElement("label",Object(r.a)({className:Object(c.a)(n.root,i,"end"!==p&&n["labelPlacement".concat(Object(s.a)(p))],v&&n.disabled),ref:t},O),l.cloneElement(f,j),l.createElement(u.a,{component:"span",className:Object(c.a)(n.label,v&&n.disabled)},d))}));t.a=Object(i.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(f)},329:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(319),c=n(320),o=n(316),i=n(315),u=n(314),s=n(101),f=n(25),b=n(16),d=n.n(b),m=n(20),p=n.n(m),O=n(40);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.setState;return function(){t({loadingUsers:!0});var e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(y(y({loadUsersError:e},n),{},{usersInitialised:!0,loadingUsers:!1}))};(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(O.a)("/get-users",v({body:e},t))})().then((function(t){return e(t.errors,t)})).catch(e)}};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=a.a.createContext(null),S=function(){return a.a.useContext(w)},D=n(188),k=n.n(D),C=n(2),x=n.n(C),R=n(182),_=n(200),N=n.n(_),U=n(160),T=n(157),W=n(158),A=n(102),L=n(327),z=n(322),F=n(264),J=n(332);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t=e.updateState,n={email:""},l=Object(r.useState)(n),c=p()(l,2),o=c[0],i=c[1],u=function(e){return i(q(q({},o),e))},f=Object(r.useState)(!1),b=p()(f,2),d=b[0],m=b[1],g=Object(r.useState)(null),j=p()(g,2),y=j[0],h=j[1],E=Object(r.useState)(!1),P=p()(E,2),w=P[0],S=P[1],D=function(e){d||(u(n),S(e))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{size:"small",onClick:function(){return D(!0)}},a.a.createElement(N.a,null)),a.a.createElement(U.a,{open:w,onClose:function(){return D(!1)},fullWidth:!0,maxWidth:"sm"},a.a.createElement(T.a,null,a.a.createElement(z.a,{fullWidth:!0},a.a.createElement(L.a,{label:"User email",value:o.email,onChange:function(e){return u({email:e.target.value})}})),a.a.createElement(z.a,null,a.a.createElement(F.a,{label:"Admin user",control:a.a.createElement(J.a,{value:"",checked:1===o.role,onChange:function(){return u({role:1===o.role?0:1})}})}))),a.a.createElement(W.a,null,y?a.a.createElement(s.a,null,y.msg||y.message||JSON.stringify(y)):null,a.a.createElement(A.a,{color:"primary",onClick:function(){m(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(O.a)("/add-user",v({method:"POST",body:e},t))}(o).then((function(e){var n=e.user;m(!1),D(!1),t((function(e){var t=e.users;return{users:[].concat(k()(t),[n])}}))})).catch((function(e){m(!1),h(e)}))}},"Add user"))))};H.propTypes={updateState:x.a.func.isRequired};var I=H,V=n(202),$=n.n(V),B=function(e){var t=e.user,n=e.updateState,l=e.disabled,c=Object(r.useState)(!1),o=p()(c,2),i=o[0],u=o[1],f=Object(r.useState)(null),b=p()(f,2),d=b[0],m=b[1],g=Object(r.useState)(!1),j=p()(g,2),y=j[0],h=j[1],E=function(e){i||(m(null),h(e))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{size:"small",disabled:!0===l,onClick:function(){return E(!0)}},a.a.createElement($.a,null)),a.a.createElement(U.a,{open:y,onClose:function(){return E(!1)},fullWidth:!0,maxWidth:"sm"},a.a.createElement(T.a,null,a.a.createElement(s.a,null,"Are you sure you want to delete ",a.a.createElement("b",null,t.email),"?")),a.a.createElement(W.a,null,d?a.a.createElement(s.a,{variant:"caption",color:"error",style:{marginRight:"auto"}},d.msg||d.message||JSON.stringify(d)):null,a.a.createElement(A.a,{disabled:i,onClick:function(){return E(!1)}},"Cancel"),a.a.createElement(A.a,{disabled:i,color:"secondary",onClick:function(){u(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(O.a)("/delete-user",v({method:"POST",body:e},t))}({id:t.id}).then((function(){u(!1),E(!1),n((function(e){return{users:e.users.filter((function(e){return e.id!==t.id}))}}))})).catch((function(e){u(!1),m(e)}))}},i?"Deleting...":"Delete"))))};B.propTypes={user:x.a.object.isRequired,updateState:x.a.func.isRequired,disabled:x.a.bool};var G,K=B;t.default=(G=function(){var e=Object(f.c)().state.authenticatedUser,t=S(),n=t.state.users,r=t.setState;return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{variant:"h6",className:"ui__flex ui__alignItems_center"},a.a.createElement("span",null,"Users"),a.a.createElement(I,{updateState:r})),a.a.createElement(l.a,null,a.a.createElement(c.a,null,a.a.createElement(u.a,null,a.a.createElement(i.a,null,"Email"),a.a.createElement(i.a,null,"Action"))),a.a.createElement(o.a,null,n.map((function(t,n){return a.a.createElement(u.a,{key:"user-".concat(n)},a.a.createElement(i.a,null,t.email),a.a.createElement(i.a,null,a.a.createElement(K,{user:t,disabled:e.email===t.email,updateState:r})))})))))},function(e){var t=a.a.useState({users:[]}),n=p()(t,2),r=n[0],l=n[1],c=function(e){return l((function(t){return P(P({},t),"function"==typeof e?e(t):e)}))},o=h({setState:c});return a.a.useEffect((function(){o()}),[]),a.a.createElement(w.Provider,{value:{state:r,setState:c,_setState:l,getUsers:o}},a.a.createElement(G,e))})}}]);