(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{124:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var a=n(10),r=n.n(a),i=n(16),s=n.n(i),c=n(19),o=n.n(c),l=n(20),u=n.n(l),d=n(21),p=n.n(d),m=n(22),h=n.n(m),f=n(25),E=n.n(f),S=n(23),g=n.n(S),v=n(24),y=n.n(v),C=n(0),b=n.n(C),_=n(2),T=n.n(_),k=n(34),D=n.n(k),I=n(120),N=n(123),w=function(e){function t(){var e,n;o()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(r))),y()(E()(n),"handleLeftNavClick",function(){n.props.onLeftNavItemClicked&&n.props.onLeftNavItemClicked()}),n}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.hideSpacer,i=e.leftNavIcon,c=(e.onLeftNavItemClicked,e.title),o=(e.transparent,s()(e,["children","className","hideSpacer","leftNavIcon","onLeftNavItemClicked","title","transparent"])),l=D()(n,"mdl-toolbar__header","mdl-layout__header","mdl-layout__header--transparent"),u=D()("mdl-toolbar__header-row",{"mdl-toolbar__header-row-with-left-icon":i}),d=D()("mdl-toolbar__left-nav"),p=D()("mdl-toolbar__right-nav");return b.a.createElement("header",r()({className:l},o),i?b.a.createElement("div",{className:D()(d,"ui__cursor_pointer"),style:{fontSize:"24px"},onClick:this.handleLeftNavClick},b.a.createElement(N.b,null)):b.a.createElement("div",{style:{width:"24px"}}),b.a.createElement(I.HeaderRow,{className:u,title:c||"",hideSpacer:a},t?b.a.createElement(I.Navigation,{className:p},t):null))}}]),t}(C.Component);w.propTypes={className:T.a.string,title:T.a.node,leftNavIcon:T.a.string,onLeftNavItemClicked:T.a.func,hideSpacer:T.a.bool}},126:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return o});var a={COMPUTE:"compute",DATE_NOW:"date_now",DATE_NOON:"date_noon",DATE_MIDNIGHT:"date_midnight",EMPTY:"",UID:"uid"},r={BOOLEAN:"boolean",DATETIME:"datetime",DATE:"date",ID:"id",NUMBER:"number",PERIOD:"period",SET_ID:"set<id>",STRING:"string",TIME:"time",VOID:"void"},i={DATE:"date",DATETIME:"datetime",DROPDOWN:"dropdown",NUMBER:"number",PERIOD:"period",TEXT:"text",TIME:"time"},s={CHECKLIST:"checklist",FORM:"form",LIST:"list",MANAGEMENT:"management",MULTI_SELECT:"multi_select",PROGRESS:"progress",SINGLE_SELECT:"single_select",TIMER:"timer",YESNO:"yesno"},c={SIGN:"sign",RISK:"risk"},o=s.CHECKLIST},129:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n(10),r=n.n(a),i=n(16),s=n.n(i),c=n(19),o=n.n(c),l=n(20),u=n.n(l),d=n(21),p=n.n(d),m=n(22),h=n.n(m),f=n(23),E=n.n(f),S=n(0),g=n.n(S),v=function(e){function t(){return o()(this,t),p()(this,h()(t).apply(this,arguments))}return E()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=s()(e,["children"]);return g.a.createElement("div",r()({style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginTop:"16px",marginBottom:"8px"}},n),t)}}]),t}(S.Component)},138:function(e,t,n){"use strict";function a(e,t,n){if(n>=e.length)for(var a=n-e.length;1+a--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}n.d(t,"a",function(){return a})},156:function(e,t,n){"use strict";var a=n(10),r=n.n(a),i=n(16),s=n.n(i),c=n(19),o=n.n(c),l=n(20),u=n.n(l),d=n(21),p=n.n(d),m=n(22),h=n.n(m),f=n(23),E=n.n(f),S=n(24),g=n.n(S),v=n(0),y=n.n(v),C=n(2),b=n.n(C),_=n(34),T=n.n(_),k=function(e){function t(){return o()(this,t),p()(this,h()(t).apply(this,arguments))}return E()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=(e.name,e.numeric),a=e.children,i=(e.cellFormatter,s()(e,["className","name","numeric","children","cellFormatter"])),c=T()({"mdl-data-table__cell--non-numeric":!n},t);return y.a.createElement("th",r()({className:c},i),a)}}]),t}(v.Component);g()(k,"propTypes",{cellFormatter:b.a.func,className:b.a.string,name:b.a.string.isRequired,numeric:b.a.bool});var D=n(25),I=n.n(D),N=n(136),w=n.n(N),x=n(123),R=n(203),A=n(204),M=n.n(A),O=[2,3,4,6,8,16,24].map(function(e){return"mdl-shadow--".concat(e,"dp")}),j=function(e){function t(){var e,n;o()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(r))),g()(I()(n),"renderCell",function(e,t,n){var a=e.numeric?"":"mdl-data-table__cell--non-numeric";return y.a.createElement("td",{key:e.name,className:a},e.cellFormatter?e.cellFormatter(t[e.name],t,n):t[e.name])}),g()(I()(n),"sortAdapterFn",function(e){var t=e.oldIndex,a=e.newIndex,r=n.props.onSort;r&&r(t,a)}),n}return E()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.shadow,i=t.children,c=(t.onSort,t.rowKeyColumn,t.rows),o=s()(t,["className","shadow","children","onSort","rowKeyColumn","rows"]),l=void 0!==a,u=w()(a||0,0,O.length-1),d=T()("mdl-data-table",g()({},O[u],l),n),p=i?y.a.Children.toArray(i):null,m=Object(R.SortableHandle)(function(){return y.a.createElement(x.e,{style:{fontSize:"24px"},className:"ui__cursor_pointer"})}),h=Object(R.SortableElement)(function(t){var n=t.row,a=t.index;return y.a.createElement("tr",{className:n.className},y.a.createElement("td",null,y.a.createElement(m,null)),p.map(function(t){return e.renderCell(t.props,n,a)}))}),f=Object(R.SortableContainer)(function(e){var t=e.rows;return y.a.createElement("tbody",null,t.map(function(e,t){return y.a.createElement(h,{key:M.a.generate(),index:t,row:e})}))});return y.a.createElement("table",r()({className:d},o),y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("th",null," "),p)),y.a.createElement(f,{rows:c,onSortEnd:this.sortAdapterFn,useDragHandle:!0}))}}]),t}(v.Component);g()(j,"propTypes",{className:b.a.string,onSort:b.a.func,rowKeyColumn:b.a.string,rows:b.a.arrayOf(b.a.object).isRequired,shadow:b.a.number}),n.d(t,"b",function(){return k}),n.d(t,"a",function(){return j})},209:function(e,t){},226:function(e,t){},228:function(e,t){},396:function(e,t,n){"use strict";n.r(t);var a=n(19),r=n.n(a),i=n(20),s=n.n(i),c=n(21),o=n.n(c),l=n(22),u=n.n(l),d=n(25),p=n.n(d),m=n(23),h=n.n(m),f=n(24),E=n.n(f),S=n(0),g=n.n(S),v=n(2),y=n.n(v),C=n(26),b=n(12),_=n(41),T=n(52),k=n(3),D=n.n(k),I=n(120),N=n(129),w=n(124),x=n(42),R=n.n(x),A=n(123),M=n(156),O=n(138),j=n(126),L=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=o()(this,(e=u()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{openSelectScreenTypeDialog:!1,screens:[],addScreenType:j.a}),E()(p()(n),"handleAddScreenClick",function(){var e=n.props,t=e.actions,a=e.scriptId,r=e.history,i=n.state.addScreenType;n.setState({addingScreen:!1}),t.post("create-screen",{script_id:a,type:i,onResponse:function(){return n.setState({addingScreen:!1})},onFailure:function(e){return n.setState({addScreenError:e})},onSuccess:function(e){var i=e.payload;t.updateApiData({screen:i.screen}),r.push("/dashboard/scripts/".concat(a,"/screens/").concat(i.screen.id)),n.closeSelectScreenTypeDialog()}})}),E()(p()(n),"handleDeleteScreenClick",function(e){return function(){var t=n.props,a=t.actions,r=t.scriptId;n.setState({deletingScreen:!1}),a.post("delete-screen",{id:e,scriptId:r,onResponse:function(){return n.setState({deletingScreen:!1})},onFailure:function(e){return n.setState({deleteScreenError:e})},onSuccess:function(){a.updateApiData(function(t){return{screens:t.screens.filter(function(t){return t.id!==e})}})}})}}),E()(p()(n),"handleEditScreenClick",function(e){return function(){return n.props.onEditScreenClick(e)}}),E()(p()(n),"handleInputChange",function(e,t){return n.setState(E()({},e,t.target.value))}),E()(p()(n),"openSelectScreenTypeDialog",function(){return n.setState({openSelectScreenTypeDialog:!0})}),E()(p()(n),"closeSelectScreenTypeDialog",function(){return n.setState({openSelectScreenTypeDialog:!1,addScreenTitle:null,addScreenType:j.a})}),E()(p()(n),"swapScreenItems",function(e,t){var a=n.props.screens,r=Object(O.a)(R()(a),e,t),i=n.props.actions;n.setState({sortingScreens:!1}),i.post("update-screens",{returnUpdated:!0,screens:r.map(function(e,t){return{id:e.id,position:t}}),onResponse:function(){return n.setState({sortingScreens:!1})},onFailure:function(e){return n.setState({deleteScriptError:e})},onSuccess:function(e){var t=e.payload;return i.updateApiData({screens:t.screens})}})}),n}return h()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props.screens,n=this.state.addScreenType,a={screens:{marginTop:"24px",width:"780px"},table:{width:"100%"},emptyMessageContainer:{display:"flex",boxSizing:"border-box",alignItems:"center",justifyContent:"center",color:"#757575",fontSize:"16px"}},r=g.a.createElement(I.Dialog,{open:this.state.openSelectScreenTypeDialog,style:{width:"260px"}},g.a.createElement(I.DialogContent,null,g.a.createElement("p",null,"Select screen type:"),g.a.createElement(I.RadioGroup,{container:"div",childContainer:"div",name:"addScreenType",value:n||j.a,onChange:this.handleInputChange.bind(this,"addScreenType")},g.a.createElement(I.Radio,{value:j.e.CHECKLIST,ripple:!0},"Checklist"),g.a.createElement(I.Radio,{value:j.e.FORM,ripple:!0},"Form"),g.a.createElement(I.Radio,{value:j.e.MANAGEMENT,ripple:!0},"Management"),g.a.createElement(I.Radio,{value:j.e.MULTI_SELECT,ripple:!0},"Multiple choice list"),g.a.createElement(I.Radio,{value:j.e.LIST,ripple:!0},"Simple list"),g.a.createElement(I.Radio,{value:j.e.SINGLE_SELECT,ripple:!0},"Single choice list"),g.a.createElement(I.Radio,{value:j.e.PROGRESS,ripple:!0},"Progress"),g.a.createElement(I.Radio,{value:j.e.TIMER,ripple:!0},"Timer"),g.a.createElement(I.Radio,{value:j.e.YESNO,ripple:!0},"Yes/No"))),g.a.createElement(I.DialogActions,null,g.a.createElement(I.Button,{type:"button",onClick:this.handleAddScreenClick,accent:!0},"Create"),g.a.createElement(I.Button,{type:"button",onClick:this.closeSelectScreenTypeDialog},"Cancel")));return g.a.createElement("div",null,g.a.createElement(I.Card,{shadow:0,style:a.screens},g.a.createElement(w.a,{title:"Screens"},g.a.createElement("div",{className:"ui__flex ui__alignItems_center"},g.a.createElement("div",{className:"ui__cursor_pointer",style:{fontSize:"24px"},onClick:this.openSelectScreenTypeDialog},g.a.createElement(A.a,null)))),t&&t.length>0?g.a.createElement(M.a,{style:a.table,rows:t.map(function(e){return D()({id:e.id,position:e.position},e.data)}),rowKeyColumn:"position",onSort:this.swapScreenItems},g.a.createElement(M.b,{name:"position"},"Pos"),g.a.createElement(M.b,{name:"epicId"},"Epic"),g.a.createElement(M.b,{name:"storyId"},"Story"),g.a.createElement(M.b,{name:"refId"},"Ref."),g.a.createElement(M.b,{name:"title",style:{width:"100%"},cellFormatter:function(e,t){var n=t.title;return n?n.length<=30?n:"".concat(n.substring(0,29),"..."):""}},"Title"),g.a.createElement(M.b,{name:"id",style:{width:"48px"},cellFormatter:function(t){return g.a.createElement("div",{className:"ui__flex ui__alignItems_center",style:{color:"#999999"}},g.a.createElement("div",{className:"ui__cursor_pointer",onClick:e.handleEditScreenClick(t)},g.a.createElement(A.c,{style:{fontSize:"24px"}}))," ",g.a.createElement("div",{className:"ui__cursor_pointer",onClick:e.handleDeleteScreenClick(t)},g.a.createElement(A.d,{style:{fontSize:"24px"}})))}})):g.a.createElement(I.CardText,null,g.a.createElement("div",{style:a.emptyMessageContainer},g.a.createElement("div",null,"The list of screens is empty")))),r)}}]),t}(S.Component);L.propTypes={screens:y.a.array.isRequired,actions:y.a.object.isRequired,scriptId:y.a.string.isRequired,onEditScreenClick:y.a.func.isRequired};var F=L,q=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=o()(this,(e=u()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{}),n}return h()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.actions,a=t.scriptId;this.setState({loadingScreens:!0}),n.get("get-screens",{script_id:a,onResponse:function(){return e.setState({loadingScreens:!1})},onFailure:function(t){return e.setState({loadScreensError:t})},onSuccess:function(t){var a=t.payload;e.setState({screens:a.screens}),n.updateApiData({screens:a.screens})}})}},{key:"componentWillUnmount",value:function(){this.props.actions.updateApiData({screens:[]})}},{key:"render",value:function(){return this.state.loadingScreens?g.a.createElement(T.a,{className:"ui__flex ui__justifyContent_center"}):g.a.createElement(F,this.props)}}]),t}(g.a.Component);q.propTypes={actions:y.a.object};var z=Object(C.hot)(Object(b.f)(Object(_.a)(q,function(e){return{screens:e.apiData.screens||[]}}))),B=function(e){function t(e){var n;return r()(this,t),n=o()(this,u()(t).call(this,e)),E()(p()(n),"handleAddDiagnosisClick",function(){var e=n.props,t=e.history,a=e.scriptId;t.push("/dashboard/scripts/".concat(a,"/diagnosis/new"))}),E()(p()(n),"handleDeleteDiagnosisClick",function(e){return function(){var t=n.props,a=t.actions,r=t.scriptId;n.setState({deletingDiagnosis:!0}),a.post("delete-diagnosis",{id:e,scriptId:r,onResponse:function(){return n.setState({deletingDiagnosis:!1})},onFailure:function(e){return n.setState({deleteDiagnosisError:e})},onSuccess:function(){a.updateApiData(function(t){return{diagnoses:t.diagnoses.filter(function(t){return t.id!==e})}}),n.closeDeleteConfirmDialog()}})}}),E()(p()(n),"handleEditDiagnosisClick",function(e){return function(){return n.props.onEditDiagnosisClick(e)}}),E()(p()(n),"handleInputChange",function(e,t){return n.setState(D()({},n.state,E()({},e,t.target.value)))}),n.state={openDeleteConfirmDialog:!1,scriptIdForAction:null},n}return h()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props.diagnoses,n={diagnosis:{marginTop:"24px",width:"780px"},table:{width:"100%"},emptyMessageContainer:{display:"flex",boxSizing:"border-box",alignItems:"center",justifyContent:"center",color:"#757575",fontSize:"16px"}};return g.a.createElement("div",null,g.a.createElement(I.Card,{shadow:0,style:n.diagnosis},g.a.createElement(w.a,{title:"Diagnosis"},g.a.createElement("div",{className:"ui__cursor_pointer",style:{fontSize:"24px"},onClick:this.handleAddDiagnosisClick},g.a.createElement(A.a,null))),t.length>0?g.a.createElement(I.DataTable,{style:{width:"780px"},shadow:0,rows:t.map(function(e){return D()({id:e.id},e.data)})},g.a.createElement(I.TableHeader,{name:"name"},"Name"),g.a.createElement(I.TableHeader,{name:"description"},"Description"),g.a.createElement(I.TableHeader,{name:"id",style:{width:"48px"},cellFormatter:function(t){return g.a.createElement("div",{className:"ui__flex ui__alignItems_center",style:{color:"#999999"}},g.a.createElement("div",{className:"ui__cursor_pointer",onClick:e.handleEditDiagnosisClick(t)},g.a.createElement(A.c,{style:{fontSize:"24px"}}))," ",g.a.createElement("div",{className:"ui__cursor_pointer",onClick:e.handleDeleteDiagnosisClick(t)},g.a.createElement(A.d,{style:{fontSize:"24px"}})))}})):g.a.createElement(I.CardText,null,g.a.createElement("div",{style:n.emptyMessageContainer},g.a.createElement("div",null,"The list of screens is empty")))))}}]),t}(S.Component);B.propTypes={scriptId:y.a.string.isRequired,onEditDiagnosisClick:y.a.func.isRequired};var U=B,G=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=o()(this,(e=u()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{}),n}return h()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.actions,a=t.scriptId;this.setState({loadingDiagnoses:!0}),n.get("get-diagnoses",{script_id:a,onResponse:function(){return e.setState({loadingDiagnoses:!1})},onFailure:function(t){return e.setState({loadDiagnosesError:t})},onSuccess:function(t){var a=t.payload;e.setState({diagnoses:a.diagnoses}),n.updateApiData({diagnoses:a.diagnoses})}})}},{key:"componentWillUnmount",value:function(){this.props.actions.updateApiData({diagnoses:[]})}},{key:"render",value:function(){return this.state.loadingDiagnosess?g.a.createElement(T.a,{className:"ui__flex ui__justifyContent_center"}):g.a.createElement(U,this.props)}}]),t}(g.a.Component);G.propTypes={actions:y.a.object};var H=Object(C.hot)(Object(b.f)(Object(_.a)(G,function(e){return{diagnoses:e.apiData.diagnoses||[]}}))),P=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=o()(this,(e=u()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{activeTab:0,script:D()({title:"",description:""},(n.props.script||{}).data)}),E()(p()(n),"setScriptAsState",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props;e.script&&n.setState({script:e.script.data})}),E()(p()(n),"handleBackClick",function(){return n.props.history.goBack()}),E()(p()(n),"handleEditScreenClick",function(e){var t=n.props,a=t.scriptId;t.history.push("/dashboard/scripts/".concat(a,"/screens/").concat(e))}),E()(p()(n),"handleEditDiagnosisClick",function(e){var t=n.props,a=t.scriptId;t.history.push("/dashboard/scripts/".concat(a,"/diagnosis/").concat(e))}),E()(p()(n),"handleInputChange",function(e,t){return n.setState({script:D()({},n.state.script,E()({},e,t.target.value))})}),E()(p()(n),"handleSubmitClick",function(){var e=n.props,t=e.isEditMode,a=e.history,r=e.actions,i=e.scriptId,s=n.state.script;n.setState({savingScript:!0}),r.post(t?"update-script":"create-script",D()({},t?{id:i}:{},{data:JSON.stringify({title:s.title,description:s.description}),onResponse:function(){return n.setState({savingScript:!0})},onFailure:function(e){return n.setState({saveScriptError:e})},onSuccess:function(e){var t=e.payload;r.updateApiData({script:t.script}),a.goBack()}}))}),n}return h()(t,e),s()(t,[{key:"componentWillUpdate",value:function(e){e.script!==this.props.script&&this.setScriptAsState(e)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.isEditMode,r=n.scriptId,i=this.state,s=i.activeTab,c=i.script,o="".concat(a?"Edit":"Add"," script"),l=a?"Update":"Create",u={container:{display:"flex",boxSizing:"border-box",justifyContent:"center",height:"100%"},form:{width:"780px"},fieldLeft:{marginRight:"12px"},fieldRight:{marginLeft:"12px"}};switch(s){case 0:e=g.a.createElement(z,{scriptId:r,onEditScreenClick:this.handleEditScreenClick});break;case 1:e=g.a.createElement(H,{scriptId:r,onEditDiagnosisClick:this.handleEditDiagnosisClick});break;default:e=null}var d=g.a.createElement("div",{style:{marginTop:"24px"}},g.a.createElement(I.Tabs,{activeTab:s,onChange:function(e){return t.setState({activeTab:e})},ripple:!0},g.a.createElement(I.Tab,null,"Screens"),g.a.createElement(I.Tab,null,"Diagnosis")),g.a.createElement("section",null,e));return g.a.createElement("div",{style:u.container},g.a.createElement("div",null,g.a.createElement(I.Card,{shadow:0,style:u.form},g.a.createElement(w.a,{leftNavIcon:"arrow_back",title:o,onLeftNavItemClicked:this.handleBackClick}),g.a.createElement(I.CardText,null,g.a.createElement(I.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Title",required:!0,onChange:this.handleInputChange.bind(this,"title"),value:c.title}),g.a.createElement(I.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Description",value:c.description,onChange:this.handleInputChange.bind(this,"description")}),g.a.createElement(N.a,null,a?g.a.createElement(I.Button,{style:D()({},u.fieldLeft),onClick:this.handleSubmitClick.bind(this,"apply"),raised:!0,ripple:!0},"Apply"):null,g.a.createElement(I.Button,{style:D()({},u.fieldRight),onClick:this.handleSubmitClick.bind(this,"update"),raised:!0,accent:!0,ripple:!0},l)))),a?d:null))}}]),t}(S.Component);P.propTypes={actions:y.a.object.isRequired,history:y.a.object.isRequired,isEditMode:y.a.bool.isRequired,scriptId:y.a.string.isRequired,script:y.a.object},n.d(t,"ScriptEditor",function(){return W});var W=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=o()(this,(e=u()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{}),n}return h()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.scriptId,a=t.actions;n&&"new"!==n&&(this.setState({loadingScript:!0}),a.get("get-script",{id:n,onResponse:function(){return e.setState({loadingScript:!1})},onFailure:function(t){return e.setState({loadScriptError:t})},onSuccess:function(t){var n=t.payload;e.setState({script:n.script}),a.updateApiData({script:n.script})}}))}},{key:"componentWillUnmount",value:function(){this.props.actions.updateApiData({script:null})}},{key:"render",value:function(){return this.state.loadingScript?g.a.createElement(T.a,{className:"ui__flex ui__justifyContent_center"}):g.a.createElement(P,this.props)}}]),t}(g.a.Component);W.propTypes={actions:y.a.object,scriptId:y.a.string.isRequired,isEditMode:y.a.bool.isRequired};t.default=Object(C.hot)(Object(b.f)(Object(_.a)(W,function(e,t){return{script:e.apiData.script,scriptId:t.match.params.scriptId,isEditMode:!!e.apiData.script}})))}}]);