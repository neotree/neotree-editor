(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{299:function(e,t,n){"use strict";var a=n(11),r=n.n(a),o=n(16),i=n.n(o),c=n(18),l=n.n(c),u=n(19),s=n.n(u),d=n(20),h=n.n(d),p=n(21),m=n.n(p),f=n(22),g=n.n(f),b=n(0),E=n.n(b),C=n(2),v=n.n(C),w=n(12),y=n(26),j=n(42),D=function(e){function t(){return l()(this,t),h()(this,m()(t).apply(this,arguments))}return g()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.redirectToIfNotAuthenticated,n=e.authenticatedUser,a=e.history;t&&!n&&a.push(t)}},{key:"render",value:function(){var e=this.props,t=e.Component,n=e.authenticatedUser,a=i()(e,["Component","authenticatedUser"]);return n?E.a.createElement(t,r()({},a,{authenticatedUser:n})):null}}]),t}(E.a.Component);D.propTypes={history:v.a.object,authenticatedUser:v.a.object,Component:v.a.oneOfType([v.a.object,v.a.func]).isRequired,redirectToIfNotAuthenticated:v.a.string};var O=Object(y.hot)(Object(w.f)(Object(j.a)(D,function(e){return{authenticatedUser:e.$APP.authenticatedUser}})));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/auth/sign-in";return function(n){return E.a.createElement(O,r()({},n,{Component:e,redirectToIfNotAuthenticated:t}))}}},400:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Dashboard",function(){return J});var a=n(11),r=n.n(a),o=n(3),i=n.n(o),c=n(18),l=n.n(c),u=n(19),s=n.n(u),d=n(20),h=n.n(d),p=n(21),m=n.n(p),f=n(24),g=n.n(f),b=n(22),E=n.n(b),C=n(23),v=n.n(C),w=n(0),y=n.n(w),j=n(2),D=n.n(j),O=n(25),k=n(26),x=n(35),T=n(12),L=n(125),I=n(42),S=n(299),M=n(121),U=n(405),_=n(406),A=n(404),N=n(403),H=n(29),P=Object(H.a)(function(){return n.e(10).then(n.bind(null,382))}),z=Object(H.a)(function(){return n.e(7).then(n.bind(null,380))}),B=Object(H.a)(function(){return n.e(9).then(n.bind(null,381))}),R=Object(H.a)(function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,378))}),q=Object(H.a)(function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,377))}),W=Object(H.a)(function(){return n.e(6).then(n.bind(null,383))}),F=Object(H.a)(function(){return n.e(11).then(n.bind(null,379))}),J=function(t){function n(t){var a;return l()(this,n),a=h()(this,m()(n).call(this,t)),v()(g()(a),"getChildContext",function(){return{setToolbarTitle:a.setToolbarTitle}}),v()(g()(a),"setToolbarTitle",function(e){return a.setState(i()({},a.state,{toolbarTitle:e}))}),v()(g()(a),"handleLogoutClick",function(){var t=a.props.actions;a.setState({loggingOut:!0}),t.get("logout",{onResponse:function(){return a.setState({loggingOut:!1,openLogoutConfirmDialog:!1})},onFailure:function(e){return a.setState({logOutFailure:e})},onSuccess:function(){t.$updateApp({authenticatedUser:null}),e.window.location.href="/auth/sign-in"}})}),v()(g()(a),"openLogoutConfirmDialog",function(){return a.setState({openLogoutConfirmDialog:!0})}),v()(g()(a),"closeLogoutConfirmDialog",function(){return a.setState({openLogoutConfirmDialog:!1})}),v()(g()(a),"toggleDrawer",function(){var e=Object(O.findDOMNode)(a.refs.layout);e.classList.contains("is-small-screen")&&e.MaterialLayout.toggleDrawer()}),a.state={loggingOut:!1,toolbarTitle:"Dashboard",openLogoutConfirmDialog:!1},a}return E()(n,t),s()(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("dashboard-header");e.children[0].classList.add("ui__flex"),e.children[0].classList.add("ui__alignItems_center"),e.children[0].innerHTML='\n      <svg style="margin-top:-10px;" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" style="font-size: 24px;">\n        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>\n      </svg>\n    '}},{key:"render",value:function(){var e=this,t=this.state.toolbarTitle,n={container:{height:"100%"},content:{backgroundColor:"#f0f0f0",padding:"48px"}};return y.a.createElement("div",{style:n.container},y.a.createElement(M.Layout,{ref:"layout",fixedHeader:!0,fixedDrawer:!0},y.a.createElement(M.Header,{id:"dashboard-header",title:t},y.a.createElement("div",{className:"ui__cursor_pointer",id:"actionbar-menu"},y.a.createElement(L.i,{style:{fontSize:"24px"}})),y.a.createElement(M.Menu,{target:"actionbar-menu",align:"right"},y.a.createElement(M.MenuItem,null,"Profile"),y.a.createElement(M.MenuItem,{onClick:this.openLogoutConfirmDialog},"Sign out"))),y.a.createElement(M.Drawer,{title:"Neo Tree"},y.a.createElement(M.Navigation,null,y.a.createElement(x.b,{onClick:this.toggleDrawer,to:"/dashboard/adminpassword"},"Admin Password"),y.a.createElement(x.b,{onClick:this.toggleDrawer,to:"/dashboard/configkeys"},"Configuration"),y.a.createElement(x.b,{onClick:this.toggleDrawer,to:"/dashboard/scripts"},"Scripts"),y.a.createElement(x.b,{onClick:this.toggleDrawer,to:"/dashboard/import-firebase"},"Import firebase"))),y.a.createElement(M.Content,{style:n.content},y.a.createElement(T.c,null,y.a.createElement(T.a,{exact:!0,path:"/dashboard/import-firebase",render:function(t){return y.a.createElement(F,r()({},e.props,t))}}),y.a.createElement(T.a,{exact:!0,path:"/dashboard",render:function(t){return y.a.createElement(W,r()({},e.props,t))}}),y.a.createElement(T.a,{exact:!0,path:"/dashboard/scripts",render:function(t){return y.a.createElement(W,r()({},e.props,t))}}),y.a.createElement(T.a,{exact:!0,path:"/dashboard/scripts/:scriptId",render:function(t){return y.a.createElement(q,r()({},e.props,t))}}),y.a.createElement(T.a,{exact:!0,path:"/dashboard/scripts/:scriptId/screens/:screenId",render:function(t){return y.a.createElement(R,r()({},e.props,t))}}),y.a.createElement(T.a,{exact:!0,path:"/dashboard/scripts/:scriptId/diagnosis/:diagnosisId",render:function(t){return y.a.createElement(B,r()({},e.props,t))}}),y.a.createElement(T.a,{exact:!0,path:"/dashboard/adminpassword",render:function(t){return y.a.createElement(P,r()({},e.props,t))}}),y.a.createElement(T.a,{exact:!0,path:"/dashboard/configkeys",render:function(t){return y.a.createElement(z,r()({},e.props,t))}}),y.a.createElement(T.a,{path:"*",render:function(t){return y.a.createElement(W,r()({},e.props,t))}})))),y.a.createElement(U.a,{open:this.state.openLogoutConfirmDialog,onClose:function(){},fullWidth:!0,maxWidth:"sm"},y.a.createElement(_.a,null,"Sign out"),y.a.createElement(N.a,null,y.a.createElement("p",null,"You are about to sign out. All unsaved changes will be lost.")),y.a.createElement(A.a,null,y.a.createElement(M.Button,{type:"button",onClick:this.handleLogoutClick,accent:!0},"Sign out"),y.a.createElement(M.Button,{type:"button",onClick:this.closeLogoutConfirmDialog},"Cancel"))))}}]),n}(y.a.Component);v()(J,"childContextTypes",{setToolbarTitle:D.a.func}),J.propTypes={actions:D.a.object,authenticatedUser:D.a.object.isRequired,history:D.a.object.isRequired},t.default=Object(k.hot)(Object(T.f)(Object(S.a)(Object(I.a)(J))))}.call(this,n(13))}}]);