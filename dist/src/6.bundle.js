(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{201:function(e,t,n){"use strict";var a=n(6),r=n.n(a),l=n(13),c=n.n(l),o=n(20),i=n.n(o),u=n(0),s=n.n(u),m=n(2),d=n.n(m),f=n(324),p=n(320),b=n(321),g=n(188),v=n(325),h=n(326),y=n(105),E=n(338),O=n(323),j=n(40),w=n.n(j),x=n(10),k=n.n(x),S=n(220),P=n.n(S),C=n(322),D=n(200),I=n(195),R=n.n(I),T=n(189),F=n(221),N=n.n(F),W=n(318),M=Object(D.c)((function(){return s.a.createElement("div",null,s.a.createElement(W.a,{title:"Drag to reposition"},s.a.createElement(T.a,{style:{cursor:"move"}},s.a.createElement(N.a,null))))})),z=Object(D.b)((function(e){var t=e.row,n=e.rowIndex,a=e.selectable,l=e.classes,c=e.selected,o=e.setSelected,i=e.displayFields,u=e.action;return s.a.createElement(p.a,{className:k()(l.dataItemRow,{selected:c.map((function(e){return e.rowIndex})).includes(n)})},a&&s.a.createElement(b.a,{padding:"none"},s.a.createElement(E.a,{checked:c.map((function(e){return e.rowIndex})).includes(n),onChange:function(){return o((function(e){return e.map((function(e){return e.rowIndex})).includes(n)?e.filter((function(e){return e.rowIndex!==n})):[].concat(R()(e),[{row:t,rowIndex:n}])}))}})),s.a.createElement(b.a,{padding:"none"},s.a.createElement(M,null)),i.map((function(e,a){var l=e.render?e.render({row:t,rowIndex:n,column:e.key,columnIndex:a}):(t.data||t)[e.key];return s.a.createElement(b.a,r()({},e.cellProps,{key:"".concat(n).concat(e.key).concat(a)}),l)})),u?s.a.createElement(b.a,{align:"right",padding:"none"},u):null)})),$=Object(D.a)((function(e){var t=e.rows,n=e.classes,a=e.selected,r=e.selectable,l=e.setSelected,c=e.displayFields,o=e.renderRowAction;return s.a.createElement(C.a,null,t.map((function(e,t){var i=t;return s.a.createElement(z,{key:"".concat(i).concat(t),row:e,index:t,rowIndex:t,classes:n,selectable:r,action:o?o(e,t)||s.a.createElement(s.a.Fragment,null):null,displayFields:c,selected:a,setSelected:l})})))}));function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=w()((function(e){return{table:{minWidth:800},headerWrap:{position:"relative",height:60},header:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",boxSizing:"border-box",padding:e.spacing()},dataItemRow:{"&:hover, &.selected":{backgroundColor:e.palette.action.hover}}}}));function _(e){var t=e.noDataMsg,n=e.title,a=e.selectable,l=e.renderRowAction,c=e.data,o=e.onSortData,u=e.displayFields,m=e.renderHeaderActions;a=!1!==a;var d=q(),j=s.a.useState([]),w=i()(j,2),x=w[0],S=w[1],C=s.a.useState(c),D=i()(C,2),I=D[0],R=D[1];return s.a.useEffect((function(){R(c)}),[c]),s.a.useEffect((function(){if(JSON.stringify(I)!==JSON.stringify(c)){var e=I.map((function(e,t){return L(L({},e),{},{position:t+1})}));R(e),o&&o(e)}}),[I]),s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{square:!0,elevation:0},s.a.createElement("div",{className:k()(d.headerWrap)},s.a.createElement("div",{className:k()(d.header)},s.a.createElement(y.a,{variant:"h6"},n),s.a.createElement("div",{style:{marginLeft:"auto"}}),m&&m({selected:x}))),s.a.createElement(O.a,null),I.length?s.a.createElement(f.a,{component:g.a},s.a.createElement(v.a,{className:k()(d.table)},s.a.createElement(h.a,null,s.a.createElement(p.a,null,a&&s.a.createElement(b.a,{padding:"none"},s.a.createElement(E.a,{indeterminate:x.length>0&&x.length<I.length,checked:I.length>0&&x.length===I.length,onChange:function(){return S((function(e){return e.length<I.length?I.map((function(e,t){return{row:e,rowIndex:t}})):[]}))}})),s.a.createElement(b.a,null),u.map((function(e,t){return s.a.createElement(b.a,r()({},e.cellProps,{key:"".concat(e.key).concat(t)}),s.a.createElement("b",null,e.label))})),l?s.a.createElement(b.a,{align:"right"},s.a.createElement("b",null,"Action")):null)),s.a.createElement($,{rows:I,selectable:a,renderRowAction:l,classes:d,displayFields:u,selected:x,setSelected:S,useDragHandle:!0,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;return R((function(e){return P()(e,{$splice:[[t,1],[n,0,e[t]]]})}))}}))):s.a.createElement("div",{style:{textAlign:"center",padding:25}},s.a.createElement(y.a,{color:"textSecondary"},t||"No data"))))}_.propTypes={noDataMsg:d.a.string,selectable:d.a.bool,renderRowAction:d.a.func,title:d.a.string.isRequired,displayFields:d.a.array.isRequired,renderHeaderActions:d.a.func,onSortData:d.a.func,data:d.a.array.isRequired};t.a=_},206:function(e,t,n){"use strict";function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function a(){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];var c=this,o=function(){e.apply(c,r)};clearTimeout(t),t=setTimeout(o,n)}return a.clear=function(){clearTimeout(t)},a}n.d(t,"a",(function(){return a}))},207:function(e,t,n){"use strict";var a=n(27);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,a(n(110)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=l},210:function(e,t,n){"use strict";t.a={PAGE_TITLE:"Scripts"}},212:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return p}));var a=n(13),r=n.n(a),l=n(28);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/get-screens",o({body:e},t))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/update-screens",o({method:"POST",body:e},t))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/delete-screen",o({method:"POST",body:e},t))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/duplicate-screen",o({method:"POST",body:e},t))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/get-screen",o({body:e},t))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/update-screen",o({method:"POST",body:e},t))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/create-screen",o({method:"POST",body:e},t))}},226:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(0),r=n.n(a),l=n(2),c=n.n(l),o=n(246),i=n(189),u=n(105),s=n(227),m=n.n(s),d=n(12);function f(e){var t=e.title,n=Object(d.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(o.a,{item:!0,xs:1,sm:1},r.a.createElement(i.a,{onClick:function(){return n.goBack()}},r.a.createElement(m.a,null))),r.a.createElement(o.a,{item:!0,xs:11,sm:11},r.a.createElement(u.a,{variant:"h5"},t))))}f.propTypes={title:c.a.node}},227:function(e,t,n){"use strict";var a=n(27);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,a(n(110)).default)(r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=l},228:function(e,t,n){"use strict";var a=n(0),r=a.createContext();t.a=r},229:function(e,t,n){"use strict";n.d(t,"b",(function(){return E}));var a=n(6),r=n.n(a),l=n(195),c=n.n(l),o=n(20),i=n.n(o),u=n(9),s=n.n(u),m=n(0),d=n.n(m),f=n(2),p=n.n(f),b=n(10),g=n.n(b),v=n(40),h=n.n(v),y=n(164);function E(e){return new Promise((function(t,n){var a=new FormData;a.append("file",e,e.filename),fetch("/upload-file",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){var a=e.file,r=e.error;if(r)return n(r);t({type:a.content_type,size:a.size,filename:a.filename,fileId:a.id,data:"".concat(window.location.origin,"/file/").concat(a.id)})})).catch(n)}))}var O=h()((function(){return{root:{position:"relative"},input:{position:"absolute",top:0,left:0,bottom:0,right:0,opacity:0}}})),j=d.a.forwardRef((function(e,t){var n=e.onUploadSuccess,a=e.children,l=e.className,o=s()(e,["onUploadSuccess","children","className"]),u=d.a.useState(!1),m=i()(u,2),f=m[0],p=m[1],b=d.a.useRef(null);d.a.useImperativeHandle(t,(function(){return{input:b,uploading:f}}));var v=O();return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:g()(l,v.root)},f?d.a.createElement(y.a,{size:15}):a,d.a.createElement("input",r()({},o,{type:"file",ref:b,value:"",className:g()(v.input),onChange:function(e){p(!0);var t=c()(e.target.files),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];p(!1),n(t)};Promise.all(t.map((function(e){return new Promise((function(t){E(e).catch((function(e){return t({error:e})})).then((function(e){return t(e)}))}))}))).catch(a).then((function(e){return a(null,e)}))}}))))}));j.propTypes={children:p.a.node,onUploadSuccess:p.a.func};t.a=j},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l}));var a=[{name:"date",label:"Date"},{name:"datetime",label:"Datetime"},{name:"dropdown",label:"Dropdown"},{name:"number",label:"Number"},{name:"period",label:"Period"},{name:"text",label:"Text"},{name:"time",label:"Time"}],r=[{name:"checklist",label:"Checklist"},{name:"form",label:"Form"},{name:"management",label:"Management"},{name:"multi_select",label:"Multiple choice list"},{name:"list",label:"Simple list"},{name:"single_select",label:"Single choice list"},{name:"progress",label:"Progress"},{name:"timer",label:"Timer"},{name:"yesno",label:"Yes/No"}],l=[{name:"risk",label:"Risk factor"},{name:"sign",label:"Sign/Symptom"}]},243:function(e,t,n){"use strict";var a=n(3),r=n(1),l=n(0),c=(n(2),n(4)),o=n(5),i=n(77),u=n(8),s=l.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,m=e.color,d=void 0===m?"default":m,f=e.component,p=void 0===f?"button":f,b=e.disabled,g=void 0!==b&&b,v=e.disableFocusRipple,h=void 0!==v&&v,y=e.focusVisibleClassName,E=e.size,O=void 0===E?"large":E,j=e.variant,w=void 0===j?"round":j,x=Object(a.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return l.createElement(i.a,Object(r.a)({className:Object(c.a)(o.root,s,"round"!==w&&o.extended,"large"!==O&&o["size".concat(Object(u.a)(O))],g&&o.disabled,{primary:o.primary,secondary:o.secondary,inherit:o.colorInherit}[d]),component:p,disabled:g,focusRipple:!h,focusVisibleClassName:Object(c.a)(o.focusVisible,y),ref:t},x),l.createElement("span",{className:o.label},n))}));t.a=Object(o.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(s)},246:function(e,t,n){"use strict";var a=n(3),r=n(1),l=n(0),c=(n(2),n(4)),o=n(5),i=[0,1,2,3,4,5,6,7,8,9,10],u=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var m=l.forwardRef((function(e,t){var n=e.alignContent,o=void 0===n?"stretch":n,i=e.alignItems,u=void 0===i?"stretch":i,s=e.classes,m=e.className,d=e.component,f=void 0===d?"div":d,p=e.container,b=void 0!==p&&p,g=e.direction,v=void 0===g?"row":g,h=e.item,y=void 0!==h&&h,E=e.justify,O=void 0===E?"flex-start":E,j=e.lg,w=void 0!==j&&j,x=e.md,k=void 0!==x&&x,S=e.sm,P=void 0!==S&&S,C=e.spacing,D=void 0===C?0:C,I=e.wrap,R=void 0===I?"wrap":I,T=e.xl,F=void 0!==T&&T,N=e.xs,W=void 0!==N&&N,M=e.zeroMinWidth,z=void 0!==M&&M,$=Object(a.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),A=Object(c.a)(s.root,m,b&&[s.container,0!==D&&s["spacing-xs-".concat(String(D))]],y&&s.item,z&&s.zeroMinWidth,"row"!==v&&s["direction-xs-".concat(String(v))],"wrap"!==R&&s["wrap-xs-".concat(String(R))],"stretch"!==u&&s["align-items-xs-".concat(String(u))],"stretch"!==o&&s["align-content-xs-".concat(String(o))],"flex-start"!==O&&s["justify-xs-".concat(String(O))],!1!==W&&s["grid-xs-".concat(String(W))],!1!==P&&s["grid-sm-".concat(String(P))],!1!==k&&s["grid-md-".concat(String(k))],!1!==w&&s["grid-lg-".concat(String(w))],!1!==F&&s["grid-xl-".concat(String(F))]);return l.createElement(f,Object(r.a)({className:A,ref:t},$))})),d=Object(o.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return i.forEach((function(a){var r=e.spacing(a);0!==r&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(s(r,2)),width:"calc(100% + ".concat(s(r),")"),"& > $item":{padding:s(r,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};u.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(r.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(m);t.a=d},247:function(e,t,n){"use strict";t.a={PAGE_TITLE:"Screens"}},248:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(20),r=n.n(a),l=n(0),c=n.n(l),o=n(2),i=n.n(o),u=n(166),s=n(106),m=n(163),d=n(162),f=n(161),p=n(164),b=n(229);function g(e){var t=e.data,n=e.save,a=c.a.useState(!1),l=r()(a,2),o=l[0],i=l[1],g=function(){var e=t.image1,n=t.image2,a=t.image3,r=[];if(e||n||a){var l=function(e,t){return t&&!t.fileId&&r.push({name:e,img:t})};l("image1",e),l("image2",n),l("image3",a)}return r};return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{fullWidth:!0,maxWidth:"sm",open:g().length>0,onClose:function(){}},c.a.createElement(f.a,null,"These images must be saved in the database"),c.a.createElement(d.a,null,g().map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("div",{style:{width:"90%",maxWidth:200,margin:"auto",display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement("img",{style:{width:"100%",height:"auto"},role:"presentation",src:e.img.data})),c.a.createElement("br",null))}))),c.a.createElement(m.a,null,c.a.createElement(s.a,{onClick:function(){var e=g();i(!0),Promise.all(e.map((function(e){for(var t=e.img,n=t.data,a=atob(n.split(",")[1]),r=n.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(a.length),c=new Uint8Array(l),o=0;o<a.length;o++)c[o]=a.charCodeAt(o);var i=new Blob([l],{type:r});return Object(b.b)(new File([i],t.filename))}))).catch((function(e){i(!1),alert(e.msg||e.message||JSON.stringify(e))})).then((function(t){var a={};t.forEach((function(t,n){a[e[n].name]=t})),i(!1),n(a)}))}},o?c.a.createElement(p.a,{size:15}):"Save"))))}g.propTypes={data:i.a.object.isRequired,save:i.a.func.isRequired}},249:function(e,t,n){"use strict";var a=n(13),r=n.n(a),l=n(0),c=n.n(l),o=n(333),i=n(243),u=n(205),s=n.n(u),m=n(207),d=n.n(m),f=n(105),p=n(246),b=n(229);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.labels,n=e.value,a=e.onChange,r=e.noTitle;n=v({text:"",title:"",image:null},n),t=v({text:"Text",title:"Title",image:"Image"},t);var l=function(e){return a(v(v({},n),e))};return c.a.createElement(c.a.Fragment,null,!r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(o.a,{fullWidth:!0,value:n.title||"",label:t.title,onChange:function(e){return l({title:e.target.value})}})),c.a.createElement("br",null)),c.a.createElement(p.a,{container:!0,spacing:1,alignItems:"flex-end"},c.a.createElement(p.a,{item:!0,xs:10,sm:10},c.a.createElement(o.a,{fullWidth:!0,rows:5,multiline:!0,value:n.text||"",label:t.text,onChange:function(e){return l({text:e.target.value})}})),c.a.createElement(p.a,{item:!0,xs:2,sm:2},c.a.createElement("div",{style:{textAlign:"center",minHeight:100,display:"flex",alignItems:"center",justifyContent:"center"}},n.image&&n.image.data?c.a.createElement("img",{role:"presentation",src:n.image.data,style:{width:100,height:"auto"}}):c.a.createElement("div",{stype:{padding:20}},c.a.createElement(f.a,{color:"textSecondary",variant:"caption"},"No image"))),c.a.createElement("br",null),c.a.createElement(p.a,{container:!0},c.a.createElement(p.a,{item:!0,xs:6,sm:6,style:{textAlign:"center"}},c.a.createElement(b.a,{accept:"image/*",onUploadSuccess:function(e){return a({image:e[0]})}},c.a.createElement(i.a,{size:"small",color:"secondary"},c.a.createElement(s.a,{fontSize:"small"})))),c.a.createElement(p.a,{item:!0,xs:6,sm:6,style:{textAlign:"center"}},c.a.createElement(i.a,{size:"small",disabled:!n.image,onClick:function(){return l({image:null})}},c.a.createElement(d.a,{fontSize:"small"})))))),c.a.createElement("br",null),c.a.createElement("br",null))}},260:function(e,t,n){"use strict";var a=n(1),r=n(3),l=n(0),c=(n(2),n(4)),o=n(188),i=n(5),u=l.forwardRef((function(e,t){var n=e.classes,i=e.className,u=e.raised,s=void 0!==u&&u,m=Object(r.a)(e,["classes","className","raised"]);return l.createElement(o.a,Object(a.a)({className:Object(c.a)(n.root,i),elevation:s?8:1,ref:t},m))}));t.a=Object(i.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(u)},261:function(e,t,n){"use strict";var a=n(1),r=n(3),l=n(0),c=(n(2),n(4)),o=n(5),i=l.forwardRef((function(e,t){var n=e.classes,o=e.className,i=e.component,u=void 0===i?"div":i,s=Object(r.a)(e,["classes","className","component"]);return l.createElement(u,Object(a.a)({className:Object(c.a)(n.root,o),ref:t},s))}));t.a=Object(o.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(i)},268:function(e,t,n){"use strict";var a=n(1),r=n(3),l=n(0),c=(n(2),n(4)),o=n(222),i=n(5),u=n(105),s=n(8),m=l.forwardRef((function(e,t){e.checked;var n=e.classes,i=e.className,m=e.control,d=e.disabled,f=(e.inputRef,e.label),p=e.labelPlacement,b=void 0===p?"end":p,g=(e.name,e.onChange,e.value,Object(r.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),v=Object(o.a)(),h=d;void 0===h&&void 0!==m.props.disabled&&(h=m.props.disabled),void 0===h&&v&&(h=v.disabled);var y={disabled:h};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===m.props[t]&&void 0!==e[t]&&(y[t]=e[t])})),l.createElement("label",Object(a.a)({className:Object(c.a)(n.root,i,"end"!==b&&n["labelPlacement".concat(Object(s.a)(b))],h&&n.disabled),ref:t},g),l.cloneElement(m,y),l.createElement(u.a,{component:"span",className:Object(c.a)(n.label,h&&n.disabled)},f))}));t.a=Object(i.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(m)},269:function(e,t,n){"use strict";var a=n(1),r=n(3),l=n(0),c=(n(2),n(4)),o=n(5),i=l.forwardRef((function(e,t){var n=e.disableSpacing,o=void 0!==n&&n,i=e.classes,u=e.className,s=Object(r.a)(e,["disableSpacing","classes","className"]);return l.createElement("div",Object(a.a)({className:Object(c.a)(i.root,u,!o&&i.spacing),ref:t},s))}));t.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(i)},292:function(e,t,n){"use strict";var a=n(1),r=n(51),l=n(3),c=n(0),o=n(4),i=(n(2),n(167)),u=n(5),s=n(31),m=n(56),d=n(52),f=n(14),p=c.forwardRef((function(e,t){var n=e.children,u=e.classes,p=e.className,b=e.collapsedHeight,g=void 0===b?"0px":b,v=e.component,h=void 0===v?"div":v,y=e.disableStrictModeCompat,E=void 0!==y&&y,O=e.in,j=e.onEnter,w=e.onEntered,x=e.onEntering,k=e.onExit,S=e.onExited,P=e.onExiting,C=e.style,D=e.timeout,I=void 0===D?s.b.standard:D,R=e.TransitionComponent,T=void 0===R?i.a:R,F=Object(l.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),N=Object(d.a)(),W=c.useRef(),M=c.useRef(null),z=c.useRef(),$="number"==typeof g?"".concat(g,"px"):g;c.useEffect((function(){return function(){clearTimeout(W.current)}}),[]);var A=N.unstable_strictMode&&!E,L=c.useRef(null),q=Object(f.a)(t,A?L:void 0),_=function(e){return function(t,n){if(e){var a=A?[L.current,t]:[t,n],l=Object(r.a)(a,2),c=l[0],o=l[1];void 0===o?e(c):e(c,o)}}},H=_((function(e,t){e.style.height=$,j&&j(e,t)})),V=_((function(e,t){var n=M.current?M.current.clientHeight:0,a=Object(m.a)({style:C,timeout:I},{mode:"enter"}).duration;if("auto"===I){var r=N.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(r,"ms"),z.current=r}else e.style.transitionDuration="string"==typeof a?a:"".concat(a,"ms");e.style.height="".concat(n,"px"),x&&x(e,t)})),B=_((function(e,t){e.style.height="auto",w&&w(e,t)})),G=_((function(e){var t=M.current?M.current.clientHeight:0;e.style.height="".concat(t,"px"),k&&k(e)})),J=_(S),U=_((function(e){var t=M.current?M.current.clientHeight:0,n=Object(m.a)({style:C,timeout:I},{mode:"exit"}).duration;if("auto"===I){var a=N.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(a,"ms"),z.current=a}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height=$,P&&P(e)}));return c.createElement(T,Object(a.a)({in:O,onEnter:H,onEntered:B,onEntering:V,onExit:G,onExited:J,onExiting:U,addEndListener:function(e,t){var n=A?e:t;"auto"===I&&(W.current=setTimeout(n,z.current||0))},nodeRef:A?L:void 0,timeout:"auto"===I?null:I},F),(function(e,t){return c.createElement(h,Object(a.a)({className:Object(o.a)(u.container,p,{entered:u.entered,exited:!O&&"0px"===$&&u.hidden}[e]),style:Object(a.a)({minHeight:$},C),ref:q},t),c.createElement("div",{className:u.wrapper,ref:M},c.createElement("div",{className:u.wrapperInner},n)))}))}));p.muiSupportAuto=!0,t.a=Object(u.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(p)},293:function(e,t,n){"use strict";var a=n(27);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=(0,a(n(110)).default)(r.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=l},296:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(13),c=n.n(l),o=n(20),i=n.n(o),u=n(202),s=n(244),m=n(212);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=n(9),b=n.n(p),g=n(82);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={metadata:{items:[],fields:[]}};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=r.a.createContext(null),w=function(){return r.a.useContext(j)},x=n(247),k=n(210),S=n(23),P=n(26),C=n(79),D=n(260),I=n(261),R=n(269),T=n(106),F=n(292),N=n(226),W=n(248),M=n(304),z=n(298),$=n(268),A=n(233),L=n(6),q=n.n(L),_=n(2),H=n.n(_),V=n(10),B=n.n(V),G=n(40),J=n.n(G),U=n(323),K=J()((function(e){return{backgroundColor:function(t){var n=t.color,a=e.palette[n]?e.palette[n].main:null;return a?{backgroundColor:a}:{}}}})),X=r.a.forwardRef((function(e,t){var n=e.className,a=e.color,l=b()(e,["className","color"]),c=K({color:a});return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,q()({},l,{ref:t,className:B()(n,c.backgroundColor)})))}));X.propTypes={className:H.a.string};var Y=X,Z=n(105);var Q=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,q()({variant:"button",color:"primary"},e)),r.a.createElement(Y,{color:"primary"}),r.a.createElement("br",null))};var ee=function(){var e=r.a.useState(""),t=i()(e,2),n=t[0],a=t[1],l=w(),c=l.setForm,o=l.state.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{in:!o.type},r.a.createElement("div",null,r.a.createElement(Q,null,"Screen type"),r.a.createElement(M.a,{name:"type",value:n,onChange:function(e){return a(e.target.value)}},A.b.map((function(e){return r.a.createElement($.a,{key:e.name,value:e.name,control:r.a.createElement(z.a,null),label:e.label})}))),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(T.a,{color:"primary",disabled:!n,onClick:function(){return c({type:n})}},"Continue")))))},te=n(333),ne=n(1),ae=n(3),re=n(4),le=n(5),ce=n(16),oe=n(8),ie=n(232),ue=a.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.color,c=void 0===l?"secondary":l,o=e.edge,i=void 0!==o&&o,u=e.size,s=void 0===u?"medium":u,m=Object(ae.a)(e,["classes","className","color","edge","size"]),d=a.createElement("span",{className:n.thumb});return a.createElement("span",{className:Object(re.a)(n.root,r,{start:n.edgeStart,end:n.edgeEnd}[i],"small"===s&&n["size".concat(Object(oe.a)(s))])},a.createElement(ie.a,Object(ne.a)({type:"checkbox",icon:d,checkedIcon:d,classes:{root:Object(re.a)(n.switchBase,n["color".concat(Object(oe.a)(c))]),input:n.input,checked:n.checked,disabled:n.disabled},ref:t},m)),a.createElement("span",{className:n.track}))})),se=Object(le.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(ce.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(ce.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(ue);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var de=function(){var e=w(),t=e.setForm,n=e.state.form;return r.a.useEffect((function(){t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({skippable:null,condition:null},n))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"FLOW CONTROL"),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!n.skippable,onChange:function(){return t((function(e){return{skippable:!e.skippable}}))},name:"skippable"}),label:"Allow user to skip this screen"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:n.condition||"",label:"Conditional expression",onChange:function(e){return t({condition:e.target.value})}}),r.a.createElement(Z.a,{variant:"caption",color:"textSecondary"},"Example: ",r.a.createElement("b",null,"($key = true and $key2 = false) or $key3 = 'HD'"))),r.a.createElement("br",null))},fe=n(246),pe=n(249);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){return function(t){var n=w(),a=n.setForm,l=n.state.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,q()({},t,{form:l,setMetadata:function(e){return a((function(t){return{metadata:ge(ge({},t.metadata),e)}}))}})))}}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e){var t=e.form,n=e.setMetadata;return r.a.useEffect((function(){n(ye(ye({},function(){for(var e={},t=1;t<4;t++){var n;e=ye(ye({},e),{},(n={},c()(n,"text".concat(t),null),c()(n,"image".concat(t),null),c()(n,"title".concat(t),null),n))}return e}()),t.metadata))}),[]),r.a.createElement(r.a.Fragment,null,function(){for(var e=[],a=function(a){e.push(r.a.createElement(pe.a,{key:a,labels:{text:"Text ".concat(a),title:"Title ".concat(a),image:"Image ".concat(a)},value:{text:t.metadata["text".concat(a)],image:t.metadata["image".concat(a)],title:t.metadata["title".concat(a)]},onChange:function(e){var t,r=e.title,l=e.text,o=e.image;return n((t={},c()(t,"text".concat(a),l),c()(t,"image".concat(a),o),c()(t,"title".concat(a),r),t))}}))},l=1;l<4;l++)a(l);return e}())}Ee.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var Oe=ve(Ee);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){var t=e.form,n=e.setMetadata;return r.a.useEffect((function(){n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dataType:"number",confidential:!1,key:null,label:null,timerValue:null,multiplier:null,minValue:null,maxValue:null},t.metadata))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{container:!0,spacing:1},r.a.createElement(fe.a,{xs:6,sm:6,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.key||"",label:"Input key",onChange:function(e){return n({key:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:6,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.label||"",label:"Input label",onChange:function(e){return n({label:e.target.value})}})),r.a.createElement(fe.a,{item:!0,sm:12},r.a.createElement("br",null)),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.timerValue||"",label:"Timer value (seconds)",onChange:function(e){return n({timerValue:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.multiplier||"",label:"Multiplier",onChange:function(e){return n({multiplier:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.minValue||"",label:"Input value min.",onChange:function(e){return n({minValue:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.maxValue||"",label:"Input value max.",onChange:function(e){return n({maxValue:e.target.value})}}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!t.metadata.confidential,onChange:function(){return n({confidential:!t.metadata.confidential})},name:"confidential"}),label:"Confidential"})),r.a.createElement("br",null),r.a.createElement("br",null))}we.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var xe=ve(we);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){var t=e.form,n=e.setMetadata;return r.a.useEffect((function(){n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dataType:"boolean",confidential:!1,key:null,label:null,negativeLabel:null,positiveLabel:null},t.metadata))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.key,value:t.metadata.key||"",label:"Input key",onChange:function(e){return n({key:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.label,value:t.metadata.label||"",label:"Input label",onChange:function(e){return n({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!t.metadata.confidential,onChange:function(){return n({confidential:!t.metadata.confidential})},name:"confidential"}),label:"Confidential"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(fe.a,{container:!0,spacing:1},r.a.createElement(fe.a,{xs:6,sm:6,item:!0},r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.negativeLabel,value:t.metadata.negativeLabel||"",label:"Negative label",onChange:function(e){return n({negativeLabel:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:6,item:!0},r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.positiveLabel,value:t.metadata.positiveLabel||"",label:"Positive label",onChange:function(e){return n({positiveLabel:e.target.value})}}))),r.a.createElement("br",null),r.a.createElement("br",null))}Se.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var Pe=ve(Se);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function De(e){var t=e.form,n=e.setMetadata;return r.a.useEffect((function(){n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({dataType:function(){switch(t.type){case"multi_select":return"set<id>";default:return"id"}},confidential:!1,key:null,label:null},t.metadata))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.key,value:t.metadata.key||"",label:"Input key",onChange:function(e){return n({key:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.label,value:t.metadata.label||"",label:"Input label",onChange:function(e){return n({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!t.metadata.confidential,onChange:function(){return n({confidential:!t.metadata.confidential})},name:"confidential"}),label:"Confidential"})),r.a.createElement("br",null))}De.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var Ie=ve(De);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Te=function(){var e=w(),t=e.setForm,n=e.state.form;return r.a.useEffect((function(){t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({epicId:null,storyId:null,refId:null,step:null,title:null,sectionTitle:null,actionText:null,contentText:null,instructions:null,notes:null},n))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Properties"),r.a.createElement(fe.a,{container:!0,spacing:1},r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:n.epicId||"",label:"Epic ID",onChange:function(e){return t({epicId:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:n.storyId||"",label:"Story ID",onChange:function(e){return t({storyId:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:n.refId||"",label:"Ref.",onChange:function(e){return t({refId:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:n.step||"",label:"Step",onChange:function(e){return t({step:e.target.value})}}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!n.title,value:n.title||"",label:"Title",onChange:function(e){return t({title:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!n.sectionTitle,value:n.sectionTitle||"",label:"Print section title",onChange:function(e){return t({sectionTitle:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:n.actionText||"",label:"Action",onChange:function(e){return t({actionText:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{rows:5,multiline:!0,fullWidth:!0,value:n.contentText||"",label:"Content",onChange:function(e){return t({contentText:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),function(){var e=null;switch(n.type){case"yesno":e=Pe;break;case"timer":e=xe;break;case"management":e=Oe;break;case"multi_select":case"single_select":e=Ie}return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(e,null),r.a.createElement("br",null)):null}(),r.a.createElement("div",null,r.a.createElement(te.a,{rows:5,multiline:!0,fullWidth:!0,value:n.instructions||"",label:"Instructions",onChange:function(e){return t({instructions:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{rows:5,multiline:!0,fullWidth:!0,value:n.notes||"",label:"Notes",onChange:function(e){return t({notes:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null))},Fe=n(195),Ne=n.n(Fe),We=n(201),Me=n(189),ze=n(205),$e=n.n(ze),Ae=n(293),Le=n.n(Ae),qe=n(166),_e=n(161),He=n(162),Ve=n(163);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=r.a.forwardRef((function(e,t){var n=e.children,a=e.onClick,l=e.data,c=e.onSave,o=e.form.type,u=b()(e,["children","onClick","data","onSave","form"]),s=r.a.useState(!1),m=i()(s,2),d=m[0],f=m[1],p=r.a.useState(Ge({dataType:function(){switch(o){case"list":return"void";case"checklist":return"boolean";case"single_select":return"id";default:return null}},confidential:!1,checked:null,id:null,label:null,key:null,exclusive:null,summary:null},l)),g=i()(p,2),v=g[0],h=g[1],y=function(e){return h((function(t){return Ge(Ge({},t),"function"==typeof e?e(t):e)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",q()({},u,{ref:t,onClick:function(e){f(!0),a&&a(e)}}),n),r.a.createElement(qe.a,{open:d,maxWidth:"sm",fullWidth:!0,onClose:function(){return f(!1)}},r.a.createElement(_e.a,null,l?"Edit":"Add"," item"),r.a.createElement(He.a,null,function(){switch(o){case"progress":return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:v.label||"",label:"Label",onChange:function(e){return y({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!v.checked,onChange:function(){return y({checked:!v.checked})},name:"checked"}),label:"Mark as checked"})));case"list":return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:v.label||"",label:"Label",onChange:function(e){return y({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:v.summary||"",label:"Summary",onChange:function(e){return y({summary:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{container:!0,spacing:1},r.a.createElement(fe.a,{item:!0,xs:2,sm:2},r.a.createElement(te.a,{fullWidth:!0,value:v.id||"",label:"ID",onChange:function(e){return y({id:e.target.value})}})),r.a.createElement(fe.a,{item:!0,xs:10,sm:10},r.a.createElement(te.a,{fullWidth:!0,value:v.label||"",label:"Label",onChange:function(e){return y({label:e.target.value})}}))),r.a.createElement("br",null),"multi_select"===o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!v.exclusive,onChange:function(){return y({exclusive:!v.exclusive})},name:"exclusive"}),label:"Disable other items if selected"}))))}}()),r.a.createElement(Ve.a,null,r.a.createElement(T.a,{onClick:function(){return f(!1)}},"Cancel"),r.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(){c(v),f(!1)}},"Save"))))}));Je.propTypes={onClick:H.a.func,form:H.a.object.isRequired,children:H.a.node,data:H.a.object,onSave:H.a.func.isRequired};var Ue=Je,Ke=n(211),Xe=n.n(Ke),Ye=n(300),Ze=n(327);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){var t=e.row,n=e.rowIndex,a=e.form,l=e.setMetadata,c=r.a.useState(null),o=i()(c,2),u=o[0],s=o[1],m=function(){return s(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{onClick:function(e){return s(e.currentTarget)}},r.a.createElement(Xe.a,null)),r.a.createElement(Ye.a,{anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:m},r.a.createElement(Ze.a,{onClick:m,component:Ue,form:a,data:t,onSave:function(e){return l({items:a.metadata.items.map((function(t,a){return n===a?et(et({},t),e):t}))})}},"Edit"),r.a.createElement(Ze.a,{onClick:function(e){l({items:a.metadata.items.filter((function(e,t){return t!==n}))}),m()}},r.a.createElement(Z.a,{color:"error"},"Delete"))))}tt.propTypes={rowIndex:H.a.number,row:H.a.object,form:H.a.object,setMetadata:H.a.func.isRequired};var nt=tt;function at(e){var t=e.form,n=e.setMetadata;return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{selectable:!1,noDataMsg:"No items",title:"Items",data:t.metadata.items,renderHeaderActions:function(){return r.a.createElement(Ue,{form:t,onSave:function(e){return n({items:[].concat(Ne()(t.metadata.items),[e])})}},r.a.createElement(Me.a,null,r.a.createElement($e.a,null)))},renderRowAction:function(e,a){return r.a.createElement(nt,{row:e,form:t,rowIndex:a,setMetadata:n})},displayFields:function(){switch(t.type){case"single_select":return[{key:"id",label:"ID"},{key:"label",label:"Label"}];case"multi_select":return[{key:"id",label:"ID"},{key:"label",label:"Label"},{key:"checked",label:"Checked",cellProps:{align:"right"},render:function(e){return e.row[e.column]?r.a.createElement(Le.a,{fontSize:"small",color:"primary"}):null}}];case"list":return[{key:"label",label:"Label"},{key:"summary",label:"Summary"}];case"progress":return[{key:"label",label:"Label"},{key:"checked",label:"Checked",cellProps:{align:"right"},render:function(e){return e.row[e.column]?r.a.createElement(Le.a,{fontSize:"small",color:"primary"}):null}}];default:return[]}}(),onSortData:function(e){n({items:e})}}))}at.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var rt=ve(at);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=r.a.forwardRef((function(e,t){var n,a=e.children,l=e.onClick,c=e.data,o=e.onSave,u=e.form.type,s=b()(e,["children","onClick","data","onSave","form"]),m=r.a.useState(!1),d=i()(m,2),f=d[0],p=d[1],g=ct({calculation:null,condition:null,confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,label:null,minValue:null,maxValue:null,values:null,optional:!1},c),v=r.a.useState(g),h=i()(v,2),y=h[0],E=h[1],O=function(e){return E((function(t){return ct(ct({},t),"function"==typeof e?e(t):e)}))};return r.a.useEffect((function(){O(g)}),[f]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",q()({},s,{ref:t,onClick:function(e){p(!0),l&&l(e)}}),a),r.a.createElement(qe.a,{open:f,maxWidth:"sm",fullWidth:!0,onClose:function(){return p(!1)}},r.a.createElement(_e.a,null,c?"Edit":"Add"," field"),r.a.createElement(He.a,null,r.a.createElement(F.a,{in:!y.type},r.a.createElement(Q,null,"Screen type"),r.a.createElement(M.a,{name:"type",value:u,onChange:function(e){return O({type:e.target.value})}},A.a.map((function(e){return r.a.createElement($.a,{key:e.name,value:e.name,control:r.a.createElement(z.a,null),label:e.label})})))),r.a.createElement(F.a,{in:!!y.type},r.a.createElement("div",null,r.a.createElement(Q,null,"Flow control"),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:y.condition||"",label:"Conditional expression",onChange:function(e){return O({condition:e.target.value})}}),r.a.createElement(Z.a,{variant:"caption",color:"textSecondary"},"Example: ",r.a.createElement("b",null,"($key = true and $key2 = false) or $key3 = 'HD'"))),r.a.createElement("br",null),r.a.createElement(Q,null,"Properties"),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:y.key||"",label:"Key",onChange:function(e){return O({key:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:y.label||"",label:"Label",onChange:function(e){return O({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement(fe.a,{container:!0},r.a.createElement(fe.a,{item:!0,xs:6,sm:6},r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!y.confidential,onChange:function(){return O({confidential:!y.confidential})},name:"confidential"}),label:"Confidential"}))),r.a.createElement(fe.a,{item:!0,xs:6,sm:6},r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!y.optional,onChange:function(){return O({optional:!y.optional})},name:"optional"}),label:"Optional"})))),r.a.createElement("br",null),(n=null,"text"===y.type?n=[{label:"Generated ID",name:"uid"}]:"date"!==y.type&&"datetime"!==y.type||(n=[{label:"Current time",name:"date_now"},{label:"Today at noon",name:"date_noon"},{label:"Today at midnight",name:"date_midnight"}]),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Default"),r.a.createElement(M.a,{name:"type",value:u,onChange:function(e){return O({defaultValue:e.target.value})}},r.a.createElement($.a,{value:"",control:r.a.createElement(z.a,null),label:"Empty"}),n.map((function(e){return r.a.createElement($.a,{key:e.name,value:e.name,control:r.a.createElement(z.a,null),label:e.label})})))):null)))),r.a.createElement(Ve.a,null,r.a.createElement(T.a,{onClick:function(){return p(!1)}},"Cancel"),r.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(){o(y),p(!1)}},"Save"))))}));ot.propTypes={onClick:H.a.func,form:H.a.object.isRequired,children:H.a.node,data:H.a.object,onSave:H.a.func.isRequired};var it=ot;function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e){var t=e.row,n=e.rowIndex,a=e.form,l=e.setMetadata,c=r.a.useState(null),o=i()(c,2),u=o[0],s=o[1],m=function(){return s(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{onClick:function(e){return s(e.currentTarget)}},r.a.createElement(Xe.a,null)),r.a.createElement(Ye.a,{anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:m},r.a.createElement(Ze.a,{onClick:m,component:it,form:a,data:t,onSave:function(e){return l({fields:a.metadata.fields.map((function(t,a){return n===a?st(st({},t),e):t}))})}},"Edit"),r.a.createElement(Ze.a,{onClick:function(e){l({fields:a.metadata.fields.filter((function(e,t){return t!==n}))}),m()}},r.a.createElement(Z.a,{color:"error"},"Delete"))))}mt.propTypes={rowIndex:H.a.number,row:H.a.object,form:H.a.object,setMetadata:H.a.func.isRequired};var dt=mt;function ft(e){var t=e.form,n=e.setMetadata;return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{selectable:!1,noDataMsg:"No fields",title:"Fields",data:t.metadata.fields,renderHeaderActions:function(){return r.a.createElement(it,{form:t,onSave:function(e){return n({fields:[].concat(Ne()(t.metadata.fields),[e])})}},r.a.createElement(Me.a,null,r.a.createElement($e.a,null)))},renderRowAction:function(e,a){return r.a.createElement(dt,{row:e,form:t,rowIndex:a,setMetadata:n})},displayFields:[{key:"type",label:"Type"},{key:"key",label:"Key"},{key:"label",label:"Label"}],onSortData:function(e){n({fields:e})}}))}ft.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var pt=ve(ft);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=function(){var e=w(),t=e.canSaveScreen,n=e.saveScreen,a=e.setFormAndSave,l=e.state,c=l.screen,o=l.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{data:o.metadata,save:function(e){return a((function(t){return{metadata:gt(gt({},t.metadata),e)}}))}}),r.a.createElement(D.a,null,r.a.createElement(I.a,null,r.a.createElement(N.a,{title:"".concat(c?"Edit":"Add"," screen")}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ee,null),r.a.createElement(F.a,{in:!!o.type},r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement("br",null),r.a.createElement(Te,null),r.a.createElement("br",null)))),!!o.type&&r.a.createElement(R.a,{style:{justifyContent:"flex-end"}},r.a.createElement(T.a,{color:"primary",onClick:function(){return n()},disabled:!t()},"Save"))),r.a.createElement("br",null),["single_select","multi_select","list","progress"].includes(o.type)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,null)),"form"===o.type&&r.a.createElement(pt,null))};var ht;t.default=(ht=function(){var e=Object(u.b)().state.script,t=w(),n=t.isFormReady,a=t.state,l=a.screen,c=a.loadingScreen,o=a.savingScreen,i=e?[k.a.PAGE_TITLE,e.data.title,x.a.PAGE_TITLE,l?l.data.title:c?"":"New screen"].filter((function(e){return e})):[];return Object(P.b)(i.join(" > ")),Object(S.e)(i.join(" / ")),n()?r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),c&&o?r.a.createElement(C.a,null):null):r.a.createElement(C.a,{transparent:!0})},function(e){var t=Object(u.b)().state.script,n=Object(s.a)(),a=n.match.params,l=a.screenId,c=a.screenSection,o=r.a.useState({screenSection:c||"screens",form:y}),d=i()(o,2),p=d[0],v=d[1],E=function(e){return v((function(t){return O(O({},t),"function"==typeof e?e(t):e)}))},w=function(e){return v((function(t){return O(O({},t),{},{form:O(O({},t.form),"function"==typeof e?e(t.form):e)})}))},x=function(e){var t=e.setState;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t({loadingScreen:!0});var n=function(e,n){t((function(t){var a=t.form;return f(f({initialiseScreenError:e,screenInitialised:!0,loadingScreen:!1},n),{},{form:f(f({},a),e?{}:n.screen?n.screen.data:{})})}))};m.d(e).then((function(e){return n(e.errors,e)})).catch(n)}}({setState:E}),k=function(e){var t=e.setState,n=e.router,a=n.history,r=n.match.params.scriptId,l=e.state,c=l.screen,o=l.form;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.redirectOnSuccess,l=b()(e,["redirectOnSuccess"]),i=!1!==n;t({savingScreen:!0});var u=function(e,n){e&&alert("Error(s):\n".concat(Object(g.a)(e))),t((function(t){var a=t.form;return{saveScreenError:e,savingScreen:!1,form:h(h({},a),e?{}:n.screen?n.screen.data:{})}}))},s=c?m.f:m.a,d=JSON.stringify(h(h({},o),l));s(h(h({script_id:r,type:o.type},c),{},{data:d})).then((function(e){i&&e.screen&&a.push("/scripts/".concat(r)),u(e.errors,e)})).catch(u)}}({setState:E,state:p,router:n});r.a.useEffect((function(){E({screenInitialised:"new"!==l,screen:null,form:y}),"new"!==l&&x({id:l})}),[l]);var S=p.shouldSaveForm;return r.a.useEffect((function(){S&&(k({redirectOnSuccess:!1}),E({shouldSaveForm:!1}))}),[S]),r.a.createElement(j.Provider,{value:{state:p,setState:E,_setState:v,getScreen:x,setForm:w,saveScreen:k,canSaveScreen:function(){return p.form.title&&!p.savingScreen},isFormReady:function(){return t&&("new"===l||!!p.screen)},setFormAndSave:function(e){w(e),E({shouldSaveForm:!0})}}},r.a.createElement(ht,e))})},298:function(e,t,n){"use strict";var a=n(1),r=n(3),l=n(0),c=(n(2),n(4)),o=n(232),i=n(78),u=Object(i.a)(l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),s=Object(i.a)(l.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),m=n(5);var d=Object(m.a)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var t=e.checked,n=e.classes,a=e.fontSize;return l.createElement("div",{className:Object(c.a)(n.root,t&&n.checked)},l.createElement(u,{fontSize:a}),l.createElement(s,{fontSize:a,className:n.layer}))})),f=n(16),p=n(8),b=n(43),g=n(228);var v=l.createElement(d,{checked:!0}),h=l.createElement(d,null),y=l.forwardRef((function(e,t){var n=e.checked,i=e.classes,u=e.color,s=void 0===u?"secondary":u,m=e.name,d=e.onChange,f=e.size,y=void 0===f?"medium":f,E=Object(r.a)(e,["checked","classes","color","name","onChange","size"]),O=l.useContext(g.a),j=n,w=Object(b.a)(d,O&&O.onChange),x=m;return O&&(void 0===j&&(j=O.value===e.value),void 0===x&&(x=O.name)),l.createElement(o.a,Object(a.a)({color:s,type:"radio",icon:l.cloneElement(h,{fontSize:"small"===y?"small":"default"}),checkedIcon:l.cloneElement(v,{fontSize:"small"===y?"small":"default"}),classes:{root:Object(c.a)(i.root,i["color".concat(Object(p.a)(s))]),checked:i.checked,disabled:i.disabled},name:x,checked:j,onChange:w,ref:t},E))}));t.a=Object(m.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(f.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(f.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(y)},304:function(e,t,n){"use strict";var a=n(1),r=n(51),l=n(3),c=n(0),o=(n(2),n(4)),i=n(5),u=c.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.row,u=void 0!==i&&i,s=Object(l.a)(e,["classes","className","row"]);return c.createElement("div",Object(a.a)({className:Object(o.a)(n.root,r,u&&n.row),ref:t},s))})),s=Object(i.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(u),m=n(14),d=n(225),f=n(228),p=n(240),b=c.forwardRef((function(e,t){var n=e.actions,o=e.children,i=e.name,u=e.value,b=e.onChange,g=Object(l.a)(e,["actions","children","name","value","onChange"]),v=c.useRef(null),h=Object(d.a)({controlled:u,default:e.defaultValue,name:"RadioGroup"}),y=Object(r.a)(h,2),E=y[0],O=y[1];c.useImperativeHandle(n,(function(){return{focus:function(){var e=v.current.querySelector("input:not(:disabled):checked");e||(e=v.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var j=Object(m.a)(t,v),w=Object(p.a)(i);return c.createElement(f.a.Provider,{value:{name:w,onChange:function(e){O(e.target.value),b&&b(e,e.target.value)},value:E}},c.createElement(s,Object(a.a)({role:"radiogroup",ref:j},g),o))}));t.a=b}}]);