(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{137:function(e,t,n){var r=n(151),a=n(152),i=n(153);e.exports=function(e,t){return r(e)||a(e,t)||i()}},141:function(e,t,n){"use strict";var r=n(0),a=function(){return Object(r.useReducer)(function(e){return!e},!1)[1]};t.a=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),c=2;c<n;c++)i[c-2]=arguments[c];var l=[],o=t,u=function(t){o=e(o,t),l.forEach(function(e){return e()})},s=function(){var e=a();return Object(r.useEffect)(function(){var t=function(){return e()};l.push(t),t();return function(){var e=l.indexOf(t);l.splice(e,1)}},[]),[o,u].concat(i)};return s}},151:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},152:function(e,t){e.exports=function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}},153:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},154:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(2),c=function(e){var t=e.children,n=e.options;n=n||{allScripts:!0,allConfigKeys:!0};var r="";return Object.keys(n).forEach(function(e,t){r+="".concat(e,"=").concat(n[e]),t<Object.keys(n).length-1&&(r+="&")}),a.a.createElement("a",{target:"_blank",style:{color:"inherit",textDecoration:"none",fontWeight:"inherit"},rel:"noopener noreferrer",href:"/export-data?".concat(r)},t||"Export")};c.propTypes={options:n.n(i).a.object},t.a=c},190:function(e,t,n){"use strict";var r=n(3),a=n.n(r),i=n(141),c={UPDATE:"UPDATE",updateState:function(e){return{type:"UPDATE",partialState:e}}},l={scripts:[]};t.a=Object(i.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;if(t.type===c.UPDATE){var n=a()({},e);return a()({},e,{},"function"==typeof t.partialState?t.partialState(n):t.partialState)}return e},l,c)},383:function(e,t,n){"use strict";n.r(t);var r=n(11),a=n.n(r),i=n(137),c=n.n(i),l=n(0),o=n.n(l),u=n(2),s=n.n(u),p=n(26),d=n(12),f=n(190),m=n(41),h=n(53),E=n(3),g=n.n(E),y=n(43),b=n.n(y),v=n(18),S=n.n(v),C=n(19),D=n.n(C),x=n(20),_=n.n(x),w=n(21),k=n.n(w),j=n(24),T=n.n(j),A=n(22),O=n.n(A),I=n(23),B=n.n(I),N=n(121),P=n(405),F=n(406),z=n(404),U=n(403),H=n(125),J=n(154),M=function(e){function t(e){var n;return S()(this,t),n=_()(this,k()(t).call(this,e)),B()(T()(n),"toggleClipboardPasteBox",function(){return n.setState({openClipboardPasteBox:!n.state.openClipboardPasteBox})}),B()(T()(n),"handleAddScriptClick",function(){return n.props.history.push("/dashboard/scripts/new")}),B()(T()(n),"handleEditScriptClick",function(e){return n.props.history.push("/dashboard/scripts/".concat(e))}),B()(T()(n),"handleDeleteClick",function(){var e=n.props.updateState,t=n.state.scriptIdForAction;n.setState({deletingScript:!0}),m.a.post("/delete-script",{id:t}).catch(function(e){return n.setState({deleteScriptError:e,deletingScript:!1})}).then(function(){n.setState({deletingScript:!1}),e(function(e){return{scripts:e.scripts.filter(function(e){return e.id!==t})}}),n.closeDeleteConfirmDialog()})}),B()(T()(n),"handleDuplicateScript",function(e){var t=n.props.updateState;n.setState({duplicatingScript:!0}),m.a.post("/duplicate-script",{id:e}).catch(function(e){return n.setState({duplicateScriptError:e,duplicatingScript:!1})}).then(function(r){var a=r.payload;n.setState({duplicatingScript:!1}),t(function(t){var n=b()(t.scripts),r=n.map(function(t,n){return t.id===e?n:null}).filter(function(e){return null!==e})[0]||0;return n.splice(r+1,0,a.script),{scripts:n}})})}),B()(T()(n),"openDeleteConfirmDialog",function(e){return n.setState(g()({},n.state,{openDeleteConfirmDialog:!0,scriptIdForAction:e}))}),B()(T()(n),"closeDeleteConfirmDialog",function(){return n.setState(g()({},n.state,{openDeleteConfirmDialog:!1,scriptIdForAction:null,deleteScriptError:null}))}),n.state={openDeleteConfirmDialog:!1,scriptIdForAction:null},n}return O()(t,e),D()(t,[{key:"render",value:function(){var e=this,t=this.props.scripts,n=this.state,r=n.deletingScript,a=n.deleteScriptError,i={container:{display:"flex",boxSizing:"border-box",justifyContent:"center",height:"100%"},table:{width:"640px"},fab:{position:"fixed",bottom:24,right:24,zIndex:900}},c=o.a.createElement(P.a,{open:this.state.openDeleteConfirmDialog,onClose:function(){},fullWidth:!0,maxWidth:"sm"},[o.a.createElement(F.a,null,"Delete"),o.a.createElement(U.a,null,r?o.a.createElement(h.a,{className:"ui__flex ui__justifyContent_center"}):o.a.createElement("div",null,a?o.a.createElement("div",{className:"ui__dangerColor"},a.msg||a.message||JSON.stringify(a)):o.a.createElement("p",null,"Are you sure you want to delete this configuration key?"))),r?null:o.a.createElement(z.a,null,o.a.createElement(N.Button,{type:"button",onClick:this.handleDeleteClick,accent:!0},"Delete"),o.a.createElement(N.Button,{type:"button",onClick:this.closeDeleteConfirmDialog},"Cancel"))].map(function(e,t){return e&&o.a.cloneElement(e,{key:t})})),l=o.a.createElement("div",null,o.a.createElement(N.DataTable,{style:{width:"780px"},shadow:0,rows:t.map(function(e){return g()({id:e.id},e.data)})},o.a.createElement(N.TableHeader,{name:"title"},"Title"),o.a.createElement(N.TableHeader,{name:"description"},"Description"),o.a.createElement(N.TableHeader,{name:"id",style:{width:"64px"},cellFormatter:function(t,n,r){var a="more-user-action-menu".concat(r);return o.a.createElement("div",null,o.a.createElement("div",{style:{position:"relative",color:"#999999"},className:"ui__flex ui__alignItems_center"},o.a.createElement("div",{className:"ui__cursor_pointer",onClick:e.handleEditScriptClick.bind(e,t)},o.a.createElement(H.e,{style:{fontSize:"24px"}})),"Â ",o.a.createElement("div",{id:a,className:"ui__cursor_pointer"},o.a.createElement(H.i,{style:{fontSize:"24px"}})),o.a.createElement(N.Menu,{target:a,align:"right"},o.a.createElement(N.MenuItem,{onClick:e.openDeleteConfirmDialog.bind(e,t)},"Delete"),o.a.createElement(N.MenuItem,null,o.a.createElement(J.a,{options:{script:t}})))))}}))),u=o.a.createElement(N.Card,{shadow:0,style:{width:"320px"}},o.a.createElement(N.CardTitle,null,"There are no scripts"),o.a.createElement(N.CardText,null,o.a.createElement("span",null,"To create your first script click on the orange icon at the bottom right of the window."),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null)));return o.a.createElement("div",null,o.a.createElement(N.FABButton,{style:i.fab,colored:!0,ripple:!0,onClick:this.handleAddScriptClick},o.a.createElement(H.a,null)),o.a.createElement("div",{style:i.container},t.length?l:u),c)}}]),t}(l.Component);M.propTypes={scripts:s.a.array.isRequired,actions:s.a.object.isRequired};var R=M,W=function(e){var t=Object(l.useState)(!1),n=c()(t,2),r=n[0],i=n[1],u=Object(l.useState)(null),s=c()(u,2),p=(s[0],s[1]),d=Object(f.a)(),E=c()(d,3),g=E[0].scripts,y=E[1],b=E[2];return Object(l.useEffect)(function(){i(!0),m.a.get("/get-scripts").then(function(e){return i(!1),e}).then(function(e){var t=e.payload;i(!1),y(b.updateState({scripts:t.scripts||[]}))}).catch(function(e){i(!1),p(e)})},[]),o.a.createElement("div",null,!g.length&&r&&o.a.createElement(h.a,{className:"ui__flex ui__justifyContent_center"}),!g.length&&r?null:o.a.createElement(R,a()({},e,{scripts:g,updateState:function(e){return y(b.updateState(e))}})))};W.propTypes={match:s.a.object};t.default=Object(p.hot)(Object(d.f)(W))}}]);