(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{191:function(e,t,a){"use strict";var n=a(6),r=a.n(n),l=a(9),c=a.n(l),o=a(0),i=a.n(o),u=a(2),s=a.n(u),m=a(27),d=a(10),f=a.n(d),p=a(79),b=a(218),g=Object(m.d)((function(){return{root:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},bg:function(e){return{backgroundColor:e.transparent?"transparent":"rgba(0,0,0,.2)"}}}})),v=function(e){var t=e.className,a=e.loaderProps,n=e.transparent,l=c()(e,["className","loaderProps","transparent"]),o=g({transparent:n});return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,r()({},l,{className:f()(o.root,o.bg,t)}),i.a.createElement(b.a,r()({color:"primary"},a))))};v.propTypes={className:s.a.string,loaderProps:s.a.object,transparent:s.a.bool},t.a=v},196:function(e,t,a){"use strict";var n=a(6),r=a.n(n),l=a(16),c=a.n(l),o=a(20),i=a.n(o),u=a(0),s=a.n(u),m=a(2),d=a.n(m),f=a(318),p=a(314),b=a(315),g=a(181),v=a(319),h=a(320),y=a(101),E=a(332),O=a(317),j=a(39),w=a.n(j),x=a(10),k=a.n(x),S=a(215),P=a.n(S),C=a(316),D=a(195),I=a(188),R=a.n(I),T=a(182),N=a(216),F=a.n(N),M=Object(D.c)((function(){return s.a.createElement(T.a,{style:{cursor:"move"}},s.a.createElement(F.a,null))})),W=Object(D.b)((function(e){var t=e.row,a=e.rowIndex,n=e.selectable,l=e.classes,c=e.selected,o=e.setSelected,i=e.displayFields,u=e.action;return s.a.createElement(p.a,{className:k()(l.dataItemRow,{selected:c.map((function(e){return e.rowIndex})).includes(a)})},n&&s.a.createElement(b.a,{padding:"none"},s.a.createElement(E.a,{checked:c.map((function(e){return e.rowIndex})).includes(a),onChange:function(){return o((function(e){return e.map((function(e){return e.rowIndex})).includes(a)?e.filter((function(e){return e.rowIndex!==a})):[].concat(R()(e),[{row:t,rowIndex:a}])}))}})),s.a.createElement(b.a,{padding:"none"},s.a.createElement(M,null)),i.map((function(e,n){var l=e.render?e.render({row:t,rowIndex:a,column:e.key,columnIndex:n}):(t.data||t)[e.key];return s.a.createElement(b.a,r()({},e.cellProps,{key:"".concat(a).concat(e.key).concat(n)}),l)})),u?s.a.createElement(b.a,{align:"right",padding:"none"},u):null)})),z=Object(D.a)((function(e){var t=e.rows,a=e.classes,n=e.selected,r=e.selectable,l=e.setSelected,c=e.displayFields,o=e.renderRowAction;return s.a.createElement(C.a,null,t.map((function(e,t){var i=t;return s.a.createElement(W,{key:"".concat(i).concat(t),row:e,index:t,rowIndex:t,classes:a,selectable:r,action:o?o(e,t)||s.a.createElement(s.a.Fragment,null):null,displayFields:c,selected:n,setSelected:l})})))}));function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=w()((function(e){return{table:{minWidth:800},headerWrap:{position:"relative",height:60},header:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",boxSizing:"border-box",padding:e.spacing()},dataItemRow:{"&:hover, &.selected":{backgroundColor:e.palette.action.hover}}}}));function q(e){var t=e.noDataMsg,a=e.title,n=e.selectable,l=e.renderRowAction,c=e.data,o=e.onSortData,u=e.displayFields,m=e.renderHeaderActions;n=!1!==n;var d=L(),j=s.a.useState([]),w=i()(j,2),x=w[0],S=w[1],C=s.a.useState(c),D=i()(C,2),I=D[0],R=D[1];return s.a.useEffect((function(){R(c)}),[c]),s.a.useEffect((function(){if(JSON.stringify(I)!==JSON.stringify(c)){var e=I.map((function(e,t){return A(A({},e),{},{position:t+1})}));R(e),o&&o(e)}}),[I]),s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{square:!0,elevation:0},s.a.createElement("div",{className:k()(d.headerWrap)},s.a.createElement("div",{className:k()(d.header)},s.a.createElement(y.a,{variant:"h6"},a),s.a.createElement("div",{style:{marginLeft:"auto"}}),m&&m({selected:x}))),s.a.createElement(O.a,null),I.length?s.a.createElement(f.a,{component:g.a},s.a.createElement(v.a,{className:k()(d.table)},s.a.createElement(h.a,null,s.a.createElement(p.a,null,n&&s.a.createElement(b.a,{padding:"none"},s.a.createElement(E.a,{indeterminate:x.length>0&&x.length<I.length,checked:I.length>0&&x.length===I.length,onChange:function(){return S((function(e){return e.length<I.length?I.map((function(e,t){return{row:e,rowIndex:t}})):[]}))}})),s.a.createElement(b.a,null),u.map((function(e,t){return s.a.createElement(b.a,r()({},e.cellProps,{key:"".concat(e.key).concat(t)}),s.a.createElement("b",null,e.label))})),l?s.a.createElement(b.a,{align:"right"},s.a.createElement("b",null,"Action")):null)),s.a.createElement(z,{rows:I,selectable:n,renderRowAction:l,classes:d,displayFields:u,selected:x,setSelected:S,useDragHandle:!0,onSortEnd:function(e){var t=e.oldIndex,a=e.newIndex;return R((function(e){return P()(e,{$splice:[[t,1],[a,0,e[t]]]})}))}}))):s.a.createElement("div",{style:{textAlign:"center",padding:25}},s.a.createElement(y.a,{color:"textSecondary"},t||"No data"))))}q.propTypes={noDataMsg:d.a.string,selectable:d.a.bool,renderRowAction:d.a.func,title:d.a.string.isRequired,displayFields:d.a.array.isRequired,renderHeaderActions:d.a.func,onSortData:d.a.func,data:d.a.array.isRequired};t.a=q},201:function(e,t,a){"use strict";function n(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];var c=this,o=function(){e.apply(c,r)};clearTimeout(t),t=setTimeout(o,a)}return n.clear=function(){clearTimeout(t)},n}a.d(t,"a",(function(){return n}))},202:function(e,t,a){"use strict";var n=a(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(106)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=l},204:function(e,t,a){"use strict";t.a={PAGE_TITLE:"Scripts"}},207:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"g",(function(){return u})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return d})),a.d(t,"f",(function(){return f})),a.d(t,"a",(function(){return p}));var n=a(16),r=a.n(n),l=a(40);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/get-screens",o({body:e},t))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/update-screens",o({method:"POST",body:e},t))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/delete-screen",o({method:"POST",body:e},t))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/duplicate-screen",o({method:"POST",body:e},t))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/get-screen",o({body:e},t))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/update-screen",o({method:"POST",body:e},t))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)("/create-screen",o({method:"POST",body:e},t))}},218:function(e,t,a){"use strict";var n=a(1),r=a(3),l=a(0),c=(a(2),a(4)),o=a(5),i=a(8);function u(e){var t,a,n;return t=e,a=0,n=1,e=(Math.min(Math.max(a,t),n)-a)/(n-a),e=(e-=1)*e*e+1}var s=l.forwardRef((function(e,t){var a,o=e.classes,s=e.className,m=e.color,d=void 0===m?"primary":m,f=e.disableShrink,p=void 0!==f&&f,b=e.size,g=void 0===b?40:b,v=e.style,h=e.thickness,y=void 0===h?3.6:h,E=e.value,O=void 0===E?0:E,j=e.variant,w=void 0===j?"indeterminate":j,x=Object(r.a)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),k={},S={},P={};if("determinate"===w||"static"===w){var C=2*Math.PI*((44-y)/2);k.strokeDasharray=C.toFixed(3),P["aria-valuenow"]=Math.round(O),"static"===w?(k.strokeDashoffset="".concat(((100-O)/100*C).toFixed(3),"px"),S.transform="rotate(-90deg)"):(k.strokeDashoffset="".concat((a=(100-O)/100,a*a*C).toFixed(3),"px"),S.transform="rotate(".concat((270*u(O/70)).toFixed(3),"deg)"))}return l.createElement("div",Object(n.a)({className:Object(c.a)(o.root,s,"inherit"!==d&&o["color".concat(Object(i.a)(d))],{indeterminate:o.indeterminate,static:o.static}[w]),style:Object(n.a)({width:g,height:g},S,v),ref:t,role:"progressbar"},P,x),l.createElement("svg",{className:o.svg,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44)},l.createElement("circle",{className:Object(c.a)(o.circle,p&&o.circleDisableShrink,{indeterminate:o.circleIndeterminate,static:o.circleStatic}[w]),style:k,cx:44,cy:44,r:(44-y)/2,fill:"none",strokeWidth:y})))}));t.a=Object(o.a)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(s)},221:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(0),r=a.n(n),l=a(2),c=a.n(l),o=a(241),i=a(182),u=a(101),s=a(222),m=a.n(s),d=a(12);function f(e){var t=e.title,a=Object(d.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(o.a,{item:!0,xs:1,sm:1},r.a.createElement(i.a,{onClick:function(){return a.goBack()}},r.a.createElement(m.a,null))),r.a.createElement(o.a,{item:!0,xs:11,sm:11},r.a.createElement(u.a,{variant:"h5"},t))))}f.propTypes={title:c.a.node}},222:function(e,t,a){"use strict";var n=a(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(106)).default)(r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=l},223:function(e,t,a){"use strict";var n=a(0),r=n.createContext();t.a=r},224:function(e,t,a){"use strict";a.d(t,"b",(function(){return E}));var n=a(6),r=a.n(n),l=a(188),c=a.n(l),o=a(20),i=a.n(o),u=a(9),s=a.n(u),m=a(0),d=a.n(m),f=a(2),p=a.n(f),b=a(10),g=a.n(b),v=a(39),h=a.n(v),y=a(218);function E(e){return new Promise((function(t,a){var n=new FormData;n.append("file",e,e.filename),fetch("/upload-file",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){var n=e.file,r=e.error;if(r)return a(r);t({type:n.content_type,size:n.size,filename:n.filename,fileId:n.id,data:"".concat(window.location.origin,"/file/").concat(n.id)})})).catch(a)}))}var O=h()((function(){return{root:{position:"relative"},input:{position:"absolute",top:0,left:0,bottom:0,right:0,opacity:0}}})),j=d.a.forwardRef((function(e,t){var a=e.onUploadSuccess,n=e.children,l=e.className,o=s()(e,["onUploadSuccess","children","className"]),u=d.a.useState(!1),m=i()(u,2),f=m[0],p=m[1],b=d.a.useRef(null);d.a.useImperativeHandle(t,(function(){return{input:b,uploading:f}}));var v=O();return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:g()(l,v.root)},f?d.a.createElement(y.a,{size:15}):n,d.a.createElement("input",r()({},o,{type:"file",ref:b,value:"",className:g()(v.input),onChange:function(e){p(!0);var t=c()(e.target.files),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];p(!1),a(t)};Promise.all(t.map((function(e){return new Promise((function(t){E(e).catch((function(e){return t({error:e})})).then((function(e){return t(e)}))}))}))).catch(n).then((function(e){return n(null,e)}))}}))))}));j.propTypes={children:p.a.node,onUploadSuccess:p.a.func};t.a=j},229:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return l}));var n=[{name:"date",label:"Date"},{name:"datetime",label:"Datetime"},{name:"dropdown",label:"Dropdown"},{name:"number",label:"Number"},{name:"period",label:"Period"},{name:"text",label:"Text"},{name:"time",label:"Time"}],r=[{name:"checklist",label:"Checklist"},{name:"form",label:"Form"},{name:"management",label:"Management"},{name:"multi_select",label:"Multiple choice list"},{name:"list",label:"Simple list"},{name:"single_select",label:"Single choice list"},{name:"progress",label:"Progress"},{name:"timer",label:"Timer"},{name:"yesno",label:"Yes/No"}],l=[{name:"risk",label:"Risk factor"},{name:"sign",label:"Sign/Symptom"}]},238:function(e,t,a){"use strict";var n=a(3),r=a(1),l=a(0),c=(a(2),a(4)),o=a(5),i=a(76),u=a(8),s=l.forwardRef((function(e,t){var a=e.children,o=e.classes,s=e.className,m=e.color,d=void 0===m?"default":m,f=e.component,p=void 0===f?"button":f,b=e.disabled,g=void 0!==b&&b,v=e.disableFocusRipple,h=void 0!==v&&v,y=e.focusVisibleClassName,E=e.size,O=void 0===E?"large":E,j=e.variant,w=void 0===j?"round":j,x=Object(n.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return l.createElement(i.a,Object(r.a)({className:Object(c.a)(o.root,s,"round"!==w&&o.extended,"large"!==O&&o["size".concat(Object(u.a)(O))],g&&o.disabled,{primary:o.primary,secondary:o.secondary,inherit:o.colorInherit}[d]),component:p,disabled:g,focusRipple:!h,focusVisibleClassName:Object(c.a)(o.focusVisible,y),ref:t},x),l.createElement("span",{className:o.label},a))}));t.a=Object(o.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(s)},241:function(e,t,a){"use strict";var n=a(3),r=a(1),l=a(0),c=(a(2),a(4)),o=a(5),i=[0,1,2,3,4,5,6,7,8,9,10],u=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseFloat(e);return"".concat(a/t).concat(String(e).replace(String(a),"")||"px")}var m=l.forwardRef((function(e,t){var a=e.alignContent,o=void 0===a?"stretch":a,i=e.alignItems,u=void 0===i?"stretch":i,s=e.classes,m=e.className,d=e.component,f=void 0===d?"div":d,p=e.container,b=void 0!==p&&p,g=e.direction,v=void 0===g?"row":g,h=e.item,y=void 0!==h&&h,E=e.justify,O=void 0===E?"flex-start":E,j=e.lg,w=void 0!==j&&j,x=e.md,k=void 0!==x&&x,S=e.sm,P=void 0!==S&&S,C=e.spacing,D=void 0===C?0:C,I=e.wrap,R=void 0===I?"wrap":I,T=e.xl,N=void 0!==T&&T,F=e.xs,M=void 0!==F&&F,W=e.zeroMinWidth,z=void 0!==W&&W,$=Object(n.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),A=Object(c.a)(s.root,m,b&&[s.container,0!==D&&s["spacing-xs-".concat(String(D))]],y&&s.item,z&&s.zeroMinWidth,"row"!==v&&s["direction-xs-".concat(String(v))],"wrap"!==R&&s["wrap-xs-".concat(String(R))],"stretch"!==u&&s["align-items-xs-".concat(String(u))],"stretch"!==o&&s["align-content-xs-".concat(String(o))],"flex-start"!==O&&s["justify-xs-".concat(String(O))],!1!==M&&s["grid-xs-".concat(String(M))],!1!==P&&s["grid-sm-".concat(String(P))],!1!==k&&s["grid-md-".concat(String(k))],!1!==w&&s["grid-lg-".concat(String(w))],!1!==N&&s["grid-xl-".concat(String(N))]);return l.createElement(f,Object(r.a)({className:A,ref:t},$))})),d=Object(o.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var a={};return i.forEach((function(n){var r=e.spacing(n);0!==r&&(a["spacing-".concat(t,"-").concat(n)]={margin:"-".concat(s(r,2)),width:"calc(100% + ".concat(s(r),")"),"& > $item":{padding:s(r,2)}})})),a}(e,"xs"),e.breakpoints.keys.reduce((function(t,a){return function(e,t,a){var n={};u.forEach((function(e){var t="grid-".concat(a,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");n[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else n[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===a?Object(r.a)(e,n):e[t.breakpoints.up(a)]=n}(t,e,a),t}),{}))}),{name:"MuiGrid"})(m);t.a=d},242:function(e,t,a){"use strict";t.a={PAGE_TITLE:"Screens"}},243:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(20),r=a.n(n),l=a(0),c=a.n(l),o=a(2),i=a.n(o),u=a(160),s=a(102),m=a(158),d=a(157),f=a(156),p=a(218),b=a(224);function g(e){var t=e.data,a=e.save,n=c.a.useState(!1),l=r()(n,2),o=l[0],i=l[1],g=function(){var e=t.image1,a=t.image2,n=t.image3,r=[];if(e||a||n){var l=function(e,t){return t&&!t.fileId&&r.push({name:e,img:t})};l("image1",e),l("image2",a),l("image3",n)}return r};return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{fullWidth:!0,maxWidth:"sm",open:g().length>0,onClose:function(){}},c.a.createElement(f.a,null,"These images must be saved in the database"),c.a.createElement(d.a,null,g().map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("div",{style:{width:"90%",maxWidth:200,margin:"auto",display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement("img",{style:{width:"100%",height:"auto"},role:"presentation",src:e.img.data})),c.a.createElement("br",null))}))),c.a.createElement(m.a,null,c.a.createElement(s.a,{onClick:function(){var e=g();i(!0),Promise.all(e.map((function(e){for(var t=e.img,a=t.data,n=atob(a.split(",")[1]),r=a.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(n.length),c=new Uint8Array(l),o=0;o<n.length;o++)c[o]=n.charCodeAt(o);var i=new Blob([l],{type:r});return Object(b.b)(new File([i],t.filename))}))).catch((function(e){i(!1),alert(e.msg||e.message||JSON.stringify(e))})).then((function(t){var n={};t.forEach((function(t,a){n[e[a].name]=t})),i(!1),a(n)}))}},o?c.a.createElement(p.a,{size:15}):"Save"))))}g.propTypes={data:i.a.object.isRequired,save:i.a.func.isRequired}},244:function(e,t,a){"use strict";var n=a(16),r=a.n(n),l=a(0),c=a.n(l),o=a(327),i=a(238),u=a(200),s=a.n(u),m=a(202),d=a.n(m),f=a(101),p=a(241),b=a(224);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(e){var t=e.labels,a=e.value,n=e.onChange,r=e.noTitle;a=v({text:"",title:"",image:null},a),t=v({text:"Text",title:"Title",image:"Image"},t);var l=function(e){return n(v(v({},a),e))};return c.a.createElement(c.a.Fragment,null,!r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(o.a,{fullWidth:!0,value:a.title||"",label:t.title,onChange:function(e){return l({title:e.target.value})}})),c.a.createElement("br",null)),c.a.createElement(p.a,{container:!0,spacing:1,alignItems:"flex-end"},c.a.createElement(p.a,{item:!0,xs:10,sm:10},c.a.createElement(o.a,{fullWidth:!0,rows:5,multiline:!0,value:a.text||"",label:t.text,onChange:function(e){return l({text:e.target.value})}})),c.a.createElement(p.a,{item:!0,xs:2,sm:2},c.a.createElement("div",{style:{textAlign:"center",minHeight:100,display:"flex",alignItems:"center",justifyContent:"center"}},a.image&&a.image.data?c.a.createElement("img",{role:"presentation",src:a.image.data,style:{width:100,height:"auto"}}):c.a.createElement("div",{stype:{padding:20}},c.a.createElement(f.a,{color:"textSecondary",variant:"caption"},"No image"))),c.a.createElement("br",null),c.a.createElement(p.a,{container:!0},c.a.createElement(p.a,{item:!0,xs:6,sm:6,style:{textAlign:"center"}},c.a.createElement(b.a,{accept:"image/*",onUploadSuccess:function(e){return n({image:e[0]})}},c.a.createElement(i.a,{size:"small",color:"secondary"},c.a.createElement(s.a,{fontSize:"small"})))),c.a.createElement(p.a,{item:!0,xs:6,sm:6,style:{textAlign:"center"}},c.a.createElement(i.a,{size:"small",disabled:!a.image,onClick:function(){return l({image:null})}},c.a.createElement(d.a,{fontSize:"small"})))))),c.a.createElement("br",null),c.a.createElement("br",null))}},255:function(e,t,a){"use strict";var n=a(1),r=a(3),l=a(0),c=(a(2),a(4)),o=a(181),i=a(5),u=l.forwardRef((function(e,t){var a=e.classes,i=e.className,u=e.raised,s=void 0!==u&&u,m=Object(r.a)(e,["classes","className","raised"]);return l.createElement(o.a,Object(n.a)({className:Object(c.a)(a.root,i),elevation:s?8:1,ref:t},m))}));t.a=Object(i.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(u)},256:function(e,t,a){"use strict";var n=a(1),r=a(3),l=a(0),c=(a(2),a(4)),o=a(5),i=l.forwardRef((function(e,t){var a=e.classes,o=e.className,i=e.component,u=void 0===i?"div":i,s=Object(r.a)(e,["classes","className","component"]);return l.createElement(u,Object(n.a)({className:Object(c.a)(a.root,o),ref:t},s))}));t.a=Object(o.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(i)},264:function(e,t,a){"use strict";var n=a(1),r=a(3),l=a(0),c=(a(2),a(4)),o=a(217),i=a(5),u=a(101),s=a(8),m=l.forwardRef((function(e,t){e.checked;var a=e.classes,i=e.className,m=e.control,d=e.disabled,f=(e.inputRef,e.label),p=e.labelPlacement,b=void 0===p?"end":p,g=(e.name,e.onChange,e.value,Object(r.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),v=Object(o.a)(),h=d;void 0===h&&void 0!==m.props.disabled&&(h=m.props.disabled),void 0===h&&v&&(h=v.disabled);var y={disabled:h};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===m.props[t]&&void 0!==e[t]&&(y[t]=e[t])})),l.createElement("label",Object(n.a)({className:Object(c.a)(a.root,i,"end"!==b&&a["labelPlacement".concat(Object(s.a)(b))],h&&a.disabled),ref:t},g),l.cloneElement(m,y),l.createElement(u.a,{component:"span",className:Object(c.a)(a.label,h&&a.disabled)},f))}));t.a=Object(i.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(m)},265:function(e,t,a){"use strict";var n=a(1),r=a(3),l=a(0),c=(a(2),a(4)),o=a(5),i=l.forwardRef((function(e,t){var a=e.disableSpacing,o=void 0!==a&&a,i=e.classes,u=e.className,s=Object(r.a)(e,["disableSpacing","classes","className"]);return l.createElement("div",Object(n.a)({className:Object(c.a)(i.root,u,!o&&i.spacing),ref:t},s))}));t.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(i)},287:function(e,t,a){"use strict";var n=a(1),r=a(51),l=a(3),c=a(0),o=a(4),i=(a(2),a(161)),u=a(5),s=a(30),m=a(56),d=a(52),f=a(13),p=c.forwardRef((function(e,t){var a=e.children,u=e.classes,p=e.className,b=e.collapsedHeight,g=void 0===b?"0px":b,v=e.component,h=void 0===v?"div":v,y=e.disableStrictModeCompat,E=void 0!==y&&y,O=e.in,j=e.onEnter,w=e.onEntered,x=e.onEntering,k=e.onExit,S=e.onExited,P=e.onExiting,C=e.style,D=e.timeout,I=void 0===D?s.b.standard:D,R=e.TransitionComponent,T=void 0===R?i.a:R,N=Object(l.a)(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),F=Object(d.a)(),M=c.useRef(),W=c.useRef(null),z=c.useRef(),$="number"==typeof g?"".concat(g,"px"):g;c.useEffect((function(){return function(){clearTimeout(M.current)}}),[]);var A=F.unstable_strictMode&&!E,L=c.useRef(null),q=Object(f.a)(t,A?L:void 0),_=function(e){return function(t,a){if(e){var n=A?[L.current,t]:[t,a],l=Object(r.a)(n,2),c=l[0],o=l[1];void 0===o?e(c):e(c,o)}}},H=_((function(e,t){e.style.height=$,j&&j(e,t)})),V=_((function(e,t){var a=W.current?W.current.clientHeight:0,n=Object(m.a)({style:C,timeout:I},{mode:"enter"}).duration;if("auto"===I){var r=F.transitions.getAutoHeightDuration(a);e.style.transitionDuration="".concat(r,"ms"),z.current=r}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height="".concat(a,"px"),x&&x(e,t)})),B=_((function(e,t){e.style.height="auto",w&&w(e,t)})),G=_((function(e){var t=W.current?W.current.clientHeight:0;e.style.height="".concat(t,"px"),k&&k(e)})),J=_(S),U=_((function(e){var t=W.current?W.current.clientHeight:0,a=Object(m.a)({style:C,timeout:I},{mode:"exit"}).duration;if("auto"===I){var n=F.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),z.current=n}else e.style.transitionDuration="string"==typeof a?a:"".concat(a,"ms");e.style.height=$,P&&P(e)}));return c.createElement(T,Object(n.a)({in:O,onEnter:H,onEntered:B,onEntering:V,onExit:G,onExited:J,onExiting:U,addEndListener:function(e,t){var a=A?e:t;"auto"===I&&(M.current=setTimeout(a,z.current||0))},nodeRef:A?L:void 0,timeout:"auto"===I?null:I},N),(function(e,t){return c.createElement(h,Object(n.a)({className:Object(o.a)(u.container,p,{entered:u.entered,exited:!O&&"0px"===$&&u.hidden}[e]),style:Object(n.a)({minHeight:$},C),ref:q},t),c.createElement("div",{className:u.wrapper,ref:W},c.createElement("div",{className:u.wrapperInner},a)))}))}));p.muiSupportAuto=!0,t.a=Object(u.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(p)},288:function(e,t,a){"use strict";var n=a(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),l=(0,n(a(106)).default)(r.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=l},291:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),o=a(20),i=a.n(o),u=a(197),s=a(239),m=a(207);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p=a(9),b=a.n(p),g=a(205);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={metadata:{items:[],fields:[]}};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=r.a.createContext(null),w=function(){return r.a.useContext(j)},x=a(242),k=a(204),S=a(27),P=a(25),C=a(191),D=a(255),I=a(256),R=a(265),T=a(102),N=a(287),F=a(221),M=a(243),W=a(296),z=a(293),$=a(264),A=a(229),L=a(6),q=a.n(L),_=a(2),H=a.n(_),V=a(10),B=a.n(V),G=a(39),J=a.n(G),U=a(317),K=J()((function(e){return{backgroundColor:function(t){var a=t.color,n=e.palette[a]?e.palette[a].main:null;return n?{backgroundColor:n}:{}}}})),X=r.a.forwardRef((function(e,t){var a=e.className,n=e.color,l=b()(e,["className","color"]),c=K({color:n});return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,q()({},l,{ref:t,className:B()(a,c.backgroundColor)})))}));X.propTypes={className:H.a.string};var Y=X,Z=a(101);var Q=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,q()({variant:"button",color:"primary"},e)),r.a.createElement(Y,{color:"primary"}),r.a.createElement("br",null))};var ee=function(){var e=r.a.useState(""),t=i()(e,2),a=t[0],n=t[1],l=w(),c=l.setForm,o=l.state.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{in:!o.type},r.a.createElement("div",null,r.a.createElement(Q,null,"Screen type"),r.a.createElement(W.a,{name:"type",value:a,onChange:function(e){return n(e.target.value)}},A.b.map((function(e){return r.a.createElement($.a,{key:e.name,value:e.name,control:r.a.createElement(z.a,null),label:e.label})}))),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(T.a,{color:"primary",disabled:!a,onClick:function(){return c({type:a})}},"Continue")))))},te=a(327),ae=a(1),ne=a(3),re=a(4),le=a(5),ce=a(15),oe=a(8),ie=a(227),ue=n.forwardRef((function(e,t){var a=e.classes,r=e.className,l=e.color,c=void 0===l?"secondary":l,o=e.edge,i=void 0!==o&&o,u=e.size,s=void 0===u?"medium":u,m=Object(ne.a)(e,["classes","className","color","edge","size"]),d=n.createElement("span",{className:a.thumb});return n.createElement("span",{className:Object(re.a)(a.root,r,{start:a.edgeStart,end:a.edgeEnd}[i],"small"===s&&a["size".concat(Object(oe.a)(s))])},n.createElement(ie.a,Object(ae.a)({type:"checkbox",icon:d,checkedIcon:d,classes:{root:Object(re.a)(a.switchBase,a["color".concat(Object(oe.a)(c))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},m)),n.createElement("span",{className:a.track}))})),se=Object(le.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(ce.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(ce.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(ue);function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var de=function(){var e=w(),t=e.setForm,a=e.state.form;return r.a.useEffect((function(){t(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({skippable:null,condition:null},a))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"FLOW CONTROL"),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!a.skippable,onChange:function(){return t((function(e){return{skippable:!e.skippable}}))},name:"skippable"}),label:"Allow user to skip this screen"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:a.condition||"",label:"Conditional expression",onChange:function(e){return t({condition:e.target.value})}}),r.a.createElement(Z.a,{variant:"caption",color:"textSecondary"},"Example: ",r.a.createElement("b",null,"($key = true and $key2 = false) or $key3 = 'HD'"))),r.a.createElement("br",null))},fe=a(241),pe=a(244);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ve(e){return function(t){var a=w(),n=a.setForm,l=a.state.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,q()({},t,{form:l,setMetadata:function(e){return n((function(t){return{metadata:ge(ge({},t.metadata),e)}}))}})))}}function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ee(e){var t=e.form,a=e.setMetadata;return r.a.useEffect((function(){a(ye(ye({},function(){for(var e={},t=1;t<4;t++){var a;e=ye(ye({},e),{},(a={},c()(a,"text".concat(t),null),c()(a,"image".concat(t),null),c()(a,"title".concat(t),null),a))}return e}()),t.metadata))}),[]),r.a.createElement(r.a.Fragment,null,function(){for(var e=[],n=function(n){e.push(r.a.createElement(pe.a,{key:n,labels:{text:"Text ".concat(n),title:"Title ".concat(n),image:"Image ".concat(n)},value:{text:t.metadata["text".concat(n)],image:t.metadata["image".concat(n)],title:t.metadata["title".concat(n)]},onChange:function(e){var t,r=e.title,l=e.text,o=e.image;return a((t={},c()(t,"text".concat(n),l),c()(t,"image".concat(n),o),c()(t,"title".concat(n),r),t))}}))},l=1;l<4;l++)n(l);return e}())}Ee.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var Oe=ve(Ee);function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){var t=e.form,a=e.setMetadata;return r.a.useEffect((function(){a(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({dataType:"number",confidential:!1,key:null,label:null,timerValue:null,multiplier:null,minValue:null,maxValue:null},t.metadata))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{container:!0,spacing:1},r.a.createElement(fe.a,{xs:6,sm:6,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.key||"",label:"Input key",onChange:function(e){return a({key:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:6,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.label||"",label:"Input label",onChange:function(e){return a({label:e.target.value})}})),r.a.createElement(fe.a,{item:!0,sm:12},r.a.createElement("br",null)),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.timerValue||"",label:"Timer value (seconds)",onChange:function(e){return a({timerValue:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.multiplier||"",label:"Multiplier",onChange:function(e){return a({multiplier:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.minValue||"",label:"Input value min.",onChange:function(e){return a({minValue:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:t.metadata.maxValue||"",label:"Input value max.",onChange:function(e){return a({maxValue:e.target.value})}}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!t.metadata.confidential,onChange:function(){return a({confidential:!t.metadata.confidential})},name:"confidential"}),label:"Confidential"})),r.a.createElement("br",null),r.a.createElement("br",null))}we.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var xe=ve(we);function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Se(e){var t=e.form,a=e.setMetadata;return r.a.useEffect((function(){a(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({dataType:"boolean",confidential:!1,key:null,label:null,negativeLabel:null,positiveLabel:null},t.metadata))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.key,value:t.metadata.key||"",label:"Input key",onChange:function(e){return a({key:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.label,value:t.metadata.label||"",label:"Input label",onChange:function(e){return a({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!t.metadata.confidential,onChange:function(){return a({confidential:!t.metadata.confidential})},name:"confidential"}),label:"Confidential"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(fe.a,{container:!0,spacing:1},r.a.createElement(fe.a,{xs:6,sm:6,item:!0},r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.negativeLabel,value:t.metadata.negativeLabel||"",label:"Negative label",onChange:function(e){return a({negativeLabel:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:6,item:!0},r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.positiveLabel,value:t.metadata.positiveLabel||"",label:"Positive label",onChange:function(e){return a({positiveLabel:e.target.value})}}))),r.a.createElement("br",null),r.a.createElement("br",null))}Se.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var Pe=ve(Se);function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function De(e){var t=e.form,a=e.setMetadata;return r.a.useEffect((function(){a(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({dataType:function(){switch(t.type){case"multi_select":return"set<id>";default:return"id"}},confidential:!1,key:null,label:null},t.metadata))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.key,value:t.metadata.key||"",label:"Input key",onChange:function(e){return a({key:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!t.metadata.label,value:t.metadata.label||"",label:"Input label",onChange:function(e){return a({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!t.metadata.confidential,onChange:function(){return a({confidential:!t.metadata.confidential})},name:"confidential"}),label:"Confidential"})),r.a.createElement("br",null))}De.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var Ie=ve(De);function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Te=function(){var e=w(),t=e.setForm,a=e.state.form;return r.a.useEffect((function(){t(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({epicId:null,storyId:null,refId:null,step:null,title:null,sectionTitle:null,actionText:null,contentText:null,instructions:null,notes:null},a))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Properties"),r.a.createElement(fe.a,{container:!0,spacing:1},r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:a.epicId||"",label:"Epic ID",onChange:function(e){return t({epicId:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:a.storyId||"",label:"Story ID",onChange:function(e){return t({storyId:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:a.refId||"",label:"Ref.",onChange:function(e){return t({refId:e.target.value})}})),r.a.createElement(fe.a,{xs:6,sm:3,item:!0},r.a.createElement(te.a,{fullWidth:!0,value:a.step||"",label:"Step",onChange:function(e){return t({step:e.target.value})}}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!a.title,value:a.title||"",label:"Title",onChange:function(e){return t({title:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,required:!0,error:!a.sectionTitle,value:a.sectionTitle||"",label:"Print section title",onChange:function(e){return t({sectionTitle:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:a.actionText||"",label:"Action",onChange:function(e){return t({actionText:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{rows:5,multiline:!0,fullWidth:!0,value:a.contentText||"",label:"Content",onChange:function(e){return t({contentText:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),function(){var e=null;switch(a.type){case"yesno":e=Pe;break;case"timer":e=xe;break;case"management":e=Oe;break;case"multi_select":case"single_select":e=Ie}return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(e,null),r.a.createElement("br",null)):null}(),r.a.createElement("div",null,r.a.createElement(te.a,{rows:5,multiline:!0,fullWidth:!0,value:a.instructions||"",label:"Instructions",onChange:function(e){return t({instructions:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{rows:5,multiline:!0,fullWidth:!0,value:a.notes||"",label:"Notes",onChange:function(e){return t({notes:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null))},Ne=a(188),Fe=a.n(Ne),Me=a(196),We=a(182),ze=a(200),$e=a.n(ze),Ae=a(288),Le=a.n(Ae),qe=a(160),_e=a(156),He=a(157),Ve=a(158);function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Je=r.a.forwardRef((function(e,t){var a=e.children,n=e.onClick,l=e.data,c=e.onSave,o=e.form.type,u=b()(e,["children","onClick","data","onSave","form"]),s=r.a.useState(!1),m=i()(s,2),d=m[0],f=m[1],p=r.a.useState(Ge({dataType:function(){switch(o){case"list":return"void";case"checklist":return"boolean";case"single_select":return"id";default:return null}},confidential:!1,checked:null,id:null,label:null,key:null,exclusive:null,summary:null},l)),g=i()(p,2),v=g[0],h=g[1],y=function(e){return h((function(t){return Ge(Ge({},t),"function"==typeof e?e(t):e)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",q()({},u,{ref:t,onClick:function(e){f(!0),n&&n(e)}}),a),r.a.createElement(qe.a,{open:d,maxWidth:"sm",fullWidth:!0,onClose:function(){return f(!1)}},r.a.createElement(_e.a,null,l?"Edit":"Add"," item"),r.a.createElement(He.a,null,function(){switch(o){case"progress":return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:v.label||"",label:"Label",onChange:function(e){return y({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!v.checked,onChange:function(){return y({checked:!v.checked})},name:"checked"}),label:"Mark as checked"})));case"list":return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:v.label||"",label:"Label",onChange:function(e){return y({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:v.summary||"",label:"Summary",onChange:function(e){return y({summary:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("br",null));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{container:!0,spacing:1},r.a.createElement(fe.a,{item:!0,xs:2,sm:2},r.a.createElement(te.a,{fullWidth:!0,value:v.id||"",label:"ID",onChange:function(e){return y({id:e.target.value})}})),r.a.createElement(fe.a,{item:!0,xs:10,sm:10},r.a.createElement(te.a,{fullWidth:!0,value:v.label||"",label:"Label",onChange:function(e){return y({label:e.target.value})}}))),r.a.createElement("br",null),"multi_select"===o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!v.exclusive,onChange:function(){return y({exclusive:!v.exclusive})},name:"exclusive"}),label:"Disable other items if selected"}))))}}()),r.a.createElement(Ve.a,null,r.a.createElement(T.a,{onClick:function(){return f(!1)}},"Cancel"),r.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(){c(v),f(!1)}},"Save"))))}));Je.propTypes={onClick:H.a.func,form:H.a.object.isRequired,children:H.a.node,data:H.a.object,onSave:H.a.func.isRequired};var Ue=Je,Ke=a(206),Xe=a.n(Ke),Ye=a(294),Ze=a(321);function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function tt(e){var t=e.row,a=e.rowIndex,n=e.form,l=e.setMetadata,c=r.a.useState(null),o=i()(c,2),u=o[0],s=o[1],m=function(){return s(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{onClick:function(e){return s(e.currentTarget)}},r.a.createElement(Xe.a,null)),r.a.createElement(Ye.a,{anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:m},r.a.createElement(Ze.a,{onClick:m,component:Ue,form:n,data:t,onSave:function(e){return l({items:n.metadata.items.map((function(t,n){return a===n?et(et({},t),e):t}))})}},"Edit"),r.a.createElement(Ze.a,{onClick:function(e){l({items:n.metadata.items.filter((function(e,t){return t!==a}))}),m()}},r.a.createElement(Z.a,{color:"error"},"Delete"))))}tt.propTypes={rowIndex:H.a.number,row:H.a.object,form:H.a.object,setMetadata:H.a.func.isRequired};var at=tt;function nt(e){var t=e.form,a=e.setMetadata;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{selectable:!1,noDataMsg:"No items",title:"Items",data:t.metadata.items,renderHeaderActions:function(){return r.a.createElement(Ue,{form:t,onSave:function(e){return a({items:[].concat(Fe()(t.metadata.items),[e])})}},r.a.createElement(We.a,null,r.a.createElement($e.a,null)))},renderRowAction:function(e,n){return r.a.createElement(at,{row:e,form:t,rowIndex:n,setMetadata:a})},displayFields:function(){switch(t.type){case"single_select":return[{key:"id",label:"ID"},{key:"label",label:"Label"}];case"multi_select":return[{key:"id",label:"ID"},{key:"label",label:"Label"},{key:"checked",label:"Checked",cellProps:{align:"right"},render:function(e){return e.row[e.column]?r.a.createElement(Le.a,{fontSize:"small",color:"primary"}):null}}];case"list":return[{key:"label",label:"Label"},{key:"summary",label:"Summary"}];case"progress":return[{key:"label",label:"Label"},{key:"checked",label:"Checked",cellProps:{align:"right"},render:function(e){return e.row[e.column]?r.a.createElement(Le.a,{fontSize:"small",color:"primary"}):null}}];default:return[]}}(),onSortData:function(e){a({items:e})}}))}nt.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var rt=ve(nt);function lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ot=r.a.forwardRef((function(e,t){var a,n=e.children,l=e.onClick,c=e.data,o=e.onSave,u=e.form.type,s=b()(e,["children","onClick","data","onSave","form"]),m=r.a.useState(!1),d=i()(m,2),f=d[0],p=d[1],g=ct({calculation:null,condition:null,confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,label:null,minValue:null,maxValue:null,values:null,optional:!1},c),v=r.a.useState(g),h=i()(v,2),y=h[0],E=h[1],O=function(e){return E((function(t){return ct(ct({},t),"function"==typeof e?e(t):e)}))};return r.a.useEffect((function(){O(g)}),[f]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",q()({},s,{ref:t,onClick:function(e){p(!0),l&&l(e)}}),n),r.a.createElement(qe.a,{open:f,maxWidth:"sm",fullWidth:!0,onClose:function(){return p(!1)}},r.a.createElement(_e.a,null,c?"Edit":"Add"," field"),r.a.createElement(He.a,null,r.a.createElement(N.a,{in:!y.type},r.a.createElement(Q,null,"Screen type"),r.a.createElement(W.a,{name:"type",value:u,onChange:function(e){return O({type:e.target.value})}},A.a.map((function(e){return r.a.createElement($.a,{key:e.name,value:e.name,control:r.a.createElement(z.a,null),label:e.label})})))),r.a.createElement(N.a,{in:!!y.type},r.a.createElement("div",null,r.a.createElement(Q,null,"Flow control"),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:y.condition||"",label:"Conditional expression",onChange:function(e){return O({condition:e.target.value})}}),r.a.createElement(Z.a,{variant:"caption",color:"textSecondary"},"Example: ",r.a.createElement("b",null,"($key = true and $key2 = false) or $key3 = 'HD'"))),r.a.createElement("br",null),r.a.createElement(Q,null,"Properties"),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:y.key||"",label:"Key",onChange:function(e){return O({key:e.target.value})}})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(te.a,{fullWidth:!0,value:y.label||"",label:"Label",onChange:function(e){return O({label:e.target.value})}})),r.a.createElement("br",null),r.a.createElement(fe.a,{container:!0},r.a.createElement(fe.a,{item:!0,xs:6,sm:6},r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!y.confidential,onChange:function(){return O({confidential:!y.confidential})},name:"confidential"}),label:"Confidential"}))),r.a.createElement(fe.a,{item:!0,xs:6,sm:6},r.a.createElement("div",null,r.a.createElement($.a,{control:r.a.createElement(se,{checked:!!y.optional,onChange:function(){return O({optional:!y.optional})},name:"optional"}),label:"Optional"})))),r.a.createElement("br",null),(a=null,"text"===y.type?a=[{label:"Generated ID",name:"uid"}]:"date"!==y.type&&"datetime"!==y.type||(a=[{label:"Current time",name:"date_now"},{label:"Today at noon",name:"date_noon"},{label:"Today at midnight",name:"date_midnight"}]),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null,"Default"),r.a.createElement(W.a,{name:"type",value:u,onChange:function(e){return O({defaultValue:e.target.value})}},r.a.createElement($.a,{value:"",control:r.a.createElement(z.a,null),label:"Empty"}),a.map((function(e){return r.a.createElement($.a,{key:e.name,value:e.name,control:r.a.createElement(z.a,null),label:e.label})})))):null)))),r.a.createElement(Ve.a,null,r.a.createElement(T.a,{onClick:function(){return p(!1)}},"Cancel"),r.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(){o(y),p(!1)}},"Save"))))}));ot.propTypes={onClick:H.a.func,form:H.a.object.isRequired,children:H.a.node,data:H.a.object,onSave:H.a.func.isRequired};var it=ot;function ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function st(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function mt(e){var t=e.row,a=e.rowIndex,n=e.form,l=e.setMetadata,c=r.a.useState(null),o=i()(c,2),u=o[0],s=o[1],m=function(){return s(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{onClick:function(e){return s(e.currentTarget)}},r.a.createElement(Xe.a,null)),r.a.createElement(Ye.a,{anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:m},r.a.createElement(Ze.a,{onClick:m,component:it,form:n,data:t,onSave:function(e){return l({fields:n.metadata.fields.map((function(t,n){return a===n?st(st({},t),e):t}))})}},"Edit"),r.a.createElement(Ze.a,{onClick:function(e){l({fields:n.metadata.fields.filter((function(e,t){return t!==a}))}),m()}},r.a.createElement(Z.a,{color:"error"},"Delete"))))}mt.propTypes={rowIndex:H.a.number,row:H.a.object,form:H.a.object,setMetadata:H.a.func.isRequired};var dt=mt;function ft(e){var t=e.form,a=e.setMetadata;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{selectable:!1,noDataMsg:"No fields",title:"Fields",data:t.metadata.fields,renderHeaderActions:function(){return r.a.createElement(it,{form:t,onSave:function(e){return a({fields:[].concat(Fe()(t.metadata.fields),[e])})}},r.a.createElement(We.a,null,r.a.createElement($e.a,null)))},renderRowAction:function(e,n){return r.a.createElement(dt,{row:e,form:t,rowIndex:n,setMetadata:a})},displayFields:[{key:"type",label:"Type"},{key:"key",label:"Key"},{key:"label",label:"Label"}],onSortData:function(e){a({fields:e})}}))}ft.propTypes={setMetadata:H.a.func.isRequired,form:H.a.object.isRequired};var pt=ve(ft);function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vt=function(){var e=w(),t=e.canSaveScreen,a=e.saveScreen,n=e.setFormAndSave,l=e.state,c=l.screen,o=l.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{data:o.metadata,save:function(e){return n((function(t){return{metadata:gt(gt({},t.metadata),e)}}))}}),r.a.createElement(D.a,null,r.a.createElement(I.a,null,r.a.createElement(F.a,{title:"".concat(c?"Edit":"Add"," screen")}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ee,null),r.a.createElement(N.a,{in:!!o.type},r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement("br",null),r.a.createElement(Te,null),r.a.createElement("br",null)))),!!o.type&&r.a.createElement(R.a,{style:{justifyContent:"flex-end"}},r.a.createElement(T.a,{color:"primary",onClick:function(){return a()},disabled:!t()},"Save"))),r.a.createElement("br",null),["single_select","multi_select","list","progress"].includes(o.type)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,null)),"form"===o.type&&r.a.createElement(pt,null))};var ht;t.default=(ht=function(){var e=Object(u.b)().state.script,t=w(),a=t.isFormReady,n=t.state,l=n.screen,c=n.loadingScreen,o=n.savingScreen,i=e?[k.a.PAGE_TITLE,e.data.title,x.a.PAGE_TITLE,l?l.data.title:c?"":"New screen"].filter((function(e){return e})):[];return Object(P.b)(i.join(" > ")),Object(S.e)(i.join(" / ")),a()?r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,null),c&&o?r.a.createElement(C.a,null):null):r.a.createElement(C.a,{transparent:!0})},function(e){var t=Object(u.b)().state.script,a=Object(s.a)(),n=a.match.params,l=n.screenId,c=n.screenSection,o=r.a.useState({screenSection:c||"screens",form:y}),d=i()(o,2),p=d[0],v=d[1],E=function(e){return v((function(t){return O(O({},t),"function"==typeof e?e(t):e)}))},w=function(e){return v((function(t){return O(O({},t),{},{form:O(O({},t.form),"function"==typeof e?e(t.form):e)})}))},x=function(e){var t=e.setState;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t({loadingScreen:!0});var a=function(e,a){t((function(t){var n=t.form;return f(f({initialiseScreenError:e,screenInitialised:!0,loadingScreen:!1},a),{},{form:f(f({},n),e?{}:a.screen?a.screen.data:{})})}))};m.d(e).then((function(e){return a(e.errors,e)})).catch(a)}}({setState:E}),k=function(e){var t=e.setState,a=e.router,n=a.history,r=a.match.params.scriptId,l=e.state,c=l.screen,o=l.form;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.redirectOnSuccess,l=b()(e,["redirectOnSuccess"]),i=!1!==a;t({savingScreen:!0});var u=function(e,a){e&&alert("Error(s):\n".concat(Object(g.a)(e))),t((function(t){var n=t.form;return{saveScreenError:e,savingScreen:!1,form:h(h({},n),e?{}:a.screen?a.screen.data:{})}}))},s=c?m.f:m.a,d=JSON.stringify(h(h({},o),l));s(h(h({script_id:r,type:o.type},c),{},{data:d})).then((function(e){i&&e.screen&&n.push("/scripts/".concat(r).concat(c?"":"/screens/".concat(e.screen.id))),u(e.errors,e)})).catch(u)}}({setState:E,state:p,router:a});r.a.useEffect((function(){E({screenInitialised:"new"!==l,screen:null,form:y}),"new"!==l&&x({id:l})}),[l]);var S=p.shouldSaveForm;return r.a.useEffect((function(){S&&(k({redirectOnSuccess:!1}),E({shouldSaveForm:!1}))}),[S]),r.a.createElement(j.Provider,{value:{state:p,setState:E,_setState:v,getScreen:x,setForm:w,saveScreen:k,canSaveScreen:function(){return p.form.title&&!p.savingScreen},isFormReady:function(){return t&&("new"===l||!!p.screen)},setFormAndSave:function(e){w(e),E({shouldSaveForm:!0})}}},r.a.createElement(ht,e))})},293:function(e,t,a){"use strict";var n=a(1),r=a(3),l=a(0),c=(a(2),a(4)),o=a(227),i=a(77),u=Object(i.a)(l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),s=Object(i.a)(l.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),m=a(5);var d=Object(m.a)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var t=e.checked,a=e.classes,n=e.fontSize;return l.createElement("div",{className:Object(c.a)(a.root,t&&a.checked)},l.createElement(u,{fontSize:n}),l.createElement(s,{fontSize:n,className:a.layer}))})),f=a(15),p=a(8),b=a(43),g=a(223);var v=l.createElement(d,{checked:!0}),h=l.createElement(d,null),y=l.forwardRef((function(e,t){var a=e.checked,i=e.classes,u=e.color,s=void 0===u?"secondary":u,m=e.name,d=e.onChange,f=e.size,y=void 0===f?"medium":f,E=Object(r.a)(e,["checked","classes","color","name","onChange","size"]),O=l.useContext(g.a),j=a,w=Object(b.a)(d,O&&O.onChange),x=m;return O&&(void 0===j&&(j=O.value===e.value),void 0===x&&(x=O.name)),l.createElement(o.a,Object(n.a)({color:s,type:"radio",icon:l.cloneElement(h,{fontSize:"small"===y?"small":"default"}),checkedIcon:l.cloneElement(v,{fontSize:"small"===y?"small":"default"}),classes:{root:Object(c.a)(i.root,i["color".concat(Object(p.a)(s))]),checked:i.checked,disabled:i.disabled},name:x,checked:j,onChange:w,ref:t},E))}));t.a=Object(m.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(f.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(f.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(y)},296:function(e,t,a){"use strict";var n=a(1),r=a(51),l=a(3),c=a(0),o=(a(2),a(4)),i=a(5),u=c.forwardRef((function(e,t){var a=e.classes,r=e.className,i=e.row,u=void 0!==i&&i,s=Object(l.a)(e,["classes","className","row"]);return c.createElement("div",Object(n.a)({className:Object(o.a)(a.root,r,u&&a.row),ref:t},s))})),s=Object(i.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(u),m=a(13),d=a(228),f=a(223);var p=c.forwardRef((function(e,t){var a=e.actions,o=e.children,i=e.name,u=e.value,p=e.onChange,b=Object(l.a)(e,["actions","children","name","value","onChange"]),g=c.useRef(null),v=Object(d.a)({controlled:u,default:e.defaultValue,name:"RadioGroup"}),h=Object(r.a)(v,2),y=h[0],E=h[1];c.useImperativeHandle(a,(function(){return{focus:function(){var e=g.current.querySelector("input:not(:disabled):checked");e||(e=g.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var O,j,w,x,k,S=Object(m.a)(t,g),P=(O=i,j=c.useState(O),w=j[0],x=j[1],k=O||w,c.useEffect((function(){null==w&&x("mui-".concat(Math.round(1e5*Math.random())))}),[w]),k);return c.createElement(f.a.Provider,{value:{name:P,onChange:function(e){E(e.target.value),p&&p(e,e.target.value)},value:y}},c.createElement(s,Object(n.a)({role:"radiogroup",ref:S},b),o))}));t.a=p}}]);