(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{130:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var a=n(11),r=n.n(a),i=n(16),o=n.n(i),s=n(18),c=n.n(s),l=n(19),d=n.n(l),u=n(20),p=n.n(u),m=n(21),h=n.n(m),f=n(24),E=n.n(f),g=n(22),S=n.n(g),y=n(23),v=n.n(y),C=n(0),b=n.n(C),T=n(2),I=n.n(T),D=n(34),k=n.n(D),w=n(125),N=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(r))),v()(E()(n),"handleLeftNavClick",function(){n.props.onLeftNavItemClicked&&n.props.onLeftNavItemClicked()}),n}return S()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.hideSpacer,i=e.leftNavIcon,s=(e.onLeftNavItemClicked,e.title),c=(e.transparent,o()(e,["children","className","hideSpacer","leftNavIcon","onLeftNavItemClicked","title","transparent"])),l=k()(n,"mdl-toolbar__header","mdl-layout__header","mdl-layout__header--transparent"),d=k()("mdl-toolbar__header-row",{"mdl-toolbar__header-row-with-left-icon":i}),u=k()("mdl-toolbar__left-nav"),p=k()("mdl-toolbar__right-nav");return b.a.createElement("header",r()({className:l},c),i?b.a.createElement(w.IconButton,{className:u,name:i,onClick:this.handleLeftNavClick}):b.a.createElement("div",{style:{width:"24px"}}),b.a.createElement(w.HeaderRow,{className:d,title:s||"",hideSpacer:a},t?b.a.createElement(w.Navigation,{className:p},t):null))}}]),t}(C.Component);N.propTypes={className:I.a.string,title:I.a.node,leftNavIcon:I.a.string,onLeftNavItemClicked:I.a.func,hideSpacer:I.a.bool}},131:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return c});var a={COMPUTE:"compute",DATE_NOW:"date_now",DATE_NOON:"date_noon",DATE_MIDNIGHT:"date_midnight",EMPTY:"",UID:"uid"},r={BOOLEAN:"boolean",DATETIME:"datetime",DATE:"date",ID:"id",NUMBER:"number",PERIOD:"period",SET_ID:"set<id>",STRING:"string",TIME:"time",VOID:"void"},i={DATE:"date",DATETIME:"datetime",DROPDOWN:"dropdown",NUMBER:"number",PERIOD:"period",TEXT:"text",TIME:"time"},o={CHECKLIST:"checklist",FORM:"form",LIST:"list",MANAGEMENT:"management",MULTI_SELECT:"multi_select",PROGRESS:"progress",SINGLE_SELECT:"single_select",TIMER:"timer",YESNO:"yesno"},s={SIGN:"sign",RISK:"risk"},c=o.CHECKLIST},134:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var a=n(11),r=n.n(a),i=n(16),o=n.n(i),s=n(18),c=n.n(s),l=n(19),d=n.n(l),u=n(20),p=n.n(u),m=n(21),h=n.n(m),f=n(22),E=n.n(f),g=n(0),S=n.n(g),y=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return E()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=o()(e,["children"]);return S.a.createElement("div",r()({style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",marginTop:"16px",marginBottom:"8px"}},n),t)}}]),t}(g.Component)},141:function(e,t,n){"use strict";function a(e,t,n){if(n>=e.length)for(var a=n-e.length;1+a--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}n.d(t,"a",function(){return a})},159:function(e,t,n){"use strict";var a=n(11),r=n.n(a),i=n(16),o=n.n(i),s=n(18),c=n.n(s),l=n(19),d=n.n(l),u=n(20),p=n.n(u),m=n(21),h=n.n(m),f=n(22),E=n.n(f),g=n(23),S=n.n(g),y=n(0),v=n.n(y),C=n(2),b=n.n(C),T=n(34),I=n.n(T),D=function(e){function t(){return c()(this,t),p()(this,h()(t).apply(this,arguments))}return E()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=(e.name,e.numeric),a=e.children,i=(e.cellFormatter,o()(e,["className","name","numeric","children","cellFormatter"])),s=I()({"mdl-data-table__cell--non-numeric":!n},t);return v.a.createElement("th",r()({className:s},i),a)}}]),t}(y.Component);S()(D,"propTypes",{cellFormatter:b.a.func,className:b.a.string,name:b.a.string.isRequired,numeric:b.a.bool});var k=n(24),w=n.n(k),N=n(138),R=n.n(N),_=n(125),x=n(191),A=n(192),M=n.n(A),O=[2,3,4,6,8,16,24].map(function(e){return"mdl-shadow--".concat(e,"dp")}),j=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=p()(this,(e=h()(t)).call.apply(e,[this].concat(r))),S()(w()(n),"renderCell",function(e,t,n){var a=e.numeric?"":"mdl-data-table__cell--non-numeric";return v.a.createElement("td",{key:e.name,className:a},e.cellFormatter?e.cellFormatter(t[e.name],t,n):t[e.name])}),S()(w()(n),"sortAdapterFn",function(e){var t=e.oldIndex,a=e.newIndex,r=n.props.onSort;r&&r(t,a)}),n}return E()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.shadow,i=t.children,s=(t.onSort,t.rowKeyColumn,t.rows),c=o()(t,["className","shadow","children","onSort","rowKeyColumn","rows"]),l=void 0!==a,d=R()(a||0,0,O.length-1),u=I()("mdl-data-table",S()({},O[d],l),n),p=i?v.a.Children.toArray(i):null,m=Object(x.SortableHandle)(function(){return v.a.createElement(_.IconButton,{name:"drag_handle"})}),h=Object(x.SortableElement)(function(t){var n=t.row,a=t.index;return v.a.createElement("tr",{className:n.className},v.a.createElement("td",null,v.a.createElement(m,null)),p.map(function(t){return e.renderCell(t.props,n,a)}))}),f=Object(x.SortableContainer)(function(e){var t=e.rows;return v.a.createElement("tbody",null,t.map(function(e,t){return v.a.createElement(h,{key:M.a.generate(),index:t,row:e})}))});return v.a.createElement("table",r()({className:u},c),v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"Â "),p)),v.a.createElement(f,{rows:s,onSortEnd:this.sortAdapterFn,useDragHandle:!0}))}}]),t}(y.Component);S()(j,"propTypes",{className:b.a.string,onSort:b.a.func,rowKeyColumn:b.a.string,rows:b.a.arrayOf(b.a.object).isRequired,shadow:b.a.number}),n.d(t,"b",function(){return D}),n.d(t,"a",function(){return j})},197:function(e,t){},198:function(e,t){},216:function(e,t){},219:function(e,t){},405:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n.n(a),i=n(19),o=n.n(i),s=n(20),c=n.n(s),l=n(21),d=n.n(l),u=n(24),p=n.n(u),m=n(22),h=n.n(m),f=n(23),E=n.n(f),g=n(0),S=n.n(g),y=n(2),v=n.n(y),C=n(25),b=n(12),T=n(42),I=n(52),D=n(3),k=n.n(D),w=n(125),N=n(134),R=n(130),_=n(43),x=n.n(_),A=n(159),M=n(141),O=n(131),j=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=c()(this,(e=d()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{openSelectScreenTypeDialog:!1,screens:[],addScreenType:O.a}),E()(p()(n),"handleAddScreenClick",function(){var e=n.props,t=e.actions,a=e.scriptId,r=e.history,i=n.state.addScreenType;n.setState({addingScreen:!1}),t.post("create-screen",{script_id:a,type:i,onResponse:function(){return n.setState({addingScreen:!1})},onFailure:function(e){return n.setState({addScreenError:e})},onSuccess:function(e){var i=e.payload;t.updateApiData({screen:i.screen}),r.push("/dashboard/scripts/".concat(a,"/screens/").concat(i.screen.id)),n.closeSelectScreenTypeDialog()}})}),E()(p()(n),"handleDeleteScreenClick",function(e){return function(){var t=n.props,a=t.actions,r=t.scriptId;n.setState({deletingScreen:!1}),a.post("delete-screen",{id:e,scriptId:r,onResponse:function(){return n.setState({deletingScreen:!1})},onFailure:function(e){return n.setState({deleteScreenError:e})},onSuccess:function(){a.updateApiData(function(t){return{screens:t.screens.filter(function(t){return t.id!==e})}})}})}}),E()(p()(n),"handleEditScreenClick",function(e){return function(){return n.props.onEditScreenClick(e)}}),E()(p()(n),"handleInputChange",function(e,t){return n.setState(E()({},e,t.target.value))}),E()(p()(n),"openSelectScreenTypeDialog",function(){return n.setState({openSelectScreenTypeDialog:!0})}),E()(p()(n),"closeSelectScreenTypeDialog",function(){return n.setState({openSelectScreenTypeDialog:!1,addScreenTitle:null,addScreenType:O.a})}),E()(p()(n),"swapScreenItems",function(e,t){var a=n.props.screens,r=Object(M.a)(x()(a),e,t),i=n.props.actions;n.setState({sortingScreens:!1}),i.post("update-screens",{returnUpdated:!0,screens:r.map(function(e,t){return{id:e.id,position:t}}),onResponse:function(){return n.setState({sortingScreens:!1})},onFailure:function(e){return n.setState({deleteScriptError:e})},onSuccess:function(e){var t=e.payload;return i.updateApiData({screens:t.screens})}})}),n}return h()(t,e),o()(t,[{key:"render",value:function(){var e=this,t=this.props.screens,n=this.state.addScreenType,a={screens:{marginTop:"24px",width:"780px"},table:{width:"100%"},emptyMessageContainer:{display:"flex",boxSizing:"border-box",alignItems:"center",justifyContent:"center",color:"#757575",fontSize:"16px"}},r=S.a.createElement(w.Dialog,{open:this.state.openSelectScreenTypeDialog,style:{width:"260px"}},S.a.createElement(w.DialogContent,null,S.a.createElement("p",null,"Select screen type:"),S.a.createElement(w.RadioGroup,{container:"div",childContainer:"div",name:"addScreenType",value:n||O.a,onChange:this.handleInputChange.bind(this,"addScreenType")},S.a.createElement(w.Radio,{value:O.e.CHECKLIST,ripple:!0},"Checklist"),S.a.createElement(w.Radio,{value:O.e.FORM,ripple:!0},"Form"),S.a.createElement(w.Radio,{value:O.e.MANAGEMENT,ripple:!0},"Management"),S.a.createElement(w.Radio,{value:O.e.MULTI_SELECT,ripple:!0},"Multiple choice list"),S.a.createElement(w.Radio,{value:O.e.LIST,ripple:!0},"Simple list"),S.a.createElement(w.Radio,{value:O.e.SINGLE_SELECT,ripple:!0},"Single choice list"),S.a.createElement(w.Radio,{value:O.e.PROGRESS,ripple:!0},"Progress"),S.a.createElement(w.Radio,{value:O.e.TIMER,ripple:!0},"Timer"),S.a.createElement(w.Radio,{value:O.e.YESNO,ripple:!0},"Yes/No"))),S.a.createElement(w.DialogActions,null,S.a.createElement(w.Button,{type:"button",onClick:this.handleAddScreenClick,accent:!0},"Create"),S.a.createElement(w.Button,{type:"button",onClick:this.closeSelectScreenTypeDialog},"Cancel")));return S.a.createElement("div",null,S.a.createElement(w.Card,{shadow:0,style:a.screens},S.a.createElement(R.a,{title:"Screens"},S.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},S.a.createElement(w.IconButton,{name:"add",onClick:this.openSelectScreenTypeDialog}))),t&&t.length>0?S.a.createElement(A.a,{style:a.table,rows:t.map(function(e){return k()({id:e.id,position:e.position},e.data)}),rowKeyColumn:"position",onSort:this.swapScreenItems},S.a.createElement(A.b,{name:"position"},"Pos"),S.a.createElement(A.b,{name:"epicId"},"Epic"),S.a.createElement(A.b,{name:"storyId"},"Story"),S.a.createElement(A.b,{name:"refId"},"Ref."),S.a.createElement(A.b,{name:"title",style:{width:"100%"},cellFormatter:function(e,t){var n=t.title;return n?n.length<=30?n:"".concat(n.substring(0,29),"..."):""}},"Title"),S.a.createElement(A.b,{name:"id",style:{width:"48px"},cellFormatter:function(t){return S.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"end",color:"#999999"}},S.a.createElement(w.IconButton,{name:"edit",onClick:e.handleEditScreenClick(t)}),S.a.createElement(w.IconButton,{name:"delete",onClick:e.handleDeleteScreenClick(t)}))}})):S.a.createElement(w.CardText,null,S.a.createElement("div",{style:a.emptyMessageContainer},S.a.createElement("div",null,"The list of screens is empty")))),r)}}]),t}(g.Component);j.propTypes={screens:v.a.array.isRequired,actions:v.a.object.isRequired,scriptId:v.a.string.isRequired,onEditScreenClick:v.a.func.isRequired};var L=j,F=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=c()(this,(e=d()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{}),n}return h()(t,e),o()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.actions,a=t.scriptId;this.setState({loadingScreens:!0}),n.get("get-screens",{script_id:a,onResponse:function(){return e.setState({loadingScreens:!1})},onFailure:function(t){return e.setState({loadScreensError:t})},onSuccess:function(t){var a=t.payload;e.setState({screens:a.screens}),n.updateApiData({screens:a.screens})}})}},{key:"componentWillUnmount",value:function(){this.props.actions.updateApiData({screens:[]})}},{key:"render",value:function(){return this.state.loadingScreens?S.a.createElement(I.a,{className:"ui__flex ui__justifyContent_center"}):S.a.createElement(L,this.props)}}]),t}(S.a.Component);F.propTypes={actions:v.a.object};var B=Object(C.hot)(Object(b.f)(Object(T.a)(F,function(e){return{screens:e.apiData.screens||[]}}))),q=function(e){function t(e){var n;return r()(this,t),n=c()(this,d()(t).call(this,e)),E()(p()(n),"handleAddDiagnosisClick",function(){var e=n.props,t=e.history,a=e.scriptId;t.push("/dashboard/scripts/".concat(a,"/diagnosis/new"))}),E()(p()(n),"handleDeleteDiagnosisClick",function(e){return function(){var t=n.props,a=t.actions,r=t.scriptId;n.setState({deletingDiagnosis:!0}),a.post("delete-diagnosis",{id:e,scriptId:r,onResponse:function(){return n.setState({deletingDiagnosis:!1})},onFailure:function(e){return n.setState({deleteDiagnosisError:e})},onSuccess:function(){a.updateApiData(function(t){return{diagnoses:t.diagnoses.filter(function(t){return t.id!==e})}}),n.closeDeleteConfirmDialog()}})}}),E()(p()(n),"handleEditDiagnosisClick",function(e){return function(){return n.props.onEditDiagnosisClick(e)}}),E()(p()(n),"handleInputChange",function(e,t){return n.setState(k()({},n.state,E()({},e,t.target.value)))}),n.state={openDeleteConfirmDialog:!1,scriptIdForAction:null},n}return h()(t,e),o()(t,[{key:"render",value:function(){var e=this,t=this.props.diagnoses,n={diagnosis:{marginTop:"24px",width:"780px"},table:{width:"100%"},emptyMessageContainer:{display:"flex",boxSizing:"border-box",alignItems:"center",justifyContent:"center",color:"#757575",fontSize:"16px"}};return S.a.createElement("div",null,S.a.createElement(w.Card,{shadow:0,style:n.diagnosis},S.a.createElement(R.a,{title:"Diagnosis"},S.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},S.a.createElement(w.IconButton,{name:"add",onClick:this.handleAddDiagnosisClick}))),t.length>0?S.a.createElement(w.DataTable,{style:{width:"780px"},shadow:0,rows:t.map(function(e){return k()({id:e.id},e.data)})},S.a.createElement(w.TableHeader,{name:"name"},"Name"),S.a.createElement(w.TableHeader,{name:"description"},"Description"),S.a.createElement(w.TableHeader,{name:"id",style:{width:"48px"},cellFormatter:function(t){return S.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"end",color:"#999999"}},S.a.createElement(w.IconButton,{name:"edit",onClick:e.handleEditDiagnosisClick(t)}),S.a.createElement(w.IconButton,{name:"delete",onClick:e.handleDeleteDiagnosisClick(t)}))}})):S.a.createElement(w.CardText,null,S.a.createElement("div",{style:n.emptyMessageContainer},S.a.createElement("div",null,"The list of screens is empty")))))}}]),t}(g.Component);q.propTypes={scriptId:v.a.string.isRequired,onEditDiagnosisClick:v.a.func.isRequired};var U=q,G=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=c()(this,(e=d()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{}),n}return h()(t,e),o()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.actions,a=t.scriptId;this.setState({loadingDiagnoses:!0}),n.get("get-diagnoses",{script_id:a,onResponse:function(){return e.setState({loadingDiagnoses:!1})},onFailure:function(t){return e.setState({loadDiagnosesError:t})},onSuccess:function(t){var a=t.payload;e.setState({diagnoses:a.diagnoses}),n.updateApiData({diagnoses:a.diagnoses})}})}},{key:"componentWillUnmount",value:function(){this.props.actions.updateApiData({diagnoses:[]})}},{key:"render",value:function(){return this.state.loadingDiagnosess?S.a.createElement(I.a,{className:"ui__flex ui__justifyContent_center"}):S.a.createElement(U,this.props)}}]),t}(S.a.Component);G.propTypes={actions:v.a.object};var H=Object(C.hot)(Object(b.f)(Object(T.a)(G,function(e){return{diagnoses:e.apiData.diagnoses||[]}}))),P=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=c()(this,(e=d()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{activeTab:0,script:k()({title:"",description:""},(n.props.script||{}).data)}),E()(p()(n),"setScriptAsState",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props;e.script&&n.setState({script:e.script.data})}),E()(p()(n),"handleBackClick",function(){return n.props.history.goBack()}),E()(p()(n),"handleEditScreenClick",function(e){var t=n.props,a=t.scriptId;t.history.push("/dashboard/scripts/".concat(a,"/screens/").concat(e))}),E()(p()(n),"handleEditDiagnosisClick",function(e){var t=n.props,a=t.scriptId;t.history.push("/dashboard/scripts/".concat(a,"/diagnosis/").concat(e))}),E()(p()(n),"handleInputChange",function(e,t){return n.setState({script:k()({},n.state.script,E()({},e,t.target.value))})}),E()(p()(n),"handleSubmitClick",function(){var e=n.props,t=e.isEditMode,a=e.history,r=e.actions,i=e.scriptId,o=n.state.script;n.setState({savingScript:!0}),r.post(t?"update-script":"create-script",k()({},t?{id:i}:{},{data:JSON.stringify({title:o.title,description:o.description}),onResponse:function(){return n.setState({savingScript:!0})},onFailure:function(e){return n.setState({saveScriptError:e})},onSuccess:function(e){var t=e.payload;r.updateApiData({script:t.script}),a.goBack()}}))}),n}return h()(t,e),o()(t,[{key:"componentWillUpdate",value:function(e){e.script!==this.props.script&&this.setScriptAsState(e)}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.isEditMode,r=n.scriptId,i=this.state,o=i.activeTab,s=i.script,c="".concat(a?"Edit":"Add"," script"),l=a?"Update":"Create",d={container:{display:"flex",boxSizing:"border-box",justifyContent:"center",height:"100%"},form:{width:"780px"},fieldLeft:{marginRight:"12px"},fieldRight:{marginLeft:"12px"}};switch(o){case 0:e=S.a.createElement(B,{scriptId:r,onEditScreenClick:this.handleEditScreenClick});break;case 1:e=S.a.createElement(H,{scriptId:r,onEditDiagnosisClick:this.handleEditDiagnosisClick});break;default:e=null}var u=S.a.createElement("div",{style:{marginTop:"24px"}},S.a.createElement(w.Tabs,{activeTab:o,onChange:function(e){return t.setState({activeTab:e})},ripple:!0},S.a.createElement(w.Tab,null,"Screens"),S.a.createElement(w.Tab,null,"Diagnosis")),S.a.createElement("section",null,e));return S.a.createElement("div",{style:d.container},S.a.createElement("div",null,S.a.createElement(w.Card,{shadow:0,style:d.form},S.a.createElement(R.a,{leftNavIcon:"arrow_back",title:c,onLeftNavItemClicked:this.handleBackClick}),S.a.createElement(w.CardText,null,S.a.createElement(w.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Title",required:!0,onChange:this.handleInputChange.bind(this,"title"),value:s.title}),S.a.createElement(w.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Description",value:s.description,onChange:this.handleInputChange.bind(this,"description")}),S.a.createElement(N.a,null,a?S.a.createElement(w.Button,{style:k()({},d.fieldLeft),onClick:this.handleSubmitClick.bind(this,"apply"),raised:!0,ripple:!0},"Apply"):null,S.a.createElement(w.Button,{style:k()({},d.fieldRight),onClick:this.handleSubmitClick.bind(this,"update"),raised:!0,accent:!0,ripple:!0},l)))),a?u:null))}}]),t}(g.Component);P.propTypes={actions:v.a.object.isRequired,history:v.a.object.isRequired,isEditMode:v.a.bool.isRequired,scriptId:v.a.string.isRequired,script:v.a.object},n.d(t,"ScriptEditor",function(){return W});var W=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=c()(this,(e=d()(t)).call.apply(e,[this].concat(i))),E()(p()(n),"state",{}),n}return h()(t,e),o()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.scriptId,a=t.actions;n&&"new"!==n&&(this.setState({loadingScript:!0}),a.get("get-script",{id:n,onResponse:function(){return e.setState({loadingScript:!1})},onFailure:function(t){return e.setState({loadScriptError:t})},onSuccess:function(t){var n=t.payload;e.setState({script:n.script}),a.updateApiData({script:n.script})}}))}},{key:"componentWillUnmount",value:function(){this.props.actions.updateApiData({script:null})}},{key:"render",value:function(){return this.state.loadingScript?S.a.createElement(I.a,{className:"ui__flex ui__justifyContent_center"}):S.a.createElement(P,this.props)}}]),t}(S.a.Component);W.propTypes={actions:v.a.object,scriptId:v.a.string.isRequired,isEditMode:v.a.bool.isRequired};t.default=Object(C.hot)(Object(b.f)(Object(T.a)(W,function(e,t){return{script:e.apiData.script,scriptId:t.match.params.scriptId,isEditMode:!!e.apiData.script}})))}}]);