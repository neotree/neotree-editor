(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{137:function(e,t,n){var a=n(151),r=n(152),i=n(153);e.exports=function(e,t){return a(e)||r(e,t)||i()}},141:function(e,t,n){"use strict";var a=n(0),r=function(){return Object(a.useReducer)(function(e){return!e},!1)[1]};t.a=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var l=[],c=t,u=function(t){c=e(c,t),l.forEach(function(e){return e()})},f=function(){var e=r();return Object(a.useEffect)(function(){var t=function(){return e()};l.push(t),t();return function(){var e=l.indexOf(t);l.splice(e,1)}},[]),[c,u].concat(i)};return f}},151:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},152:function(e,t){e.exports=function(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}},153:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},154:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(2),o=function(e){var t=e.children,n=e.options;n=n||{allScripts:!0,allConfigKeys:!0};var a="";return Object.keys(n).forEach(function(e,t){a+="".concat(e,"=").concat(n[e]),t<Object.keys(n).length-1&&(a+="&")}),r.a.createElement("a",{target:"_blank",style:{color:"inherit",textDecoration:"none",fontWeight:"inherit"},rel:"noopener noreferrer",href:"/export-data?".concat(a)},t||"Export")};o.propTypes={options:n.n(i).a.object},t.a=o},380:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n.n(a),i=n(137),o=n.n(i),l=n(0),c=n.n(l),u=n(2),f=n.n(u),s=n(26),g=n(12),y=n(3),m=n.n(y),d=n(141),p={UPDATE:"UPDATE",updateState:function(e){return{type:"UPDATE",partialState:e}}},h={configKeys:[]},C=Object(d.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;if(t.type===p.UPDATE){var n=m()({},e);return m()({},e,{},"function"==typeof t.partialState?t.partialState(n):t.partialState)}return e},h,p),E=n(41),b=n(53),K=n(43),v=n.n(K),D=n(18),S=n.n(D),x=n(19),k=n.n(x),_=n(20),w=n.n(_),T=n(21),j=n.n(T),A=n(24),I=n.n(A),O=n(22),B=n.n(O),N=n(23),P=n.n(N),F=n(121),z=n(405),J=n(404),L=n(403),W=n(125),H=n(154),M=function(e){function t(e){var n;return S()(this,t),n=w()(this,j()(t).call(this,e)),P()(I()(n),"toggleClipboardPasteBox",function(){return n.setState({openClipboardPasteBox:!n.state.openClipboardPasteBox})}),P()(I()(n),"handleInputChange",function(e,t){return n.setState(m()({},n.state,P()({},e,t.target.value)))}),P()(I()(n),"handleCreateClick",function(){var e=n.props.updateState,t=n.state,a=t.configKey,r=t.label,i=t.summary;n.setState({creatingConfigKey:!0}),E.a.post("/create-config-key",{data:JSON.stringify({configKey:a,label:r,summary:i})}).then(function(t){var a=t.payload;n.setState({creatingConfigKey:!1}),e(function(e){return{configKeys:[a.configKey].concat(v()(e.configKeys))}}),n.closeCreateConfigKeyDialog()}).catch(function(e){return n.setState({createConfigKeyError:e,creatingConfigKey:!1})})}),P()(I()(n),"handleDeleteClick",function(){var e=n.props.updateState,t=n.state.configKeyIdForAction;n.setState({deletingConfigKey:!0}),E.a.post("/delete-config-key",{id:t}).then(function(){n.setState({deletingConfigKey:!1}),e(function(e){return{configKeys:e.configKeys.filter(function(e){return e.id!==t})}}),n.closeDeleteConfirmDialog()}).catch(function(e){return n.setState({deleteConfigKeyError:e,deletingConfigKey:!1})})}),P()(I()(n),"openCreateConfigKeyDialog",function(){return n.setState(m()({},n.state,{openCreateConfigKeyDialog:!0}))}),P()(I()(n),"closeCreateConfigKeyDialog",function(){return n.setState(m()({},n.state,{openCreateConfigKeyDialog:!1,configKey:"",label:"",summary:""}))}),P()(I()(n),"openDeleteConfirmDialog",function(e){return n.setState(m()({},n.state,{openDeleteConfirmDialog:!0,configKeyIdForAction:e}))}),P()(I()(n),"closeDeleteConfirmDialog",function(){return n.setState(m()({},n.state,{openDeleteConfirmDialog:!1,configKeyIdForAction:null,deleteConfigKeyError:null,createConfigKeyError:null}))}),P()(I()(n),"handleDuplicateKey",function(e){var t=n.props.updateState;n.setState({duplicatingConfigKey:!0}),E.a.post("/duplicate-config-key",{id:e}).then(function(a){var r=a.payload;n.setState({duplicatingConfigKey:!1}),t(function(t){var n=v()(t.configKeys),a=n.map(function(t,n){return t.id===e?n:null}).filter(function(e){return null!==e})[0]||0;return n.splice(a+1,0,r.configKey),{configKeys:n}})}).catch(function(e){return n.setState({duplicateConfigKeyError:e,duplicatingConfigKey:!1})})}),n.state={openDeleteConfirmDialog:!1,openCreateConfigKeyDialog:!1,configKeyIdForAction:"",configKey:"",label:"",summary:""},n}return B()(t,e),k()(t,[{key:"render",value:function(){var e=this,t=this.props.configKeys,n=this.state,a=n.configKey,r=n.label,i=n.summary,o=n.deletingConfigKey,l=n.deleteConfigKeyError,u=n.creatingConfigKey,f=n.createConfigKeyError,s={container:{display:"flex",boxSizing:"border-box",justifyContent:"center",height:"100%"},table:{width:"780px"},fab:{position:"fixed",bottom:24,right:24,zIndex:900}},g=c.a.createElement(z.a,{open:this.state.openCreateConfigKeyDialog,onClose:function(){},fullWidth:!0,maxWidth:"sm"},c.a.createElement(L.a,null,c.a.createElement(F.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Key",onChange:this.handleInputChange.bind(this,"configKey"),value:a}),c.a.createElement(F.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Label",onChange:this.handleInputChange.bind(this,"label"),value:r}),c.a.createElement(F.Textfield,{style:{width:"100%"},floatingLabel:!0,label:"Summary",onChange:this.handleInputChange.bind(this,"summary"),value:i}),f?c.a.createElement("div",{className:"ui__dangerColor ui__textAlign_center"},f.msg||f.message||JSON.stringify(f)):null),c.a.createElement(J.a,null,[u?null:c.a.createElement(F.Button,{type:"button",onClick:this.handleCreateClick,accent:!0},"Create"),u?null:c.a.createElement(F.Button,{type:"button",onClick:this.closeCreateConfigKeyDialog},"Cancel"),u?c.a.createElement(b.a,{size:25}):null].map(function(e,t){return e&&c.a.cloneElement(e,{key:t})}))),y=c.a.createElement(z.a,{open:this.state.openDeleteConfirmDialog,onClose:function(){},fullWidth:!0,maxWidth:"sm"},[c.a.createElement(L.a,null,o?c.a.createElement(b.a,{className:"ui__flex ui__justifyContent_center"}):c.a.createElement("div",null,l?c.a.createElement("div",{className:"ui__dangerColor"},l.msg||l.message||JSON.stringify(l)):c.a.createElement("p",null,"Are you sure you want to delete this configuration key?"))),o?null:c.a.createElement(J.a,null,c.a.createElement(F.Button,{type:"button",onClick:this.handleDeleteClick,accent:!0},"Delete"),c.a.createElement(F.Button,{type:"button",onClick:this.closeDeleteConfirmDialog},"Cancel"))].map(function(e,t){return e&&c.a.cloneElement(e,{key:t})})),d=c.a.createElement("div",null,c.a.createElement(F.DataTable,{style:{width:"780px"},shadow:0,rows:t.map(function(e){return m()({id:e.id},e.data)})},c.a.createElement(F.TableHeader,{name:"configKey"},"Key"),c.a.createElement(F.TableHeader,{name:"label"},"Label"),c.a.createElement(F.TableHeader,{name:"summary"},"Summary"),c.a.createElement(F.TableHeader,{name:"id",style:{width:"32px"},cellFormatter:function(t,n,a){var r="more-user-action-menu".concat(a);return c.a.createElement("div",null,c.a.createElement("div",{style:{position:"relative",color:"#999999"},className:"ui__flex ui__alignItems_center"},c.a.createElement("div",{id:r,className:"ui__cursor_pointer"},c.a.createElement(W.i,{style:{fontSize:"24px"}})),c.a.createElement(F.Menu,{target:r,align:"right"},c.a.createElement(F.MenuItem,{onClick:e.openDeleteConfirmDialog.bind(e,t)},"Delete"),c.a.createElement(F.MenuItem,{onClick:function(){return e.handleDuplicateKey(t)}},"Duplicate"),c.a.createElement(F.MenuItem,null,c.a.createElement(H.a,{options:{configKey:t}})))))}}))),p=c.a.createElement(F.Card,{shadow:0,style:{width:"420px"}},c.a.createElement(F.CardTitle,null,"There are no configuration keys"),c.a.createElement(F.CardText,null,c.a.createElement("span",null,"To create your first configuration key click on the orange icon at the bottom right of the window."),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null)));return c.a.createElement("div",null,c.a.createElement(F.FABButton,{style:s.fab,colored:!0,ripple:!0,onClick:this.openCreateConfigKeyDialog},c.a.createElement(W.a,{style:{fontSize:"24px"}})),c.a.createElement("div",{style:s.container},t&&t.length>0?d:p),g,y)}}]),t}(l.Component),U=function(e){var t=Object(l.useState)(!1),n=o()(t,2),a=n[0],i=n[1],u=Object(l.useState)(null),f=o()(u,2),s=(f[0],f[1]),g=C(),y=o()(g,3),m=y[0].configKeys,d=y[1],p=y[2];return Object(l.useEffect)(function(){i(!0),E.a.get("/get-config-keys").then(function(e){var t=e.payload;i(!1),d(p.updateState({configKeys:t.configKeys||[]}))}).catch(function(e){i(!1),s(e)})},[]),c.a.createElement("div",null,!m.length&&a&&c.a.createElement(b.a,{className:"ui__flex ui__justifyContent_center"}),!m.length&&a?null:c.a.createElement(M,r()({},e,{configKeys:m,updateState:function(e){return d(p.updateState(e))}})))};U.propTypes={match:f.a.object};t.default=Object(s.hot)(Object(g.f)(U))}}]);