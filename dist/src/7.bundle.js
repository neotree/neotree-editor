(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{124:function(e,t,n){var a=n(324),r=n(325),o=n(326);e.exports=function(e,t){return a(e)||r(e,t)||o()}},132:function(e,t,n){"use strict";var a,r=n(3),o=n.n(r),i=n(16),c=n.n(i),u=n(42),l=n(140),s={UPDATE:"UPDATE",updateState:function(e){return{type:"UPDATE",partialState:e}},getClipboardData:a=function(){try{return JSON.parse(localStorage.getItem("neotree__clipboard"))}catch(e){return null}},clearClipboardData:function(){return localStorage.removeItem("neotree__clipboard")},copyToClipboard:function(e){try{e=JSON.parse(e)}catch(e){}localStorage.setItem("neotree__clipboard",JSON.stringify(e))},pasteClipboardData:function(e,t){return new Promise(function(n,r){var i=a();if(!i){var l={error:"No data to paste"};return t?t(l):r(l)}var s=i.data,d=c()(i,["data"]);u.a.post("/copy-data",{destination:e,source:o()({},s,{},d)}).then(function(e){return localStorage.removeItem("neotree__clipboard"),t?t(null,e):n(e)}).catch(t||r)})}},d={};t.a=Object(l.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;if(t.type===s.UPDATE){var n=o()({},e);return o()({},e,{},"function"==typeof t.partialState?t.partialState(n):t.partialState)}return e},d,s)},140:function(e,t,n){"use strict";var a=n(0),r=function(){return Object(a.useReducer)(function(e){return!e},!1)[1]};t.a=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var c=[],u=t,l=function(t){u=e(u,t),c.forEach(function(e){return e()})},s=function(){var e=r();return Object(a.useEffect)(function(){var t=function(){return e()};c.push(t),t();return function(){var e=c.indexOf(t);c.splice(e,1)}},[]),[u,l].concat(o)};return s}},168:function(e,t,n){"use strict";var a=n(10),r=n.n(a),o=n(16),i=n.n(o),c=n(19),u=n.n(c),l=n(20),s=n.n(l),d=n(21),f=n.n(d),p=n(22),m=n.n(p),h=n(23),b=n.n(h),g=n(0),v=n.n(g),E=n(2),y=n.n(E),C=n(12),w=n(26),D=n(41),O=function(e){function t(){return u()(this,t),f()(this,m()(t).apply(this,arguments))}return b()(t,e),s()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.redirectToIfNotAuthenticated,n=e.authenticatedUser,a=e.history;t&&!n&&a.push(t)}},{key:"render",value:function(){var e=this.props,t=e.Component,n=e.authenticatedUser,a=i()(e,["Component","authenticatedUser"]);return n?v.a.createElement(t,r()({},a,{authenticatedUser:n})):null}}]),t}(v.a.Component);O.propTypes={history:y.a.object,authenticatedUser:y.a.object,Component:y.a.oneOfType([y.a.object,y.a.func]).isRequired,redirectToIfNotAuthenticated:y.a.string};var j=Object(w.hot)(Object(C.f)(Object(D.a)(O,function(e){return{authenticatedUser:e.$APP.authenticatedUser}})));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/auth/sign-in";return function(n){return v.a.createElement(j,r()({},n,{Component:e,redirectToIfNotAuthenticated:t}))}}},324:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},325:function(e,t){e.exports=function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return n}},326:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},327:function(e,t,n){var a=n(328);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(27)(a,r);a.locals&&(e.exports=a.locals)},328:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,".ui__snackbar {\n  padding: 10px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  background: #fff;\n  border-radius: 2px;\n  min-width: 100px;\n  position: fixed;\n  top: 0;\n  z-index: 99999;\n  -webkit-transition: -webkit-transform .5s;\n  transition: -webkit-transform .5s;\n  transition: transform .5s;\n  transition: transform .5s, -webkit-transform .5s;\n  -webkit-transform: translate3d(0, -100%, 0);\n          transform: translate3d(0, -100%, 0); }\n  .ui__snackbar.visible {\n    -webkit-transform: translate3d(0, 0, 0);\n            transform: translate3d(0, 0, 0); }\n",""])},408:function(e,t,n){"use strict";var a=n(16),r=n.n(a),o=n(124),i=n.n(o),c=n(0),u=n.n(c),l=n(132),s=n(10),d=n.n(s),f=n(28),p=n(2),m=n.n(p),h=n(34),b=n.n(h),g=(n(327),u.a.forwardRef(function(e,t){var n=e.children,a=e.className,o=e.root,l=r()(e,["children","className","root"]);t=t||Object(c.useRef)();var s=Object(c.useState)(window.innerWidth),p=i()(s,2),m=p[0],h=p[1],g=Object(c.useState)(!1),v=i()(g,2),E=v[0],y=v[1],C=Object(c.useState)({}),w=i()(C,2),D=w[0],O=w[1],j=null;return Object(c.useEffect)(function(){!function(){if(t.current){var e=t.current.getBoundingClientRect();O({left:m/2-e.width/2})}}()},[t]),Object(c.useEffect)(function(){j=setTimeout(function(){return y(!0)},25)},[]),Object(c.useEffect)(function(){var e=function(){return h(window.innerWidth)};return window.addEventListener("resize",e,!0),function(){clearTimeout(j),window.removeEventListener("resize",e,!0)}},[]),Object(f.createPortal)(u.a.createElement("div",d()({},l,{ref:t,className:b()(a,"ui__snackbar",{visible:E}),style:Object.assign({},l.style,D)}),n),o||document.body)}));g.propTypes={className:m.a.string,children:m.a.node,style:m.a.object,root:m.a.instanceOf(HTMLElement)};var v=g,E=n(120),y=n(122),C=n(41),w=function(e){var t=e.container,n=e.children,a=e.onSuccess,o=e.onFailure,c=r()(e,["container","children","onSuccess","onFailure"]),s=Object(l.a)(),f=i()(s,3),p=f[0],m=(f[1],f[2].pasteClipboardData),h=t||u.a.Fragment;return u.a.createElement(h,null,u.a.createElement("div",d()({},c,{onClick:function(e){m(p.destination).then(a).catch(o),c.onClick&&c.onClick(e)}}),n))};w.propTypes={children:m.a.node,onClick:m.a.func};var D=Object(C.a)(w,function(e){return{host:e.$APP.host}});t.a=function(e){var t,n=e.children,a=Object(l.a)(),o=i()(a,3),s=o[0],d=s.copiedData,f=s.onSuccess,p=s.onFailure,m=s.accept,h=s.destination,b=o[1],g=o[2],C=g.pasteClipboardData,w=g.getClipboardData,O=g.clearClipboardData,j=r()(g,["pasteClipboardData","getClipboardData","clearClipboardData"]);return Object(c.useEffect)(function(){var e=function(e){if(e.ctrlKey&&"v"===e.key){var t=w();h&&t&&(m||[]).includes(t.dataType)&&C(h).then(f).catch(p)}};return document.addEventListener("keyup",e,!0),function(){document.removeEventListener("keyup",e,!0)}}),u.a.createElement(u.a.Fragment,null,d?u.a.createElement(v,{className:"ui__flex ui__alignItems_center"},u.a.createElement("span",null,function(e){return e.charAt(0).toUpperCase()+e.slice(1)}((t=d.dataType,t.replace(/([a-z0-9])([A-Z])/g,"$1 $2")).toLowerCase())," copied")," ",u.a.createElement(D,{onSuccess:function(e){f&&f(e),O(),b(j.updateState({copiedData:null}))},onFailure:p},u.a.createElement(E.Button,{disabled:!(m||[]).includes(d.dataType)},"Paste"))," ",u.a.createElement("div",{className:"ui__cursor_pointer ui__flex ui__alignItems_center",onClick:function(){O(),b(j.updateState({copiedData:null}))}},u.a.createElement(y.e,null))):null,n)}},415:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Dashboard",function(){return B});var a=n(10),r=n.n(a),o=n(3),i=n.n(o),c=n(19),u=n.n(c),l=n(20),s=n.n(l),d=n(21),f=n.n(d),p=n(22),m=n.n(p),h=n(25),b=n.n(h),g=n(23),v=n.n(g),E=n(24),y=n.n(E),C=n(0),w=n.n(C),D=n(2),O=n.n(D),j=n(28),k=n(26),x=n(35),T=n(12),_=n(122),S=n(41),L=n(168),I=n(120),A=n(17),N=n(408),P=Object(A.a)(function(){return n.e(13).then(n.bind(null,412))}),U=Object(A.a)(function(){return n.e(14).then(n.bind(null,410))}),M=Object(A.a)(function(){return n.e(10).then(n.bind(null,411))}),z=Object(A.a)(function(){return Promise.all([n.e(1),n.e(9)]).then(n.bind(null,406))}),F=Object(A.a)(function(){return Promise.all([n.e(1),n.e(8)]).then(n.bind(null,407))}),R=Object(A.a)(function(){return n.e(11).then(n.bind(null,413))}),H=Object(A.a)(function(){return n.e(5).then(n.bind(null,409))}),B=function(t){function n(t){var a;return u()(this,n),a=f()(this,m()(n).call(this,t)),y()(b()(a),"getChildContext",function(){return{setToolbarTitle:a.setToolbarTitle}}),y()(b()(a),"setToolbarTitle",function(e){return a.setState(i()({},a.state,{toolbarTitle:e}))}),y()(b()(a),"handleLogoutClick",function(){var t=a.props.actions;a.setState({loggingOut:!0}),t.get("logout",{onResponse:function(){return a.setState({loggingOut:!1,openLogoutConfirmDialog:!1})},onFailure:function(e){return a.setState({logOutFailure:e})},onSuccess:function(){t.$updateApp({authenticatedUser:null}),e.window.location.href="/auth/sign-in"}})}),y()(b()(a),"openLogoutConfirmDialog",function(){return a.setState({openLogoutConfirmDialog:!0})}),y()(b()(a),"closeLogoutConfirmDialog",function(){return a.setState({openLogoutConfirmDialog:!1})}),y()(b()(a),"toggleDrawer",function(){var e=Object(j.findDOMNode)(a.refs.layout);e.classList.contains("is-small-screen")&&e.MaterialLayout.toggleDrawer()}),a.state={loggingOut:!1,toolbarTitle:"Dashboard",openLogoutConfirmDialog:!1},a}return v()(n,t),s()(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("dashboard-header");e.children[0].classList.add("ui__flex"),e.children[0].classList.add("ui__alignItems_center"),e.children[0].innerHTML='\n      <svg style="margin-top:-10px;" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" style="font-size: 24px;">\n        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>\n      </svg>\n    '}},{key:"render",value:function(){var e=this,t=this.state.toolbarTitle,n={container:{height:"100%"},content:{backgroundColor:"#f0f0f0",padding:"48px"}};return w.a.createElement(N.a,null,w.a.createElement("div",{style:n.container},w.a.createElement(I.Layout,{ref:"layout",fixedHeader:!0,fixedDrawer:!0},w.a.createElement(I.Header,{id:"dashboard-header",title:t},w.a.createElement("div",{className:"ui__cursor_pointer",id:"actionbar-menu"},w.a.createElement(_.j,{style:{fontSize:"24px"}})),w.a.createElement(I.Menu,{target:"actionbar-menu",align:"right"},w.a.createElement(I.MenuItem,null,"Profile"),w.a.createElement(I.MenuItem,{onClick:this.openLogoutConfirmDialog},"Sign out"))),w.a.createElement(I.Drawer,{title:"Neo Tree"},w.a.createElement(I.Navigation,null,w.a.createElement(x.b,{onClick:this.toggleDrawer,to:"/dashboard/adminpassword"},"Admin Password"),w.a.createElement(x.b,{onClick:this.toggleDrawer,to:"/dashboard/configkeys"},"Configuration"),w.a.createElement(x.b,{onClick:this.toggleDrawer,to:"/dashboard/scripts"},"Scripts"),w.a.createElement(x.b,{onClick:this.toggleDrawer,to:"/dashboard/import-firebase"},"Import/Export"))),w.a.createElement(I.Content,{style:n.content},w.a.createElement(T.c,null,w.a.createElement(T.a,{exact:!0,path:"/dashboard/import-firebase",render:function(t){return w.a.createElement(H,r()({},e.props,t))}}),w.a.createElement(T.a,{exact:!0,path:"/dashboard",render:function(t){return w.a.createElement(R,r()({},e.props,t))}}),w.a.createElement(T.a,{exact:!0,path:"/dashboard/scripts",render:function(t){return w.a.createElement(R,r()({},e.props,t))}}),w.a.createElement(T.a,{exact:!0,path:"/dashboard/scripts/:scriptId",render:function(t){return w.a.createElement(F,r()({},e.props,t))}}),w.a.createElement(T.a,{exact:!0,path:"/dashboard/scripts/:scriptId/screens/:screenId",render:function(t){return w.a.createElement(z,r()({},e.props,t))}}),w.a.createElement(T.a,{exact:!0,path:"/dashboard/scripts/:scriptId/diagnosis/:diagnosisId",render:function(t){return w.a.createElement(M,r()({},e.props,t))}}),w.a.createElement(T.a,{exact:!0,path:"/dashboard/adminpassword",render:function(t){return w.a.createElement(P,r()({},e.props,t))}}),w.a.createElement(T.a,{exact:!0,path:"/dashboard/configkeys",render:function(t){return w.a.createElement(U,r()({},e.props,t))}}),w.a.createElement(T.a,{path:"*",render:function(t){return w.a.createElement(R,r()({},e.props,t))}})))),w.a.createElement(I.Dialog,{open:this.state.openLogoutConfirmDialog},w.a.createElement(I.DialogTitle,null,"Sign out"),w.a.createElement(I.DialogContent,null,w.a.createElement("p",null,"You are about to sign out. All unsaved changes will be lost.")),w.a.createElement(I.DialogActions,null,w.a.createElement(I.Button,{type:"button",onClick:this.handleLogoutClick,accent:!0},"Sign out"),w.a.createElement(I.Button,{type:"button",onClick:this.closeLogoutConfirmDialog},"Cancel")))))}}]),n}(w.a.Component);y()(B,"childContextTypes",{setToolbarTitle:O.a.func}),B.propTypes={actions:O.a.object,authenticatedUser:O.a.object.isRequired,history:O.a.object.isRequired},t.default=Object(k.hot)(Object(T.f)(Object(L.a)(Object(S.a)(B))))}.call(this,n(14))}}]);