(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{267:function(e,t,a){"use strict";var n=a(37),r=a(146);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),o=(0,n(a(147)).default)(l.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.default=o},269:function(e,t,a){"use strict";var n=a(14),r=a.n(n),l=a(15),o=a.n(l),i=a(25),c=a.n(i),s=a(0),u=a.n(s),d=a(4),m=a.n(d),p=a(383),b=a(345),f=a(346),h=a(256),g=a(348),v=a(349),y=a(142),E=a(362),O=a(382),j=a(17),w=a.n(j),C=a(10),x=a.n(C),k=a(286),D=a.n(k),S=a(347),P=a(272),M=a(264),T=a.n(M),I=a(254),N=a(287),A=a.n(N),L=a(380),F=Object(P.c)((function(){return u.a.createElement("div",null,u.a.createElement(L.a,{title:"Drag to reposition"},u.a.createElement(I.a,{style:{cursor:"move"}},u.a.createElement(A.a,null))))})),R=Object(P.b)((function(e){var t=e.row,a=e.rowIndex,n=e.selectable,r=e.classes,l=e.selected,i=e.setSelected,c=e.displayFields,s=e.action,d=e.sortable;return u.a.createElement(b.a,{className:x()(r.dataItemRow,{selected:l.map((function(e){return e.rowIndex})).includes(a)})},n&&u.a.createElement(f.a,{padding:"none"},u.a.createElement(E.a,{checked:l.map((function(e){return e.rowIndex})).includes(a),onChange:function(){return i((function(e){return e.map((function(e){return e.rowIndex})).includes(a)?e.filter((function(e){return e.rowIndex!==a})):[].concat(T()(e),[{row:t,rowIndex:a}])}))}})),d&&u.a.createElement(f.a,{padding:"none"},u.a.createElement(F,null)),c.map((function(e,n){var r=e.render?e.render({row:t,rowIndex:a,column:e.key,columnIndex:n}):t[e.key];return u.a.createElement(f.a,o()({},e.cellProps,{key:"".concat(a).concat(e.key).concat(n)}),r)})),s?u.a.createElement(f.a,{align:"right",padding:"none"},s):null)})),W=Object(P.a)((function(e){var t=e.rows,a=e.sortable,n=e.classes,r=e.selected,l=e.selectable,o=e.setSelected,i=e.displayFields,c=e.renderRowAction,s=e.filter;return u.a.createElement(S.a,null,t.map((function(e,t){var d=t;return s&&!s(e)?null:u.a.createElement(R,{key:"".concat(d).concat(t),row:e,sortable:a,index:t,rowIndex:t,classes:n,selectable:l,action:c?c(e,t)||u.a.createElement(u.a.Fragment,null):null,displayFields:i,selected:r,setSelected:o})})))}));function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=w()((function(e){return{table:{minWidth:800},headerWrap:{position:"relative",height:60},header:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",boxSizing:"border-box",padding:e.spacing()},dataItemRow:{"&:hover, &.selected":{backgroundColor:e.palette.action.hover}}}}));function V(e){var t=e.noDataMsg,a=e.title,n=e.selectable,r=e.renderRowAction,l=e.data,i=e.onSortData,s=e.displayFields,d=e.renderHeaderActions,m=e.filter;n=!1!==n;var j=B(),w=u.a.useState([]),C=c()(w,2),k=C[0],S=C[1],P=u.a.useState(l),M=c()(P,2),T=M[0],I=M[1];return u.a.useEffect((function(){JSON.stringify(T)!==JSON.stringify(l)&&I(l)}),[l]),u.a.createElement(u.a.Fragment,null,u.a.createElement(h.a,{square:!0,elevation:0},u.a.createElement("div",{className:x()(j.headerWrap)},u.a.createElement("div",{className:x()(j.header)},u.a.createElement(y.a,{variant:"h6"},a),u.a.createElement("div",{style:{marginLeft:"auto"}}),d&&d({selected:k}))),u.a.createElement(O.a,null),T.length?u.a.createElement(p.a,{component:h.a},u.a.createElement(g.a,{className:x()(j.table)},u.a.createElement(v.a,null,u.a.createElement(b.a,null,n&&u.a.createElement(f.a,{padding:"none"},u.a.createElement(E.a,{indeterminate:k.length>0&&k.length<T.length,checked:T.length>0&&k.length===T.length,onChange:function(){return S((function(e){return e.length<T.length?T.map((function(e,t){return{row:e,rowIndex:t}})):[]}))}})),!!i&&u.a.createElement(f.a,null),s.map((function(e,t){return u.a.createElement(f.a,o()({},e.cellProps,{key:"".concat(e.key).concat(t)}),u.a.createElement("b",null,e.label))})),r?u.a.createElement(f.a,{align:"right"},u.a.createElement("b",null,"Action")):null)),u.a.createElement(W,{rows:T,filter:m,selectable:n,renderRowAction:r,classes:j,displayFields:s,selected:k,setSelected:S,useDragHandle:!0,sortable:!!i,onSortEnd:function(e){var t=e.oldIndex,a=e.newIndex,n=D()(T,{$splice:[[t,1],[a,0,T[t]]]}).map((function(e,t){return _(_({},e),{},{position:t+1})}));I(n),i(n)}}))):u.a.createElement("div",{style:{textAlign:"center",padding:25}},u.a.createElement(y.a,{color:"textSecondary"},t||"No data"))))}V.propTypes={noDataMsg:m.a.string,selectable:m.a.bool,renderRowAction:m.a.func,title:m.a.string.isRequired,displayFields:m.a.array.isRequired,renderHeaderActions:m.a.func,onSortData:m.a.func,data:m.a.array.isRequired,filter:m.a.func};t.a=V},290:function(e,t,a){"use strict";t.a={PAGE_TITLE:"Scripts"}},291:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(0),r=a.n(n),l=a(4),o=a.n(l),i=a(327),c=a(254),s=a(142),u=a(312),d=a.n(u),m=a(20);function p(e){var t=e.backLink,a=e.title,n=Object(m.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(i.a,{item:!0,xs:1,sm:1},r.a.createElement(c.a,{onClick:function(){return t?n.push(t):n.goBack()}},r.a.createElement(d.a,null))),r.a.createElement(i.a,{item:!0,xs:11,sm:11},r.a.createElement(s.a,{variant:"h5"},a))))}p.propTypes={title:o.a.node,backLink:o.a.string}},293:function(e,t,a){"use strict";a.d(t,"b",(function(){return E}));var n=a(15),r=a.n(n),l=a(264),o=a.n(l),i=a(25),c=a.n(i),s=a(16),u=a.n(s),d=a(0),m=a.n(d),p=a(4),b=a.n(p),f=a(10),h=a.n(f),g=a(17),v=a.n(g),y=a(225);function E(e){return new Promise((function(t,a){var n=new FormData;n.append("file",e,e.filename),fetch("/upload-file",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){var n=e.file,r=e.error,l=e.errors;if(r=(r?[r]:l||[]).join("\n"))return a(r);t({type:n.content_type,size:n.size,filename:n.filename,fileId:n.id,data:"".concat(window.location.origin,"/file/").concat(n.id)})})).catch(a)}))}var O=["onUploadSuccess","onUploadComplete","children","className"],j=v()((function(){return{root:{position:"relative"},input:{position:"absolute",top:0,left:0,bottom:0,right:0,opacity:0}}})),w=m.a.forwardRef((function(e,t){var a=e.onUploadSuccess,n=e.onUploadComplete,l=e.children,i=e.className,s=u()(e,O),d=m.a.useState(!1),p=c()(d,2),b=p[0],f=p[1],g=m.a.useRef(null);m.a.useImperativeHandle(t,(function(){return{input:g,uploading:b}}));var v=j();return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:h()(i,v.root)},b?m.a.createElement(y.a,{size:15}):l,m.a.createElement("input",r()({},s,{type:"file",ref:g,value:"",className:h()(v.input),onChange:function(e){f(!0);var t=o()(e.target.files),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];f(!1),a&&a(t),n&&n(t)};Promise.all(t.map((function(e){return new Promise((function(t){E(e).then((function(e){return t(e)})).catch((function(e){return t({error:e})}))}))}))).then((function(e){return r(null,e)})).catch(r)}}))))}));w.propTypes={children:b.a.node,onUploadSuccess:b.a.func,onUploadComplete:b.a.func};t.a=w},297:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return l}));var n=[{name:"date",label:"Date"},{name:"datetime",label:"Date + Time"},{name:"dropdown",label:"Dropdown"},{name:"number",label:"Number"},{name:"text",label:"Text"},{name:"time",label:"Time"},{name:"period",label:"Time period"}],r=[{name:"diagnosis",label:"Diagnosis"},{name:"checklist",label:"Checklist"},{name:"form",label:"Form"},{name:"management",label:"Management"},{name:"multi_select",label:"Multiple choice list"},{name:"single_select",label:"Single choice list"},{name:"progress",label:"Progress"},{name:"timer",label:"Timer"},{name:"yesno",label:"Yes/No"},{name:"zw_edliz_summary_table",label:"EDLIZ summary table (ZW)"},{name:"mwi_edliz_summary_table",label:"EDLIZ summary table (MWI)"}],l=[{name:"risk",label:"Risk factor"},{name:"sign",label:"Sign/Symptom"}]},298:function(e,t,a){"use strict";var n=a(14),r=a.n(n),l=a(0),o=a.n(l),i=a(393),c=a(310),s=a(268),u=a.n(s),d=a(274),m=a.n(d),p=a(142),b=a(327),f=a(293);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(e){var t=e.labels,a=e.value,n=e.onChange,r=e.noTitle;a=g({text:"",title:"",image:null},a),t=g({text:"Text",title:"Title",image:"Image"},t);var l=function(e){return n(g(g({},a),e))};return o.a.createElement(o.a.Fragment,null,!r&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(i.a,{fullWidth:!0,value:a.title||"",label:t.title,onChange:function(e){return l({title:e.target.value})}})),o.a.createElement("br",null)),o.a.createElement(b.a,{container:!0,spacing:1,alignItems:"flex-end"},o.a.createElement(b.a,{item:!0,xs:10,sm:10},o.a.createElement(i.a,{fullWidth:!0,rows:5,multiline:!0,value:a.text||"",label:t.text,onChange:function(e){return l({text:e.target.value})}})),o.a.createElement(b.a,{item:!0,xs:2,sm:2},o.a.createElement("div",{style:{textAlign:"center",minHeight:100,display:"flex",alignItems:"center",justifyContent:"center"}},a.image&&a.image.data?o.a.createElement("img",{role:"presentation",src:a.image.data,style:{width:100,height:"auto"}}):o.a.createElement("div",{stype:{padding:20}},o.a.createElement(p.a,{color:"textSecondary",variant:"caption"},"No image"))),o.a.createElement("br",null),o.a.createElement(b.a,{container:!0},o.a.createElement(b.a,{item:!0,xs:6,sm:6,style:{textAlign:"center"}},o.a.createElement(f.a,{accept:"image/*",onUploadComplete:function(e){var t=e[0];if(t&&t.error)return alert(t.error.message||t.error);n({image:t})}},o.a.createElement(c.a,{size:"small",color:"secondary"},o.a.createElement(u.a,{fontSize:"small"})))),o.a.createElement(b.a,{item:!0,xs:6,sm:6,style:{textAlign:"center"}},o.a.createElement(c.a,{size:"small",disabled:!a.image,onClick:function(){return l({image:null})}},o.a.createElement(m.a,{fontSize:"small"})))))),o.a.createElement("br",null),o.a.createElement("br",null))}},310:function(e,t,a){"use strict";var n=a(7),r=a(1),l=a(0),o=a(9),i=a(11),c=a(99),s=a(13),u=l.forwardRef((function(e,t){var a=e.children,i=e.classes,u=e.className,d=e.color,m=void 0===d?"default":d,p=e.component,b=void 0===p?"button":p,f=e.disabled,h=void 0!==f&&f,g=e.disableFocusRipple,v=void 0!==g&&g,y=e.focusVisibleClassName,E=e.size,O=void 0===E?"large":E,j=e.variant,w=void 0===j?"circular":j,C=Object(n.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return l.createElement(c.a,Object(r.a)({className:Object(o.a)(i.root,u,"large"!==O&&i["size".concat(Object(s.a)(O))],h&&i.disabled,"extended"===w&&i.extended,{primary:i.primary,secondary:i.secondary,inherit:i.colorInherit}[m]),component:b,disabled:h,focusRipple:!v,focusVisibleClassName:Object(o.a)(i.focusVisible,y),ref:t},C),l.createElement("span",{className:i.label},a))}));t.a=Object(i.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(u)},311:function(e,t,a){"use strict";var n=a(15),r=a.n(n),l=a(16),o=a.n(l),i=a(0),c=a.n(i),s=a(4),u=a.n(s),d=a(10),m=a.n(d),p=a(17),b=a.n(p),f=a(382),h=["className","color"],g=b()((function(e){return{backgroundColor:function(t){var a=t.color,n=e.palette[a]?e.palette[a].main:null;return n?{backgroundColor:n}:{}}}})),v=c.a.forwardRef((function(e,t){var a=e.className,n=e.color,l=o()(e,h),i=g({color:n});return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,r()({},l,{ref:t,className:m()(a,i.backgroundColor)})))}));v.propTypes={className:u.a.string},t.a=v},313:function(e,t,a){"use strict";t.a={PAGE_TITLE:"Screens"}},314:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(25),r=a.n(n),l=a(0),o=a.n(l),i=a(4),c=a.n(i),s=a(231),u=a(143),d=a(229),m=a(228),p=a(227),b=a(225),f=a(293);function h(e){var t=e.data,a=e.save,n=o.a.useState(!1),l=r()(n,2),i=l[0],c=l[1],h=function(){var e=t.image1,a=t.image2,n=t.image3,r=[];if(e||a||n){var l=function(e,t){return t&&!t.fileId&&r.push({name:e,img:t})};l("image1",e),l("image2",a),l("image3",n)}return r};return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{fullWidth:!0,maxWidth:"sm",open:h().length>0,onClose:function(){}},o.a.createElement(p.a,null,"These images must be saved in the database"),o.a.createElement(m.a,null,h().map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{style:{width:"90%",maxWidth:200,margin:"auto",display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("img",{style:{width:"100%",height:"auto"},role:"presentation",src:e.img.data})),o.a.createElement("br",null))}))),o.a.createElement(d.a,null,o.a.createElement(u.a,{onClick:function(){var e=h();c(!0),Promise.all(e.map((function(e){for(var t=e.img,a=t.data,n=atob(a.split(",")[1]),r=a.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(n.length),o=new Uint8Array(l),i=0;i<n.length;i++)o[i]=n.charCodeAt(i);var c=new Blob([l],{type:r});return Object(f.b)(new File([c],t.filename))}))).catch((function(e){c(!1),alert(e.msg||e.message||JSON.stringify(e))})).then((function(t){var n={};t.forEach((function(t,a){n[e[a].name]=t})),c(!1),a(n)}))}},i?o.a.createElement(b.a,{size:15}):"Save"))))}h.propTypes={data:c.a.object.isRequired,save:c.a.func.isRequired}},353:function(e,t,a){"use strict";var n=a(7),r=a(2),l=a(1),o=a(0),i=a(9),c=a(11),s=a(99),u=a(13),d=o.forwardRef((function(e,t){var a=e.classes,r=e.className,c=e.disabled,d=void 0!==c&&c,m=e.disableFocusRipple,p=void 0!==m&&m,b=e.fullWidth,f=e.icon,h=e.indicator,g=e.label,v=e.onChange,y=e.onClick,E=e.onFocus,O=e.selected,j=e.selectionFollowsFocus,w=e.textColor,C=void 0===w?"inherit":w,x=e.value,k=e.wrapped,D=void 0!==k&&k,S=Object(n.a)(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"]);return o.createElement(s.a,Object(l.a)({focusRipple:!p,className:Object(i.a)(a.root,a["textColor".concat(Object(u.a)(C))],r,d&&a.disabled,O&&a.selected,g&&f&&a.labelIcon,b&&a.fullWidth,D&&a.wrapped),ref:t,role:"tab","aria-selected":O,disabled:d,onClick:function(e){v&&v(e,x),y&&y(e)},onFocus:function(e){j&&!O&&v&&v(e,x),E&&E(e)},tabIndex:O?0:-1},S),o.createElement("span",{className:a.wrapper},f,g),h)}));t.a=Object(c.a)((function(e){var t;return{root:Object(l.a)({},e.typography.button,(t={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},Object(r.a)(t,e.breakpoints.up("sm"),{padding:"6px 24px"}),Object(r.a)(t,"overflow","hidden"),Object(r.a)(t,"whiteSpace","normal"),Object(r.a)(t,"textAlign","center"),Object(r.a)(t,e.breakpoints.up("sm"),{minWidth:160}),t)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}}),{name:"MuiTab"})(d)},354:function(e,t,a){"use strict";var n=a(1),r=a(59),l=a(7),o=a(0),i=a(9),c=a(221),s=a(11),u=a(42),d=a(74),m=a(61),p=a(19),b=o.forwardRef((function(e,t){var a=e.children,s=e.classes,b=e.className,f=e.collapsedHeight,h=e.collapsedSize,g=void 0===h?"0px":h,v=e.component,y=void 0===v?"div":v,E=e.disableStrictModeCompat,O=void 0!==E&&E,j=e.in,w=e.onEnter,C=e.onEntered,x=e.onEntering,k=e.onExit,D=e.onExited,S=e.onExiting,P=e.style,M=e.timeout,T=void 0===M?u.b.standard:M,I=e.TransitionComponent,N=void 0===I?c.a:I,A=Object(l.a)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),L=Object(m.a)(),F=o.useRef(),R=o.useRef(null),W=o.useRef(),z="number"==typeof(f||g)?"".concat(f||g,"px"):f||g;o.useEffect((function(){return function(){clearTimeout(F.current)}}),[]);var _=L.unstable_strictMode&&!O,B=o.useRef(null),V=Object(p.a)(t,_?B:void 0),H=function(e){return function(t,a){if(e){var n=_?[B.current,t]:[t,a],l=Object(r.a)(n,2),o=l[0],i=l[1];void 0===i?e(o):e(o,i)}}},$=H((function(e,t){e.style.height=z,w&&w(e,t)})),q=H((function(e,t){var a=R.current?R.current.clientHeight:0,n=Object(d.a)({style:P,timeout:T},{mode:"enter"}).duration;if("auto"===T){var r=L.transitions.getAutoHeightDuration(a);e.style.transitionDuration="".concat(r,"ms"),W.current=r}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height="".concat(a,"px"),x&&x(e,t)})),K=H((function(e,t){e.style.height="auto",C&&C(e,t)})),U=H((function(e){var t=R.current?R.current.clientHeight:0;e.style.height="".concat(t,"px"),k&&k(e)})),Y=H(D),J=H((function(e){var t=R.current?R.current.clientHeight:0,a=Object(d.a)({style:P,timeout:T},{mode:"exit"}).duration;if("auto"===T){var n=L.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),W.current=n}else e.style.transitionDuration="string"==typeof a?a:"".concat(a,"ms");e.style.height=z,S&&S(e)}));return o.createElement(N,Object(n.a)({in:j,onEnter:$,onEntered:K,onEntering:q,onExit:U,onExited:Y,onExiting:J,addEndListener:function(e,t){var a=_?e:t;"auto"===T&&(F.current=setTimeout(a,W.current||0))},nodeRef:_?B:void 0,timeout:"auto"===T?null:T},A),(function(e,t){return o.createElement(y,Object(n.a)({className:Object(i.a)(s.root,s.container,b,{entered:s.entered,exited:!j&&"0px"===z&&s.hidden}[e]),style:Object(n.a)({minHeight:z},P),ref:V},t),o.createElement("div",{className:s.wrapper,ref:R},o.createElement("div",{className:s.wrapperInner},a)))}))}));b.muiSupportAuto=!0,t.a=Object(s.a)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(b)},355:function(e,t,a){"use strict";var n=a(37),r=a(146);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(0)),o=(0,n(a(147)).default)(l.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=o},361:function(e,t,a){"use strict";var n,r=a(1),l=a(7),o=a(2),i=a(0),c=(a(55),a(9)),s=a(104),u=a(63);function d(){if(n)return n;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),n="reverse",e.scrollLeft>0?n="default":(e.scrollLeft=1,0===e.scrollLeft&&(n="negative")),document.body.removeChild(e),n}function m(e,t){var a=e.scrollLeft;if("rtl"!==t)return a;switch(d()){case"negative":return e.scrollWidth-e.clientWidth+a;case"reverse":return e.scrollWidth-e.clientWidth-a;default:return a}}function p(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var b={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function f(e){var t=e.onChange,a=Object(l.a)(e,["onChange"]),n=i.useRef(),o=i.useRef(null),c=function(){n.current=o.current.offsetHeight-o.current.clientHeight};return i.useEffect((function(){var e=Object(s.a)((function(){var e=n.current;c(),e!==n.current&&t(n.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[t]),i.useEffect((function(){c(),t(n.current)}),[t]),i.createElement("div",Object(r.a)({style:b,ref:o},a))}var h=a(11),g=a(13),v=i.forwardRef((function(e,t){var a=e.classes,n=e.className,o=e.color,s=e.orientation,u=Object(l.a)(e,["classes","className","color","orientation"]);return i.createElement("span",Object(r.a)({className:Object(c.a)(a.root,a["color".concat(Object(g.a)(o))],n,"vertical"===s&&a.vertical),ref:t},u))})),y=Object(h.a)((function(e){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},colorPrimary:{backgroundColor:e.palette.primary.main},colorSecondary:{backgroundColor:e.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}}),{name:"PrivateTabIndicator"})(v),E=a(58),O=Object(E.a)(i.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),j=Object(E.a)(i.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),w=a(99),C=i.createElement(O,{fontSize:"small"}),x=i.createElement(j,{fontSize:"small"}),k=i.forwardRef((function(e,t){var a=e.classes,n=e.className,o=e.direction,s=e.orientation,u=e.disabled,d=Object(l.a)(e,["classes","className","direction","orientation","disabled"]);return i.createElement(w.a,Object(r.a)({component:"div",className:Object(c.a)(a.root,n,u&&a.disabled,"vertical"===s&&a.vertical),ref:t,role:null,tabIndex:null},d),"left"===o?C:x)})),D=Object(h.a)({root:{width:40,flexShrink:0,opacity:.8,"&$disabled":{opacity:0}},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}},disabled:{}},{name:"MuiTabScrollButton"})(k),S=a(28),P=a(61),M=i.forwardRef((function(e,t){var a=e["aria-label"],n=e["aria-labelledby"],b=e.action,h=e.centered,g=void 0!==h&&h,v=e.children,E=e.classes,O=e.className,j=e.component,w=void 0===j?"div":j,C=e.indicatorColor,x=void 0===C?"secondary":C,k=e.onChange,M=e.orientation,T=void 0===M?"horizontal":M,I=e.ScrollButtonComponent,N=void 0===I?D:I,A=e.scrollButtons,L=void 0===A?"auto":A,F=e.selectionFollowsFocus,R=e.TabIndicatorProps,W=void 0===R?{}:R,z=e.TabScrollButtonProps,_=e.textColor,B=void 0===_?"inherit":_,V=e.value,H=e.variant,$=void 0===H?"standard":H,q=Object(l.a)(e,["aria-label","aria-labelledby","action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant"]),K=Object(P.a)(),U="scrollable"===$,Y="rtl"===K.direction,J="vertical"===T,G=J?"scrollTop":"scrollLeft",Q=J?"top":"left",Z=J?"bottom":"right",X=J?"clientHeight":"clientWidth",ee=J?"height":"width";var te=i.useState(!1),ae=te[0],ne=te[1],re=i.useState({}),le=re[0],oe=re[1],ie=i.useState({start:!1,end:!1}),ce=ie[0],se=ie[1],ue=i.useState({overflow:"hidden",marginBottom:null}),de=ue[0],me=ue[1],pe=new Map,be=i.useRef(null),fe=i.useRef(null),he=function(){var e,t,a=be.current;if(a){var n=a.getBoundingClientRect();e={clientWidth:a.clientWidth,scrollLeft:a.scrollLeft,scrollTop:a.scrollTop,scrollLeftNormalized:m(a,K.direction),scrollWidth:a.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(a&&!1!==V){var r=fe.current.children;if(r.length>0){var l=r[pe.get(V)];0,t=l?l.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},ge=Object(S.a)((function(){var e,t=he(),a=t.tabsMeta,n=t.tabMeta,r=0;if(n&&a)if(J)r=n.top-a.top+a.scrollTop;else{var l=Y?a.scrollLeftNormalized+a.clientWidth-a.scrollWidth:a.scrollLeft;r=n.left-a.left+l}var i=(e={},Object(o.a)(e,Q,r),Object(o.a)(e,ee,n?n[ee]:0),e);if(isNaN(le[Q])||isNaN(le[ee]))oe(i);else{var c=Math.abs(le[Q]-i[Q]),s=Math.abs(le[ee]-i[ee]);(c>=1||s>=1)&&oe(i)}})),ve=function(e){!function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},l=n.ease,o=void 0===l?p:l,i=n.duration,c=void 0===i?300:i,s=null,u=t[e],d=!1,m=function(){d=!0},b=function n(l){if(d)r(new Error("Animation cancelled"));else{null===s&&(s=l);var i=Math.min(1,(l-s)/c);t[e]=o(i)*(a-u)+u,i>=1?requestAnimationFrame((function(){r(null)})):requestAnimationFrame(n)}};u===a?r(new Error("Element already at target position")):requestAnimationFrame(b)}(G,be.current,e)},ye=function(e){var t=be.current[G];J?t+=e:(t+=e*(Y?-1:1),t*=Y&&"reverse"===d()?-1:1),ve(t)},Ee=function(){ye(-be.current[X])},Oe=function(){ye(be.current[X])},je=i.useCallback((function(e){me({overflow:null,marginBottom:-e})}),[]),we=Object(S.a)((function(){var e=he(),t=e.tabsMeta,a=e.tabMeta;if(a&&t)if(a[Q]<t[Q]){var n=t[G]+(a[Q]-t[Q]);ve(n)}else if(a[Z]>t[Z]){var r=t[G]+(a[Z]-t[Z]);ve(r)}})),Ce=Object(S.a)((function(){if(U&&"off"!==L){var e,t,a=be.current,n=a.scrollTop,r=a.scrollHeight,l=a.clientHeight,o=a.scrollWidth,i=a.clientWidth;if(J)e=n>1,t=n<r-l-1;else{var c=m(be.current,K.direction);e=Y?c<o-i-1:c>1,t=Y?c>1:c<o-i-1}e===ce.start&&t===ce.end||se({start:e,end:t})}}));i.useEffect((function(){var e=Object(s.a)((function(){ge(),Ce()})),t=Object(u.a)(be.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[ge,Ce]);var xe=i.useCallback(Object(s.a)((function(){Ce()})));i.useEffect((function(){return function(){xe.clear()}}),[xe]),i.useEffect((function(){ne(!0)}),[]),i.useEffect((function(){ge(),Ce()})),i.useEffect((function(){we()}),[we,le]),i.useImperativeHandle(b,(function(){return{updateIndicator:ge,updateScrollButtons:Ce}}),[ge,Ce]);var ke=i.createElement(y,Object(r.a)({className:E.indicator,orientation:T,color:x},W,{style:Object(r.a)({},le,W.style)})),De=0,Se=i.Children.map(v,(function(e){if(!i.isValidElement(e))return null;var t=void 0===e.props.value?De:e.props.value;pe.set(t,De);var a=t===V;return De+=1,i.cloneElement(e,{fullWidth:"fullWidth"===$,indicator:a&&!ae&&ke,selected:a,selectionFollowsFocus:F,onChange:k,textColor:B,value:t})})),Pe=function(){var e={};e.scrollbarSizeListener=U?i.createElement(f,{className:E.scrollable,onChange:je}):null;var t=ce.start||ce.end,a=U&&("auto"===L&&t||"desktop"===L||"on"===L);return e.scrollButtonStart=a?i.createElement(N,Object(r.a)({orientation:T,direction:Y?"right":"left",onClick:Ee,disabled:!ce.start,className:Object(c.a)(E.scrollButtons,"on"!==L&&E.scrollButtonsDesktop)},z)):null,e.scrollButtonEnd=a?i.createElement(N,Object(r.a)({orientation:T,direction:Y?"left":"right",onClick:Oe,disabled:!ce.end,className:Object(c.a)(E.scrollButtons,"on"!==L&&E.scrollButtonsDesktop)},z)):null,e}();return i.createElement(w,Object(r.a)({className:Object(c.a)(E.root,O,J&&E.vertical),ref:t},q),Pe.scrollButtonStart,Pe.scrollbarSizeListener,i.createElement("div",{className:Object(c.a)(E.scroller,U?E.scrollable:E.fixed),style:de,ref:be,onScroll:xe},i.createElement("div",{"aria-label":a,"aria-labelledby":n,className:Object(c.a)(E.flexContainer,J&&E.flexContainerVertical,g&&!U&&E.centered),onKeyDown:function(e){var t=e.target;if("tab"===t.getAttribute("role")){var a=null,n="vertical"!==T?"ArrowLeft":"ArrowUp",r="vertical"!==T?"ArrowRight":"ArrowDown";switch("vertical"!==T&&"rtl"===K.direction&&(n="ArrowRight",r="ArrowLeft"),e.key){case n:a=t.previousElementSibling||fe.current.lastChild;break;case r:a=t.nextElementSibling||fe.current.firstChild;break;case"Home":a=fe.current.firstChild;break;case"End":a=fe.current.lastChild}null!==a&&(a.focus(),e.preventDefault())}},ref:fe,role:"tablist"},Se),ae&&ke),Pe.scrollButtonEnd)}));t.a=Object(h.a)((function(e){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:Object(o.a)({},e.breakpoints.down("xs"),{display:"none"}),indicator:{}}}),{name:"MuiTabs"})(M)},392:function(e,t,a){"use strict";a.r(t);var n=a(45),r=a.n(n),l=a(25),o=a.n(l),i=a(34),c=a.n(i),s=a(0),u=a.n(s),d=a(20),m=a(313),p=a(290),b=a(31),f=a(60),h=a(14),g=a.n(h),v=a(4),y=a.n(v),E=a(328),O=a(329),j=a(386),w=a(143),C=a(142),x=a(354),k=a(362),D=a(327),S=a(309),P=a(393),M=a(291),T=a(314),I=a(264),N=a.n(I),A=[{value:"allSearches",label:"Found in all searches"},{value:"admissionSearches",label:"Found in admission searches"},{value:"twinSearches",label:"Found in twin searches"}];function L(e){var t=e.value,a=e.onChange;return u.a.createElement("div",null,u.a.createElement(C.a,{variant:"subtitle2"},"Pre-Populate field when:"),A.map((function(e){return u.a.createElement("div",{key:e.value},u.a.createElement(S.a,{value:e.value,control:u.a.createElement(k.a,null),label:e.label,checked:t.includes(e.value),onChange:function(){var n=[],r=A.filter((function(e,t){return 0!==t}));t.includes(e.value)?(n=t.filter((function(t){return t!==e.value})),n=e.value===A[0].value?[]:n.filter((function(e){return e!==A[0].value}))):(n=[].concat(N()(t),[e.value]),e.value===A[0].value&&(n=A.map((function(e){return e.value}))),n.length>=r.length&&(n=A.map((function(e){return e.value})))),a(n)}}))})))}L.propTypes={value:y.a.arrayOf(y.a.string),onChange:y.a.func};var F=a(404),R=a(398),W=a(297),z=a(15),_=a.n(z),B=a(311);var V=function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement(C.a,_()({variant:"button",color:"primary"},e)),u.a.createElement(B.a,{color:"primary"}),u.a.createElement("br",null))};function H(e){var t=e.setForm,a=e.form,n=e.canAddDiagnosisScreen,r=u.a.useState(""),l=o()(r,2),i=l[0],c=l[1];Object(b.d)().state.country;return u.a.createElement(u.a.Fragment,null,u.a.createElement(x.a,{in:!a.type},u.a.createElement("div",null,u.a.createElement(V,null,"Screen type"),u.a.createElement(F.a,{name:"type",value:i,onChange:function(e){return c(e.target.value)}},W.b.map((function(e){return u.a.createElement(S.a,{key:e.name,value:e.name,control:u.a.createElement(R.a,null),label:e.label,disabled:"diagnosis"===e.name&&!n})}))),u.a.createElement("br",null),u.a.createElement("div",{style:{textAlign:"right"}},u.a.createElement(w.a,{color:"primary",disabled:!i,onClick:function(){return t({type:i})}},"Continue")))))}H.propTypes={screen:y.a.object,script:y.a.object,form:y.a.object,setForm:y.a.func,canAddDiagnosisScreen:y.a.bool.isRequired};var $=H,q=a(1),K=a(7),U=a(9),Y=a(11),J=a(22),G=a(13),Q=a(289),Z=s.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.color,l=void 0===r?"secondary":r,o=e.edge,i=void 0!==o&&o,c=e.size,u=void 0===c?"medium":c,d=Object(K.a)(e,["classes","className","color","edge","size"]),m=s.createElement("span",{className:a.thumb});return s.createElement("span",{className:Object(U.a)(a.root,n,{start:a.edgeStart,end:a.edgeEnd}[i],"small"===u&&a["size".concat(Object(G.a)(u))])},s.createElement(Q.a,Object(q.a)({type:"checkbox",icon:m,checkedIcon:m,classes:{root:Object(U.a)(a.switchBase,a["color".concat(Object(G.a)(l))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},d)),s.createElement("span",{className:a.track}))})),X=Object(Y.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(J.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(J.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(Z);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){var t=e.setForm,a=e.form;return u.a.useEffect((function(){t(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({skippable:null,condition:null},a))}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(V,null,"FLOW CONTROL"),u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!a.skippable,onChange:function(){return t((function(e){return{skippable:!e.skippable}}))},name:"skippable"}),label:"Allow user to skip this screen"})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:a.condition||"",label:"Conditional expression",onChange:function(e){return t({condition:e.target.value})}}),u.a.createElement(C.a,{variant:"caption",color:"textSecondary"},"Example: ",u.a.createElement("b",null,"($key = true and $key2 = false) or $key3 = 'HD'"))),u.a.createElement("br",null))}te.propTypes={screen:y.a.object,script:y.a.object,form:y.a.object,setForm:y.a.func};var ae=te,ne=a(298);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function oe(e){function t(t){var a=t.setForm;return u.a.createElement(u.a.Fragment,null,u.a.createElement(e,_()({},t,{setMetadata:function(e){return a((function(t){return{metadata:le(le({},t.metadata),e)}}))}})))}return t.propTypes={screen:y.a.object,script:y.a.object,form:y.a.object,setForm:y.a.func},t}function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function se(e){var t=e.form,a=e.setMetadata;return u.a.useEffect((function(){a(ce(ce({},function(){for(var e={},t=1;t<4;t++)e=ce(ce({},e),{},g()(g()(g()({},"text".concat(t),null),"image".concat(t),null),"title".concat(t),null));return e}()),t.metadata))}),[]),u.a.createElement(u.a.Fragment,null,function(){for(var e=[],n=function(n){e.push(u.a.createElement(ne.a,{key:n,labels:{text:"Text ".concat(n),title:"Title ".concat(n),image:"Image ".concat(n)},value:{text:t.metadata["text".concat(n)],image:t.metadata["image".concat(n)],title:t.metadata["title".concat(n)]},onChange:function(e){var t=e.title,r=e.text,l=e.image;return a(g()(g()(g()({},"text".concat(n),r),"image".concat(n),l),"title".concat(n),t))}}))},r=1;r<4;r++)n(r);return e}())}se.propTypes={setMetadata:y.a.func.isRequired,form:y.a.object.isRequired};var ue=oe(se);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){var t=e.form,a=e.setMetadata;return u.a.useEffect((function(){a(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({dataType:"number",confidential:!1,key:null,label:null,timerValue:null,multiplier:null,minValue:null,maxValue:null},t.metadata))}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(D.a,{container:!0,spacing:1},u.a.createElement(D.a,{xs:6,sm:6,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:t.metadata.key||"",label:"Input key",onChange:function(e){return a({key:e.target.value})}})),u.a.createElement(D.a,{xs:6,sm:6,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:t.metadata.label||"",label:"Input label",onChange:function(e){return a({label:e.target.value})}})),u.a.createElement(D.a,{item:!0,sm:12},u.a.createElement("br",null)),u.a.createElement(D.a,{xs:6,sm:3,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:t.metadata.timerValue||"",label:"Timer value (seconds)",onChange:function(e){return a({timerValue:e.target.value})}})),u.a.createElement(D.a,{xs:6,sm:3,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:t.metadata.multiplier||"",label:"Multiplier",onChange:function(e){return a({multiplier:e.target.value})}})),u.a.createElement(D.a,{xs:6,sm:3,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:t.metadata.minValue||"",label:"Input value min.",onChange:function(e){return a({minValue:e.target.value})}})),u.a.createElement(D.a,{xs:6,sm:3,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:t.metadata.maxValue||"",label:"Input value max.",onChange:function(e){return a({maxValue:e.target.value})}}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!t.metadata.confidential,onChange:function(){return a({confidential:!t.metadata.confidential})},name:"confidential"}),label:"Confidential"})),u.a.createElement("br",null),u.a.createElement("br",null))}me.propTypes={setMetadata:y.a.func.isRequired,form:y.a.object.isRequired};var pe=oe(me);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){var t=e.form,a=e.setMetadata;return u.a.useEffect((function(){a(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({dataType:"boolean",confidential:!1,key:null,label:null,negativeLabel:null,positiveLabel:null},t.metadata))}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!t.metadata.key,value:t.metadata.key||"",label:"Input key",onChange:function(e){return a({key:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!t.metadata.label,value:t.metadata.label||"",label:"Input label",onChange:function(e){return a({label:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!t.metadata.confidential,onChange:function(){return a({confidential:!t.metadata.confidential})},name:"confidential"}),label:"Confidential"})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(D.a,{container:!0,spacing:1},u.a.createElement(D.a,{xs:6,sm:6,item:!0},u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!t.metadata.negativeLabel,value:t.metadata.negativeLabel||"",label:"Negative label",onChange:function(e){return a({negativeLabel:e.target.value})}})),u.a.createElement(D.a,{xs:6,sm:6,item:!0},u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!t.metadata.positiveLabel,value:t.metadata.positiveLabel||"",label:"Positive label",onChange:function(e){return a({positiveLabel:e.target.value})}}))),u.a.createElement("br",null),u.a.createElement("br",null))}fe.propTypes={setMetadata:y.a.func.isRequired,form:y.a.object.isRequired};var he=oe(fe);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e){var t=e.form,a=e.setMetadata;return u.a.useEffect((function(){a(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({dataType:function(){switch(t.type){case"multi_select":return"set<id>";default:return"id"}},confidential:!1,key:null,label:null},t.metadata))}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!t.metadata.key,value:t.metadata.key||"",label:"Input key",onChange:function(e){return a({key:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!t.metadata.label,value:t.metadata.label||"",label:"Input label",onChange:function(e){return a({label:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!t.metadata.confidential,onChange:function(){return a({confidential:!t.metadata.confidential})},name:"confidential"}),label:"Confidential"})),u.a.createElement("br",null))}ve.propTypes={setMetadata:y.a.func.isRequired,form:y.a.object.isRequired};var ye=oe(ve);function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){var t=e.form,a=e.setMetadata;return u.a.useEffect((function(){a(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({key:null,label:null},t.metadata))}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!t.metadata.key,value:t.metadata.key||"",label:"Input key",onChange:function(e){return a({key:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!t.metadata.label,value:t.metadata.label||"",label:"Input label",onChange:function(e){return a({label:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null))}Oe.propTypes={setMetadata:y.a.func.isRequired,form:y.a.object.isRequired};var je=oe(Oe);function we(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ce(e){var t=e.setForm,a=e.form;return u.a.useEffect((function(){t(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?we(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):we(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({epicId:null,storyId:null,refId:null,step:null,title:null,title2:null,title3:null,title4:null,sectionTitle:null,actionText:null,contentText:null,instructions:null,instructions2:null,instructions3:null,instructions4:null,hcwDiagnosesInstructions:null,suggestedDiagnosesInstructions:null,notes:null},a))}),[]),u.a.createElement(u.a.Fragment,null,u.a.createElement(V,null,"Properties"),u.a.createElement(D.a,{container:!0,spacing:1},u.a.createElement(D.a,{xs:6,sm:3,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:a.epicId||"",label:"Epic ID",onChange:function(e){return t({epicId:e.target.value})}})),u.a.createElement(D.a,{xs:6,sm:3,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:a.storyId||"",label:"Story ID",onChange:function(e){return t({storyId:e.target.value})}})),u.a.createElement(D.a,{xs:6,sm:3,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:a.refId||"",label:"Ref.",onChange:function(e){return t({refId:e.target.value})}})),u.a.createElement(D.a,{xs:6,sm:3,item:!0},u.a.createElement(P.a,{fullWidth:!0,value:a.step||"",label:"Step",onChange:function(e){return t({step:e.target.value})}}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!a.title,value:a.title||"",label:"Title",onChange:function(e){return t({title:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!a.sectionTitle,value:a.sectionTitle||"",label:"Print section title",onChange:function(e){return t({sectionTitle:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),"diagnosis"===a.type&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!a.title2,value:a.title2||"",label:"Title 2",onChange:function(e){return t({title2:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!a.title3,value:a.title3||"",label:"Title 3",onChange:function(e){return t({title3:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!a.previewTitle,value:a.previewTitle||"",label:"Preview title",onChange:function(e){return t({previewTitle:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!a.previewPrintTitle,value:a.previewPrintTitle||"",label:"Preview print section title",onChange:function(e){return t({previewPrintTitle:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:a.actionText||"",label:"Action",onChange:function(e){return t({actionText:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{minRows:5,multiline:!0,fullWidth:!0,value:a.contentText||"",label:"Content",onChange:function(e){return t({contentText:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),function(){var t=null;switch(a.type){case"yesno":t=he;break;case"timer":t=pe;break;case"management":t=ue;break;case"multi_select":case"single_select":t=ye;break;case"edliz_summary_table":case"mwi_edliz_summary_table":case"zw_edliz_summary_table":t=je}return t?u.a.createElement(u.a.Fragment,null,u.a.createElement(t,e),u.a.createElement("br",null)):null}(),u.a.createElement("div",null,u.a.createElement(P.a,{minRows:5,multiline:!0,fullWidth:!0,value:a.instructions||"",label:"Instructions",onChange:function(e){return t({instructions:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),"diagnosis"===a.type&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(P.a,{minRows:5,multiline:!0,fullWidth:!0,value:a.instructions2||"",label:"Instructions 2",onChange:function(e){return t({instructions2:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{minRows:5,multiline:!0,fullWidth:!0,value:a.instructions3||"",label:"Instructions 3",onChange:function(e){return t({instructions3:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(D.a,{container:!0,spacing:1},u.a.createElement(D.a,{item:!0,xs:12,sm:6},u.a.createElement("div",null,u.a.createElement(P.a,{minRows:5,multiline:!0,fullWidth:!0,value:a.hcwDiagnosesInstructions||"",label:"HCW diagnoses instructions",onChange:function(e){return t({hcwDiagnosesInstructions:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement(D.a,{item:!0,xs:12,sm:6},u.a.createElement("div",null,u.a.createElement(P.a,{minRows:5,multiline:!0,fullWidth:!0,value:a.suggestedDiagnosesInstructions||"",label:"Suggested diagnoses instructions",onChange:function(e){return t({suggestedDiagnosesInstructions:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null)))),u.a.createElement("div",null,u.a.createElement(P.a,{minRows:5,multiline:!0,fullWidth:!0,value:a.notes||"",label:"Notes",onChange:function(e){return t({notes:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null))}Ce.propTypes={screen:y.a.object,script:y.a.object,form:y.a.object,setForm:y.a.func};var xe=Ce,ke=a(269),De=a(254),Se=a(268),Pe=a.n(Se),Me=a(355),Te=a.n(Me),Ie=a(16),Ne=a.n(Ie),Ae=a(231),Le=a(227),Fe=a(228),Re=a(229),We=["children","onClick","data","onSave","form"];function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Be=u.a.forwardRef((function(e,t){var a=e.children,n=e.onClick,r=e.data,l=e.onSave,i=e.form.type,c=Ne()(e,We),s=Object(b.d)().state.viewMode,d=u.a.useState(!1),m=o()(d,2),p=m[0],f=m[1],h=_e({dataType:function(){switch(i){case"list":return"void";case"checklist":return"boolean";case"single_select":return"id";case"diagnosis":return"diagnosis";default:return null}}(),confidential:!1,checked:null,id:null,label:null,key:null,exclusive:null,enterValueManually:null,summary:null,image1:null,image2:null,image3:null,name:null,text1:null,text2:null,text3:null,severity_order:null},r),g=u.a.useState(h),v=o()(g,2),y=v[0],E=v[1],O=function(e){return E((function(t){return _e(_e({},t),"function"==typeof e?e(t):e)}))};return u.a.useEffect((function(){O(h)}),[p]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",_()({},c,{ref:t,onClick:function(e){f(!0),n&&n(e)}}),a),u.a.createElement(Ae.a,{open:p,maxWidth:"sm",fullWidth:!0,onClose:function(){return f(!1)}},u.a.createElement(Le.a,null,r?"Edit":"Add"," item"),u.a.createElement(Fe.a,null,function(){switch(i){case"checklist":return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!y.label,value:y.label||"",label:"Label",onChange:function(e){return O({label:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:y.summary||"",label:"Summary",onChange:function(e){return O({summary:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!y.key||!/[a-zA-Z0-9]+/.test(y.key),value:y.key||"",label:"Key",onChange:function(e){return O({key:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!y.confidential,onChange:function(){return O({confidential:!y.confidential})},name:"confidential"}),label:"Confidential"})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!y.exclusive,onChange:function(){return O({exclusive:!y.exclusive})},name:"exclusive"}),label:"Disable other items if selected"})));case"progress":return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:y.label||"",label:"Label",onChange:function(e){return O({label:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!y.checked,onChange:function(){return O({checked:!y.checked})},name:"checked"}),label:"Mark as checked"})));case"list":return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:y.label||"",label:"Label",onChange:function(e){return O({label:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:y.summary||"",label:"Summary",onChange:function(e){return O({summary:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null));default:return u.a.createElement(u.a.Fragment,null,u.a.createElement(D.a,{container:!0,spacing:1},u.a.createElement(D.a,{item:!0,xs:2,sm:2},u.a.createElement(P.a,{fullWidth:!0,value:y.id||"",label:"ID",onChange:function(e){return O({id:e.target.value})}})),u.a.createElement(D.a,{item:!0,xs:10,sm:10},u.a.createElement(P.a,{fullWidth:!0,value:y.label||"",label:"Label",onChange:function(e){return O({label:e.target.value})}}))),u.a.createElement("br",null),["multi_select","diagnosis"].includes(i)&&u.a.createElement(u.a.Fragment,null,"diagnosis"===i&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement(P.a,{value:y.severity_order||"",label:"Severity Order",type:"number",onChange:function(e){return O({severity_order:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!y.exclusive,onChange:function(){return O({exclusive:!y.exclusive})},name:"exclusive"}),label:"Disable other items if selected"})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!y.enterValueManually,onChange:function(){return O({enterValueManually:!y.enterValueManually})},name:"enterValueManually"}),label:"Enter value manually if selected"}))))}}()),u.a.createElement(Re.a,null,u.a.createElement(w.a,{onClick:function(){return f(!1)}},"Cancel"),u.a.createElement(w.a,{variant:"contained",color:"primary",disabled:"view"===s,onClick:function(){l(y),f(!1)}},"Save"))))}));Be.propTypes={onClick:y.a.func,form:y.a.object.isRequired,children:y.a.node,data:y.a.object,onSave:y.a.func.isRequired};var Ve=Be,He=a(267),$e=a.n(He),qe=a(366),Ke=a(259);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Je(e){var t=e.row,a=e.rowIndex,n=e.form,r=e.setMetadata,l=Object(b.d)().state.viewMode,i=u.a.useState(null),c=o()(i,2),s=c[0],d=c[1],m=function(){return d(null)};return u.a.createElement(u.a.Fragment,null,u.a.createElement(De.a,{onClick:function(e){return d(e.currentTarget)}},u.a.createElement($e.a,null)),u.a.createElement(qe.a,{anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:m},u.a.createElement(Ke.a,{onClick:m,component:Ve,form:n,data:t,onSave:function(e){return r({items:n.metadata.items.map((function(t,n){return a===n?Ye(Ye({},t),e):t}))})}},"view"===l?"View":"Edit"),"view"===l?null:u.a.createElement(Ke.a,{onClick:function(e){r({items:n.metadata.items.filter((function(e,t){return t!==a}))}),m()}},u.a.createElement(C.a,{color:"error"},"Delete"))))}Je.propTypes={rowIndex:y.a.number,row:y.a.object,form:y.a.object,setMetadata:y.a.func.isRequired};var Ge=Je;function Qe(e){var t=e.form,a=e.setMetadata,n=e.title,r=e.filterItems,l=e.editable;return l=!1!==l,u.a.createElement(u.a.Fragment,null,u.a.createElement(ke.a,{filter:r,selectable:!1,noDataMsg:"No items",title:n||"Items",data:t.metadata.items,renderHeaderActions:l?function(){return u.a.createElement(Ve,{form:t,onSave:function(e){return a({items:[].concat(N()(t.metadata.items),[e])})}},u.a.createElement(De.a,null,u.a.createElement(Pe.a,null)))}:void 0,renderRowAction:l?function(e,n){return u.a.createElement(Ge,{row:e,form:t,rowIndex:n,setMetadata:a})}:void 0,displayFields:function(){switch(t.type){case"edliz_summary_table":case"zw_edliz_summary_table":case"mwi_edliz_summary_table":return[{key:"id",label:"ID"},{key:"subType",label:"Sub type"},{key:"label",label:"Label"}];case"checklist":return[{key:"key",label:"Key"},{key:"label",label:"Label"},{key:"exclusive",label:"Exclusive",cellProps:{align:"right"},render:function(e){return e.row[e.column]?u.a.createElement(Te.a,{fontSize:"small",color:"primary"}):null}}];case"single_select":return[{key:"id",label:"ID"},{key:"label",label:"Label"}];case"multi_select":return[{key:"id",label:"ID"},{key:"label",label:"Label"},{key:"checked",label:"Checked",cellProps:{align:"right"},render:function(e){return e.row[e.column]?u.a.createElement(Te.a,{fontSize:"small",color:"primary"}):null}}];case"diagnosis":return[{key:"id",label:"ID"},{key:"label",label:"Label"},{key:"checked",label:"Checked",cellProps:{align:"right"},render:function(e){return e.row[e.column]?u.a.createElement(Te.a,{fontSize:"small",color:"primary"}):null}}];case"list":return[{key:"label",label:"Label"},{key:"summary",label:"Summary"}];case"progress":return[{key:"label",label:"Label"},{key:"checked",label:"Checked",cellProps:{align:"right"},render:function(e){return e.row[e.column]?u.a.createElement(Te.a,{fontSize:"small",color:"primary"}):null}}];default:return[]}}(),onSortData:l?function(e){a({items:e})}:void 0}))}Qe.propTypes={setMetadata:y.a.func.isRequired,form:y.a.object.isRequired,title:y.a.string,filterItems:y.a.func,editable:y.a.bool};var Ze=oe(Qe),Xe=a(2),et=a(238),tt=a(255),at=a(251);function nt(e){return Object(at.a)(e)}var rt=s.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.component,l=void 0===r?"div":r,o=e.disableGutters,i=void 0!==o&&o,c=e.variant,u=void 0===c?"regular":c,d=Object(K.a)(e,["classes","className","component","disableGutters","variant"]);return s.createElement(l,Object(q.a)({className:Object(U.a)(a.root,a[u],n,!i&&a.gutters),ref:t},d))})),lt=Object(Y.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(Xe.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(rt),ot=a(384);function it(e,t){return Array.isArray(t)?t.every((function(t){return-1!==e.indexOf(t)})):-1!==e.indexOf(t)}var ct=Object(tt.a)((function(e){return{staticWrapperRoot:{overflow:"hidden",minWidth:310,display:"flex",flexDirection:"column",backgroundColor:e.palette.background.paper}}}),{name:"MuiPickersStaticWrapper"}),st=function(e){var t=e.children,a=ct();return Object(s.createElement)("div",{className:a.staticWrapperRoot,children:t})},ut=function(e){var t=e.children,a=e.classes,n=e.onAccept,r=e.onDismiss,l=e.onClear,o=e.onSetToday,i=e.okLabel,c=e.cancelLabel,u=e.clearLabel,d=e.todayLabel,m=e.clearable,p=e.showTodayButton,b=(e.showTabs,e.wider),f=Object(K.a)(e,["children","classes","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","clearable","showTodayButton","showTabs","wider"]);return Object(s.createElement)(Ae.a,Object(q.a)({role:"dialog",onClose:r,classes:{paper:Object(U.a)(a.dialogRoot,b&&a.dialogRootWider)}},f),Object(s.createElement)(Fe.a,{children:t,className:a.dialog}),Object(s.createElement)(Re.a,{classes:{root:Object(U.a)((m||p)&&a.withAdditionalAction)}},m&&Object(s.createElement)(w.a,{color:"primary",onClick:l},u),p&&Object(s.createElement)(w.a,{color:"primary",onClick:o},d),c&&Object(s.createElement)(w.a,{color:"primary",onClick:r},c),i&&Object(s.createElement)(w.a,{color:"primary",onClick:n},i)))};ut.displayName="ModalDialog";var dt=nt({dialogRoot:{minWidth:310},dialogRootWider:{minWidth:325},dialog:{"&:first-child":{padding:0}},withAdditionalAction:{justifyContent:"flex-start","& > *:first-child":{marginRight:"auto"}}}),mt=Object(Y.a)(dt,{name:"MuiPickersModal"})(ut),pt="undefined"==typeof window?s.useEffect:s.useLayoutEffect;function bt(e,t){var a=t[e.key];a&&(a(),e.preventDefault())}function ft(e,t){var a=Object(s.useRef)(t);a.current=t,pt((function(){if(e){var t=function(e){bt(e,a.current)};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}}),[e])}var ht=function(e){var t=e.open,a=e.children,n=e.okLabel,r=e.cancelLabel,l=e.clearLabel,o=e.todayLabel,i=e.showTodayButton,c=e.clearable,u=e.DialogProps,d=e.showTabs,m=e.wider,p=e.InputComponent,b=e.DateInputProps,f=e.onClear,h=e.onAccept,g=e.onDismiss,v=e.onSetToday,y=Object(K.a)(e,["open","children","okLabel","cancelLabel","clearLabel","todayLabel","showTodayButton","clearable","DialogProps","showTabs","wider","InputComponent","DateInputProps","onClear","onAccept","onDismiss","onSetToday"]);return ft(t,{Enter:h}),Object(s.createElement)(s.Fragment,null,Object(s.createElement)(p,Object(q.a)({},y,b)),Object(s.createElement)(mt,Object(q.a)({wider:m,showTabs:d,open:t,onClear:f,onAccept:h,onDismiss:g,onSetToday:v,clearLabel:l,todayLabel:o,okLabel:n,cancelLabel:r,clearable:c,showTodayButton:i,children:a},u)))};ht.defaultProps={okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1};var gt=function(e){var t=e.open,a=(e.wider,e.children),n=e.PopoverProps,r=(e.onClear,e.onDismiss),l=(e.onSetToday,e.onAccept),o=(e.showTabs,e.DateInputProps),i=e.InputComponent,c=Object(K.a)(e,["open","wider","children","PopoverProps","onClear","onDismiss","onSetToday","onAccept","showTabs","DateInputProps","InputComponent"]),u=Object(s.useRef)();return ft(t,{Enter:l}),Object(s.createElement)(s.Fragment,null,Object(s.createElement)(i,Object(q.a)({},c,o,{inputRef:u})),Object(s.createElement)(ot.a,Object(q.a)({open:t,onClose:r,anchorEl:u.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:a},n)))};var vt=Object(s.createContext)(null),yt=function(e){var t=e.variant,a=Object(K.a)(e,["variant"]),n=function(e){switch(e){case"inline":return gt;case"static":return st;default:return ht}}(t);return Object(s.createElement)(vt.Provider,{value:t||"dialog"},Object(s.createElement)(n,a))},Et=a(296),Ot=s.forwardRef((function(e,t){var a=e.children,n=e.classes,r=e.className,l=e.component,o=void 0===l?"div":l,i=e.disablePointerEvents,c=void 0!==i&&i,u=e.disableTypography,d=void 0!==u&&u,m=e.position,p=e.variant,b=Object(K.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),f=Object(Et.b)()||{},h=p;return p&&f.variant,f&&!h&&(h=f.variant),s.createElement(Et.a.Provider,{value:null},s.createElement(o,Object(q.a)({className:Object(U.a)(n.root,r,"end"===m?n.positionEnd:n.positionStart,c&&n.disablePointerEvents,f.hiddenLabel&&n.hiddenLabel,"filled"===h&&n.filled,"dense"===f.margin&&n.marginDense),ref:t},b),"string"!=typeof a||d?a:s.createElement(C.a,{color:"textSecondary"},a)))})),jt=Object(Y.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(Ot),wt=a(23),Ct=function(e){function t(t){var a;return(a=e.call(this,t)||this)._state=null,a._del=!1,a._handleChange=function(e){var t=a.state.value,n=e.target.value,r=e.target,l=n.length>t.length,o=a._del,i=t===a.props.format(n);a.setState({value:n,local:!0},(function(){var e=r.selectionStart,c=a.props.refuse||/[^\d]+/g,s=n.substr(0,e).replace(c,"");if(a._state={input:r,before:s,op:l,di:o&&i,del:o},a.props.replace&&a.props.replace(t)&&l&&!i){for(var u=-1,d=0;d!==s.length;++d)u=Math.max(u,n.toLowerCase().indexOf(s[d].toLowerCase(),u+1));var m=n.substr(u+1).replace(c,"")[0];u=n.indexOf(m,u+1),n=""+n.substr(0,u)+n.substr(u+1)}var p=a.props.format(n);t===p?a.setState({value:n}):a.props.onChange(p)}))},a._hKD=function(e){"Delete"===e.code&&(a._del=!0)},a._hKU=function(e){"Delete"===e.code&&(a._del=!1)},a.state={value:t.value,local:!0},a}Object(wt.a)(t,e),t.getDerivedStateFromProps=function(e,t){return{value:t.local?t.value:e.value,local:!1}};var a=t.prototype;return a.render=function(){var e=this._handleChange,t=this.state.value;return(0,this.props.children)({value:t,onChange:e})},a.componentWillUnmount=function(){document.removeEventListener("keydown",this._hKD),document.removeEventListener("keyup",this._hKU)},a.componentDidMount=function(){document.addEventListener("keydown",this._hKD),document.addEventListener("keyup",this._hKU)},a.componentDidUpdate=function(){var e=this._state;if(e){for(var t=this.state.value,a=-1,n=0;n!==e.before.length;++n)a=Math.max(a,t.toLowerCase().indexOf(e.before[n].toLowerCase(),a+1));if(this.props.replace&&(e.op||e.del&&!e.di))for(;t[a+1]&&(this.props.refuse||/[^\d]+/).test(t[a+1]);)a+=1;e.input.selectionStart=e.input.selectionEnd=a+1+(e.di?1:0)}this._state=null},t}(s.Component),xt=a(141),kt=a(59),Dt=a(61),St=a(6),Pt=a(5),Mt=a(105),Tt=a(87),It=a(8),Nt=Object(tt.a)((function(e){return{day:{width:36,height:36,fontSize:e.typography.caption.fontSize,margin:"0 2px",color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:e.palette.primary.main,fontWeight:600},daySelected:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{backgroundColor:e.palette.primary.main}},dayDisabled:{pointerEvents:"none",color:e.palette.text.hint}}}),{name:"MuiPickersDay"}),At=function(e){var t=e.children,a=e.disabled,n=e.hidden,r=e.current,l=e.selected,o=Object(K.a)(e,["children","disabled","hidden","current","selected"]),i=Nt(),c=Object(U.a)(i.day,n&&i.hidden,r&&i.current,l&&i.daySelected,a&&i.dayDisabled);return Object(s.createElement)(De.a,Object(q.a)({className:c,tabIndex:n||a?-1:0},o),Object(s.createElement)(C.a,{variant:"body2",color:"inherit"},t))};At.displayName="Day",At.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1};var Lt=At,Ft=a(261),Rt=a(27);function Wt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var zt=a(221),_t=a(132),Bt=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.remove(n):"string"==typeof a.className?a.className=Wt(a.className,n):a.setAttribute("class",Wt(a.className&&a.className.baseVal||"",n)));var a,n}))},Vt=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){var n=t.resolveArguments(e,a),r=n[0],l=n[1];t.removeClasses(r,"exit"),t.addClass(r,l?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var n=t.resolveArguments(e,a),r=n[0],l=n[1]?"appear":"enter";t.addClass(r,l,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var n=t.resolveArguments(e,a),r=n[0],l=n[1]?"appear":"enter";t.removeClasses(r,l),t.addClass(r,l,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"appear"),t.removeClasses(a,"enter"),t.addClass(a,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.resolveArguments(e)[0];t.addClass(a,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"exit"),t.addClass(a,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,a){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,a]},t.getClassNames=function(e){var a=t.props.classNames,n="string"==typeof a,r=n?""+(n&&a?a+"-":"")+e:a[e];return{baseClassName:r,activeClassName:n?r+"-active":a[e+"Active"],doneClassName:n?r+"-done":a[e+"Done"]}},t}Object(wt.a)(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var n=this.getClassNames(t)[a+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===a&&r&&(n+=" "+r),"active"===a&&e&&Object(_t.a)(e),n&&(this.appliedClasses[t][a]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,n)||("string"==typeof a.className?a.className=a.className+" "+n:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+n)));var a,n}))}(e,n))},a.removeClasses=function(e,t){var a=this.appliedClasses[t],n=a.base,r=a.active,l=a.done;this.appliedClasses[t]={},n&&Bt(e,n),r&&Bt(e,r),l&&Bt(e,l)},a.render=function(){var e=this.props,t=(e.classNames,Object(Rt.a)(e,["classNames"]));return u.a.createElement(zt.a,Object(q.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.a.Component);Vt.defaultProps={classNames:""},Vt.propTypes={};var Ht=Vt,$t=a(225),qt=function(e){var t=e.children,a=e.value,n=e.disabled,r=e.onSelect,l=e.dayInCurrentMonth,o=Object(K.a)(e,["children","value","disabled","onSelect","dayInCurrentMonth"]),i=Object(s.useCallback)((function(){return r(a)}),[r,a]);return Object(s.createElement)("div",Object(q.a)({role:"presentation",onClick:l&&!n?i:void 0,onKeyPress:l&&!n?i:void 0},o),t)},Kt=Object(tt.a)((function(e){var t=e.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:t},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-200%)",transition:t},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(200%)",transition:t}}}),{name:"MuiPickersSlideTransition"}),Ut=function(e){var t=e.children,a=e.transKey,n=e.slideDirection,r=e.className,l=void 0===r?null:r,o=Kt(),i={exit:o.slideExit,enterActive:o.slideEnterActive,enter:o["slideEnter-"+n],exitActive:o["slideExitActiveLeft-"+n]};return Object(s.createElement)(Ft.a,{className:Object(U.a)(o.transitionContainer,l),childFactory:function(e){return Object(s.cloneElement)(e,{classNames:i})}},Object(s.createElement)(Ht,{mountOnEnter:!0,unmountOnExit:!0,key:a+n,timeout:350,classNames:i,children:t}))},Yt=Object(tt.a)((function(e){return{switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing(.5),marginBottom:e.spacing(1)},transitionContainer:{width:"100%",overflow:"hidden",height:23},iconButton:{zIndex:1,backgroundColor:e.palette.background.paper},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:e.palette.text.hint}}}),{name:"MuiPickersCalendarHeader"}),Jt=function(e){var t=e.currentMonth,a=e.onMonthChange,n=e.leftArrowIcon,r=e.rightArrowIcon,l=e.leftArrowButtonProps,o=e.rightArrowButtonProps,i=e.disablePrevMonth,c=e.disableNextMonth,u=e.slideDirection,d=Object(et.b)(),m=Yt(),p="rtl"===Object(Dt.a)().direction;return Object(s.createElement)("div",null,Object(s.createElement)("div",{className:m.switchHeader},Object(s.createElement)(De.a,Object(q.a)({},l,{disabled:i,onClick:function(){return a(d.getPreviousMonth(t),"right")},className:m.iconButton}),p?r:n),Object(s.createElement)(Ut,{slideDirection:u,transKey:t.toString(),className:m.transitionContainer},Object(s.createElement)(C.a,{align:"center",variant:"body1"},d.getCalendarHeaderText(t))),Object(s.createElement)(De.a,Object(q.a)({},o,{disabled:c,onClick:function(){return a(d.getNextMonth(t),"left")},className:m.iconButton}),p?n:r)),Object(s.createElement)("div",{className:m.daysHeader},d.getWeekdays().map((function(e,t){return Object(s.createElement)(C.a,{key:t,variant:"caption",className:m.dayLabel},e)}))))};Jt.displayName="CalendarHeader",Jt.defaultProps={leftArrowIcon:Object(s.createElement)((function(e){return u.a.createElement(xt.a,e,u.a.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}),null),rightArrowIcon:Object(s.createElement)((function(e){return u.a.createElement(xt.a,e,u.a.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}),null),disablePrevMonth:!1,disableNextMonth:!1};var Gt=function(e){var t=e.onKeyDown;return Object(s.useEffect)((function(){return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[t]),null},Qt=function(e){function t(){var e,a;Object(St.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(Mt.a)(this,(e=Object(Tt.a)(t)).call.apply(e,[this].concat(r)))).state={slideDirection:"left",currentMonth:a.props.utils.startOfMonth(a.props.date),loadingQueue:0},a.pushToLoadingQueue=function(){var e=a.state.loadingQueue+1;a.setState({loadingQueue:e})},a.popFromLoadingQueue=function(){var e=a.state.loadingQueue;e=e<=0?0:e-1,a.setState({loadingQueue:e})},a.handleChangeMonth=function(e,t){if(a.setState({currentMonth:e,slideDirection:t}),a.props.onMonthChange){var n=a.props.onMonthChange(e);n&&(a.pushToLoadingQueue(),n.then((function(){a.popFromLoadingQueue()})))}},a.validateMinMaxDate=function(e){var t=a.props,n=t.minDate,r=t.maxDate,l=t.utils,o=t.disableFuture,i=t.disablePast,c=l.date();return Boolean(o&&l.isAfterDay(e,c)||i&&l.isBeforeDay(e,c)||n&&l.isBeforeDay(e,l.date(n))||r&&l.isAfterDay(e,l.date(r)))},a.shouldDisablePrevMonth=function(){var e=a.props,t=e.utils,n=e.disablePast,r=e.minDate,l=t.date(),o=t.startOfMonth(n&&t.isAfter(l,t.date(r))?l:t.date(r));return!t.isBefore(o,a.state.currentMonth)},a.shouldDisableNextMonth=function(){var e=a.props,t=e.utils,n=e.disableFuture,r=e.maxDate,l=t.date(),o=t.startOfMonth(n&&t.isBefore(l,t.date(r))?l:t.date(r));return!t.isAfter(o,a.state.currentMonth)},a.shouldDisableDate=function(e){var t=a.props.shouldDisableDate;return a.validateMinMaxDate(e)||Boolean(t&&t(e))},a.handleDaySelect=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=a.props,r=n.date,l=n.utils;a.props.onChange(l.mergeDateAndTime(e,r),t)},a.moveToDay=function(e){var t=a.props.utils;e&&!a.shouldDisableDate(e)&&(t.getMonth(e)!==t.getMonth(a.state.currentMonth)&&a.handleChangeMonth(t.startOfMonth(e),"left"),a.handleDaySelect(e,!1))},a.handleKeyDown=function(e){var t=a.props,n=t.theme,r=t.date,l=t.utils;bt(e,{ArrowUp:function(){return a.moveToDay(l.addDays(r,-7))},ArrowDown:function(){return a.moveToDay(l.addDays(r,7))},ArrowLeft:function(){return a.moveToDay(l.addDays(r,"ltr"===n.direction?-1:1))},ArrowRight:function(){return a.moveToDay(l.addDays(r,"ltr"===n.direction?1:-1))}})},a.renderWeeks=function(){var e=a.props,t=e.utils,n=e.classes;return t.getWeekArray(a.state.currentMonth).map((function(e){return Object(s.createElement)("div",{key:"week-".concat(e[0].toString()),className:n.week},a.renderDays(e))}))},a.renderDays=function(e){var t=a.props,n=t.date,r=t.renderDay,l=t.utils,o=l.date(),i=l.startOfDay(n),c=l.getMonth(a.state.currentMonth);return e.map((function(e){var t=a.shouldDisableDate(e),n=l.getMonth(e)===c,u=Object(s.createElement)(Lt,{disabled:t,current:l.isSameDay(e,o),hidden:!n,selected:l.isSameDay(i,e)},l.getDayText(e));return r&&(u=r(e,i,n,u)),Object(s.createElement)(qt,{value:e,key:e.toString(),disabled:t,dayInCurrentMonth:n,onSelect:a.handleDaySelect},u)}))},a}return Object(It.a)(t,e),Object(Pt.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.date,a=e.minDate,n=e.maxDate,r=e.utils,l=e.disablePast,o=e.disableFuture;if(this.shouldDisableDate(t)){var i=function(e){var t=e.date,a=e.utils,n=e.minDate,r=e.maxDate,l=e.disableFuture,o=e.disablePast,i=e.shouldDisableDate,c=a.startOfDay(a.date());o&&a.isBefore(n,c)&&(n=c),l&&a.isAfter(r,c)&&(r=c);var s=t,u=t;for(a.isBefore(t,n)&&(s=a.date(n),u=null),a.isAfter(t,r)&&(u&&(u=a.date(r)),s=null);s||u;){if(s&&a.isAfter(s,r)&&(s=null),u&&a.isBefore(u,n)&&(u=null),s){if(!i(s))return s;s=a.addDays(s,1)}if(u){if(!i(u))return u;u=a.addDays(u,-1)}}return a.date()}({date:t,utils:r,minDate:r.date(a),maxDate:r.date(n),disablePast:Boolean(l),disableFuture:Boolean(o),shouldDisableDate:this.shouldDisableDate});this.handleDaySelect(i,!1)}}},{key:"render",value:function(){var e=this.state,t=e.currentMonth,a=e.slideDirection,n=this.props,r=n.classes,l=n.allowKeyboardControl,o=n.leftArrowButtonProps,i=n.leftArrowIcon,c=n.rightArrowButtonProps,u=n.rightArrowIcon,d=n.loadingIndicator,m=d||Object(s.createElement)($t.a,null);return Object(s.createElement)(s.Fragment,null,l&&"static"!==this.context&&Object(s.createElement)(Gt,{onKeyDown:this.handleKeyDown}),Object(s.createElement)(Jt,{currentMonth:t,slideDirection:a,onMonthChange:this.handleChangeMonth,leftArrowIcon:i,leftArrowButtonProps:o,rightArrowIcon:u,rightArrowButtonProps:c,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),Object(s.createElement)(Ut,{slideDirection:a,transKey:t.toString(),className:r.transitionContainer},Object(s.createElement)(s.Fragment,null,this.state.loadingQueue>0&&Object(s.createElement)("div",{className:r.progressContainer},m)||Object(s.createElement)("div",null,this.renderWeeks()))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.utils,n=e.date;if(!a.isEqual(n,t.lastDate)){var r=a.getMonth(n),l=t.lastDate||n,o=a.getMonth(l);return{lastDate:n,currentMonth:e.utils.startOfMonth(n),slideDirection:r===o?t.slideDirection:a.isAfterDay(n,l)?"left":"right"}}return null}}]),t}(s.Component);Qt.contextType=vt,Qt.defaultProps={minDate:new Date("1900-01-01"),maxDate:new Date("2100-01-01"),disablePast:!1,disableFuture:!1,allowKeyboardControl:!0};var Zt,Xt,ea,ta=Object(Y.a)((function(e){return{transitionContainer:{minHeight:216,marginTop:e.spacing(1.5)},progressContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},week:{display:"flex",justifyContent:"center"}}}),{name:"MuiPickersCalendar",withTheme:!0})(((Xt=function(e){var t=Object(et.b)();return Object(s.createElement)(Zt,Object(q.a)({utils:t},e))}).displayName="WithUtils(".concat((Zt=Qt).displayName||Zt.name,")"),Xt));!function(e){e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds"}(ea||(ea={}));var aa=ea,na=function(e){function t(){var e,a;Object(St.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(Mt.a)(this,(e=Object(Tt.a)(t)).call.apply(e,[this].concat(r)))).state={toAnimateTransform:!1,previousType:void 0},a.getAngleStyle=function(){var e=a.props,t=e.value,n=e.isInner,r=e.type,l=360/(r===aa.HOURS?12:60)*t;return r===aa.HOURS&&t>12&&(l-=360),{height:n?"26%":"40%",transform:"rotateZ(".concat(l,"deg)")}},a}return Object(It.a)(t,e),Object(Pt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.hasSelected;return Object(s.createElement)("div",{style:this.getAngleStyle(),className:Object(U.a)(t.pointer,this.state.toAnimateTransform&&t.animateTransform)},Object(s.createElement)("div",{className:Object(U.a)(t.thumb,a&&t.noPoint)}))}}]),t}(s.Component);na.getDerivedStateFromProps=function(e,t){return e.type!==t.previousType?{toAnimateTransform:!0,previousType:e.type}:{toAnimateTransform:!1,previousType:e.type}};var ra=Object(Y.a)((function(e){return nt({pointer:{width:2,backgroundColor:e.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:e.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:e.palette.primary.contrastText,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid ".concat(e.palette.primary.main),boxSizing:"content-box"},noPoint:{backgroundColor:e.palette.primary.main}})}),{name:"MuiPickersClockPointer"})(na),la={x:130,y:130},oa=la.x-la.x,ia=0-la.y,ca=function(e,t,a){var n=t-la.x,r=a-la.y,l=Math.atan2(oa,ia)-Math.atan2(n,r),o=57.29577951308232*l;o=Math.round(o/e)*e,o%=360;var i=Math.floor(o/e)||0,c=Math.pow(n,2)+Math.pow(r,2);return{value:i,distance:Math.sqrt(c)}},sa=function(e,t,a){var n=ca(30,e,t),r=n.value,l=n.distance;return r=r||12,a?r%=12:l<90&&(r+=12,r%=24),r},ua=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=6*a,r=ca(n,e,t),l=r.value;return l=l*a%60},da=function(e,t){return t.getHours(e)>=12?"pm":"am"},ma=function(e,t,a,n){if(a&&(n.getHours(e)>=12?"pm":"am")!==t){var r="am"===t?n.getHours(e)-12:n.getHours(e)+12;return n.setHours(e,r)}return e},pa=function(e){function t(){var e,a;Object(St.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(Mt.a)(this,(e=Object(Tt.a)(t)).call.apply(e,[this].concat(r)))).isMoving=!1,a.handleTouchMove=function(e){a.isMoving=!0,a.setTime(e)},a.handleTouchEnd=function(e){a.isMoving&&(a.setTime(e,!0),a.isMoving=!1)},a.handleMove=function(e){e.preventDefault(),e.stopPropagation(),(void 0===e.buttons?1===e.nativeEvent.which:1===e.buttons)&&a.setTime(e.nativeEvent,!1)},a.handleMouseUp=function(e){a.isMoving&&(a.isMoving=!1),a.setTime(e.nativeEvent,!0)},a.hasSelected=function(){var e=a.props,t=e.type,n=e.value;return t===aa.HOURS||n%5==0},a}return Object(It.a)(t,e),Object(Pt.a)(t,[{key:"setTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.offsetX,n=e.offsetY;if(void 0===a){var r=e.target.getBoundingClientRect();a=e.changedTouches[0].clientX-r.left,n=e.changedTouches[0].clientY-r.top}var l=this.props.type===aa.SECONDS||this.props.type===aa.MINUTES?ua(a,n,this.props.minutesStep):sa(a,n,Boolean(this.props.ampm));this.props.onChange(l,t)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.value,n=e.children,r=e.type,l=!e.ampm&&r===aa.HOURS&&(a<1||a>12);return Object(s.createElement)("div",{className:t.container},Object(s.createElement)("div",{className:t.clock},Object(s.createElement)("div",{role:"menu",tabIndex:-1,className:t.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),Object(s.createElement)("div",{className:t.pin}),Object(s.createElement)(ra,{type:r,value:a,isInner:l,hasSelected:this.hasSelected()}),n))}}]),t}(s.Component);pa.defaultProps={ampm:!1,minutesStep:1};var ba=Object(Y.a)((function(e){return nt({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:"".concat(e.spacing(2),"px 0 ").concat(e.spacing(1),"px")},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none"},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})}),{name:"MuiPickersClock"})(pa),fa={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},ha=Object(tt.a)((function(e){var t=e.spacing(4);return{clockNumber:{width:t,height:32,userSelect:"none",position:"absolute",left:"calc((100% - ".concat("number"==typeof t?"".concat(t,"px"):t,") / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"light"===e.palette.type?e.palette.text.primary:e.palette.text.hint},clockNumberSelected:{color:e.palette.primary.contrastText}}}),{name:"MuiPickersClockNumber"}),ga=function(e){var t=e.selected,a=e.label,n=e.index,r=e.isInner,l=ha(),o=Object(U.a)(l.clockNumber,t&&l.clockNumberSelected),i=Object(s.useMemo)((function(){var e=fa[n];return{transform:"translate(".concat(e[0],"px, ").concat(e[1],"px")}}),[n]);return Object(s.createElement)(C.a,{component:"span",className:o,variant:r?"body2":"body1",style:i,children:a})},va=function(e){for(var t=e.ampm,a=e.utils,n=e.date,r=a.getHours(n),l=[],o=t?12:23,i=function(e){return t?12===e?12===r||0===r:r===e||r-12===e:r===e},c=t?1:0;c<=o;c+=1){var u=c.toString();0===c&&(u="00");var d={index:c,label:a.formatNumber(u),selected:i(c),isInner:!t&&(0===c||c>12)};l.push(Object(s.createElement)(ga,Object(q.a)({key:c},d)))}return l},ya=function(e){var t=e.value,a=e.utils.formatNumber;return[Object(s.createElement)(ga,{label:a("00"),selected:0===t,index:12,key:12}),Object(s.createElement)(ga,{label:a("05"),selected:5===t,index:1,key:1}),Object(s.createElement)(ga,{label:a("10"),selected:10===t,index:2,key:2}),Object(s.createElement)(ga,{label:a("15"),selected:15===t,index:3,key:3}),Object(s.createElement)(ga,{label:a("20"),selected:20===t,index:4,key:4}),Object(s.createElement)(ga,{label:a("25"),selected:25===t,index:5,key:5}),Object(s.createElement)(ga,{label:a("30"),selected:30===t,index:6,key:6}),Object(s.createElement)(ga,{label:a("35"),selected:35===t,index:7,key:7}),Object(s.createElement)(ga,{label:a("40"),selected:40===t,index:8,key:8}),Object(s.createElement)(ga,{label:a("45"),selected:45===t,index:9,key:9}),Object(s.createElement)(ga,{label:a("50"),selected:50===t,index:10,key:10}),Object(s.createElement)(ga,{label:a("55"),selected:55===t,index:11,key:11})]},Ea=function(e){var t=e.type,a=e.onHourChange,n=e.onMinutesChange,r=e.onSecondsChange,l=e.ampm,o=e.date,i=e.minutesStep,c=Object(et.b)(),u=Object(s.useMemo)((function(){switch(t){case aa.HOURS:return{value:c.getHours(o),children:va({date:o,utils:c,ampm:Boolean(l)}),onChange:function(e,t){var n=da(o,c),r=ma(c.setHours(o,e),n,Boolean(l),c);a(r,t)}};case aa.MINUTES:var e=c.getMinutes(o);return{value:e,children:ya({value:e,utils:c}),onChange:function(e,t){var a=c.setMinutes(o,e);n(a,t)}};case aa.SECONDS:var i=c.getSeconds(o);return{value:i,children:ya({value:i,utils:c}),onChange:function(e,t){var a=c.setSeconds(o,e);r(a,t)}};default:throw new Error("You must provide the type for TimePickerView")}}),[l,o,a,n,r,t,c]);return Object(s.createElement)(ba,Object(q.a)({type:t,ampm:l,minutesStep:i},u))};Ea.displayName="TimePickerView",Ea.defaultProps={ampm:!0,minutesStep:1};Object(s.memo)(Ea);function Oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}Object(v.oneOfType)([v.object,v.string,v.number,Object(v.instanceOf)(Date)]),Object(v.oneOf)(["year","month","day"]);var ja={ampm:!0,invalidDateMessage:"Invalid Time Format"},wa={minDate:new Date("1900-01-01"),maxDate:new Date("2100-01-01"),invalidDateMessage:"Invalid Date Format",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",allowKeyboardControl:!0},Ca=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oa(a,!0).forEach((function(t){Object(Xe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ja,{},wa,{showTabs:!0});var xa=Object(tt.a)((function(e){return{root:{height:40,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},yearSelected:{margin:"10px 0",fontWeight:e.typography.fontWeightMedium},yearDisabled:{pointerEvents:"none",color:e.palette.text.hint}}}),{name:"MuiPickersYear"}),ka=function(e){var t=e.onSelect,a=e.forwardedRef,n=e.value,r=e.selected,l=e.disabled,o=e.children,i=Object(K.a)(e,["onSelect","forwardedRef","value","selected","disabled","children"]),c=xa(),u=Object(s.useCallback)((function(){return t(n)}),[t,n]);return Object(s.createElement)(C.a,Object(q.a)({role:"button",component:"div",tabIndex:l?-1:0,onClick:u,onKeyPress:u,color:r?"primary":void 0,variant:r?"h5":"subtitle1",children:o,ref:a,className:Object(U.a)(c.root,r&&c.yearSelected,l&&c.yearDisabled)},i))};ka.displayName="Year";var Da=Object(s.forwardRef)((function(e,t){return Object(s.createElement)(ka,Object(q.a)({},e,{forwardedRef:t}))})),Sa=Object(tt.a)({container:{height:300,overflowY:"auto"}},{name:"MuiPickersYearSelection"}),Pa=function(e){var t=e.date,a=e.onChange,n=e.onYearChange,r=e.minDate,l=e.maxDate,o=e.disablePast,i=e.disableFuture,c=e.animateYearScrolling,u=Object(et.b)(),d=Sa(),m=Object(s.useContext)(vt),p=Object(s.useRef)(null);Object(s.useEffect)((function(){if(p.current&&p.current.scrollIntoView)try{p.current.scrollIntoView({block:"static"===m?"nearest":"center",behavior:c?"smooth":"auto"})}catch(e){p.current.scrollIntoView()}}),[]);var b=u.getYear(t),f=Object(s.useCallback)((function(e){var r=u.setYear(t,e);n&&n(r),a(r,!0)}),[t,a,n,u]);return Object(s.createElement)("div",{className:d.container},u.getYearRange(r,l).map((function(e){var t=u.getYear(e),a=t===b;return Object(s.createElement)(Da,{key:u.getYearText(e),selected:a,value:t,onSelect:f,ref:a?p:void 0,disabled:Boolean(o&&u.isBeforeYear(e,u.date())||i&&u.isAfterYear(e,u.date()))},u.getYearText(e))})))},Ma=Object(tt.a)((function(e){return{root:{flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none",height:75,transition:e.transitions.create("font-size",{duration:"100ms"}),"&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},monthSelected:{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium},monthDisabled:{pointerEvents:"none",color:e.palette.text.hint}}}),{name:"MuiPickersMonth"}),Ta=function(e){var t=e.selected,a=e.onSelect,n=e.disabled,r=e.value,l=e.children,o=Object(K.a)(e,["selected","onSelect","disabled","value","children"]),i=Ma(),c=Object(s.useCallback)((function(){a(r)}),[a,r]);return Object(s.createElement)(C.a,Object(q.a)({role:"button",component:"div",className:Object(U.a)(i.root,t&&i.monthSelected,n&&i.monthDisabled),tabIndex:n?-1:0,onClick:c,onKeyPress:c,color:t?"primary":void 0,variant:t?"h5":"subtitle1",children:l},o))};Ta.displayName="Month";var Ia=Object(tt.a)({container:{width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch"}},{name:"MuiPickersMonthSelection"}),Na=function(e){var t=e.disablePast,a=e.disableFuture,n=e.minDate,r=e.maxDate,l=e.date,o=e.onMonthChange,i=e.onChange,c=Object(et.b)(),u=Ia(),d=c.getMonth(l),m=function(e){var l=c.date(),o=c.date(n),i=c.date(r),s=c.startOfMonth(t&&c.isAfter(l,o)?l:o),u=c.startOfMonth(a&&c.isBefore(l,i)?l:i),d=c.isBefore(e,s),m=c.isAfter(e,u);return d||m},p=Object(s.useCallback)((function(e){var t=c.setMonth(l,e);i(t,!0),o&&o(t)}),[l,i,o,c]);return Object(s.createElement)("div",{className:u.container},c.getMonthArray(l).map((function(e){var t=c.getMonth(e),a=c.format(e,"MMM");return Object(s.createElement)(Ta,{key:a,value:t,selected:t===d,onSelect:p,disabled:m(e)},a)})))},Aa=function(){return"undefined"==typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"};function La(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Fa={year:Pa,month:Na,date:ta,hours:Ea,minutes:Ea,seconds:Ea},Ra=Object(tt.a)({container:{display:"flex",flexDirection:"column"},containerLandscape:{flexDirection:"row"},pickerView:{overflowX:"hidden",minHeight:305,minWidth:310,maxWidth:325,display:"flex",flexDirection:"column",justifyContent:"center"},pickerViewLandscape:{padding:"0 8px"}},{name:"MuiPickersBasePicker"}),Wa=function(e){var t=e.date,a=e.views,n=e.disableToolbar,r=e.onChange,l=e.openTo,o=e.minDate,i=e.maxDate,c=e.ToolbarComponent,u=e.orientation,d=Object(K.a)(e,["date","views","disableToolbar","onChange","openTo","minDate","maxDate","ToolbarComponent","orientation"]),m=Object(et.b)(),p=Ra(),b=function(e){var t=Object(s.useState)(Aa()),a=Object(kt.a)(t,2),n=a[0],r=a[1],l=Object(s.useCallback)((function(){return r(Aa())}),[]);return pt((function(){return window.addEventListener("orientationchange",l),function(){return window.removeEventListener("orientationchange",l)}}),[l]),"landscape"===(e||n)}(u),f=function(e,t,a){var n=Object(s.useState)(t&&it(e,t)?t:e[0]),r=Object(kt.a)(n,2),l=r[0],o=r[1];return{handleChangeAndOpenNext:Object(s.useCallback)((function(t,n){var r=e[e.indexOf(l)+1];if(n&&r)return a(t,!1),void o(r);a(t,Boolean(n))}),[a,l,e]),openView:l,setOpenView:o}}(a,l,r),h=f.openView,g=f.setOpenView,v=f.handleChangeAndOpenNext,y=Object(s.useMemo)((function(){return m.date(o)}),[o,m]),E=Object(s.useMemo)((function(){return m.date(i)}),[i,m]);return Object(s.createElement)("div",{className:Object(U.a)(p.container,b&&p.containerLandscape)},!n&&Object(s.createElement)(c,Object(q.a)({},d,{views:a,isLandscape:b,date:t,onChange:r,setOpenView:g,openView:h})),Object(s.createElement)("div",{className:Object(U.a)(p.pickerView,b&&p.pickerViewLandscape)},"year"===h&&Object(s.createElement)(Pa,Object(q.a)({},d,{date:t,onChange:v,minDate:y,maxDate:E})),"month"===h&&Object(s.createElement)(Na,Object(q.a)({},d,{date:t,onChange:v,minDate:y,maxDate:E})),"date"===h&&Object(s.createElement)(ta,Object(q.a)({},d,{date:t,onChange:v,minDate:y,maxDate:E})),("hours"===h||"minutes"===h||"seconds"===h)&&Object(s.createElement)(Ea,Object(q.a)({},d,{date:t,type:h,onHourChange:v,onMinutesChange:v,onSecondsChange:v}))))};Wa.defaultProps=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?La(a,!0).forEach((function(t){Object(Xe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):La(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},wa,{views:Object.keys(Fa)});var za=Object(tt.a)((function(e){var t="light"===e.palette.type?e.palette.primary.contrastText:e.palette.getContrastText(e.palette.background.default);return{toolbarTxt:{color:Object(J.d)(t,.54)},toolbarBtnSelected:{color:t}}}),{name:"MuiPickersToolbarText"}),_a=function(e){var t=e.selected,a=e.label,n=e.className,r=void 0===n?null:n,l=Object(K.a)(e,["selected","label","className"]),o=za();return Object(s.createElement)(C.a,Object(q.a)({children:a,className:Object(U.a)(o.toolbarTxt,r,t&&o.toolbarBtnSelected)},l))},Ba=function(e){var t=e.classes,a=e.className,n=void 0===a?null:a,r=e.label,l=e.selected,o=e.variant,i=e.align,c=e.typographyClassName,u=Object(K.a)(e,["classes","className","label","selected","variant","align","typographyClassName"]);return Object(s.createElement)(w.a,Object(q.a)({variant:"text",className:Object(U.a)(t.toolbarBtn,n)},u),Object(s.createElement)(_a,{align:i,className:c,variant:o,label:r,selected:l}))};Ba.defaultProps={className:""};var Va=nt({toolbarBtn:{padding:0,minWidth:"16px",textTransform:"none"}}),Ha=Object(Y.a)(Va,{name:"MuiPickersToolbarButton"})(Ba),$a=Object(tt.a)((function(e){return{toolbar:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:100,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default},toolbarLandscape:{height:"auto",maxWidth:150,padding:8,justifyContent:"flex-start"}}}),{name:"MuiPickersToolbar"}),qa=function(e){var t=e.children,a=e.isLandscape,n=e.className,r=void 0===n?null:n,l=Object(K.a)(e,["children","isLandscape","className"]),o=$a();return Object(s.createElement)(lt,Object(q.a)({className:Object(U.a)(o.toolbar,r,a&&o.toolbarLandscape)},l),t)};function Ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Ua=function(e){var t=e.inputValue,a=e.inputVariant,n=e.validationError,r=e.InputProps,l=e.openPicker,o=e.TextFieldComponent,i=void 0===o?P.a:o,c=Object(K.a)(e,["inputValue","inputVariant","validationError","InputProps","openPicker","TextFieldComponent"]),u=Object(s.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ka(a,!0).forEach((function(t){Object(Xe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ka(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},r,{readOnly:!0})}),[r]);return Object(s.createElement)(i,Object(q.a)({error:Boolean(n),helperText:n},c,{onClick:l,value:t,variant:a,InputProps:u,onKeyDown:function(e){32===e.keyCode&&(e.stopPropagation(),l())}}))};Ua.displayName="PureDateInput";var Ya=function(e,t,a,n,r){var l=r.invalidLabel,o=r.emptyLabel,i=r.labelFunc,c=a.date(e);return i?i(n?null:c,l):n?o||"":a.isValid(c)?a.format(c,t):l},Ja=function(e,t,a){return t?a:e.endOfDay(a)},Ga=function(e,t,a){return t?a:e.startOfDay(a)};function Qa(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;return e||(t?a["12h"]:a["24h"])}function Za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Za(a,!0).forEach((function(t){Object(Xe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Za(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var en=function(e){var t=e.inputValue,a=e.inputVariant,n=e.validationError,r=e.KeyboardButtonProps,l=e.InputAdornmentProps,o=e.openPicker,i=e.onChange,c=e.InputProps,u=e.mask,d=e.maskChar,m=void 0===d?"_":d,p=e.refuse,b=void 0===p?/[^\d]+/gi:p,f=e.format,h=e.keyboardIcon,g=e.disabled,v=e.rifmFormatter,y=e.TextFieldComponent,E=void 0===y?P.a:y,O=Object(K.a)(e,["inputValue","inputVariant","validationError","KeyboardButtonProps","InputAdornmentProps","openPicker","onChange","InputProps","mask","maskChar","refuse","format","keyboardIcon","disabled","rifmFormatter","TextFieldComponent"]),j=u||function(e,t){return e.replace(/[a-z]/gi,t)}(f,m),w=Object(s.useMemo)((function(){return function(e,t,a){return function(n){var r="",l=n.replace(a,"");if(""===l)return l;for(var o=0,i=0;o<e.length;){var c=e[o];if(c===t&&i<l.length)r+=l[i],i+=1;else r+=c;o+=1}return r}}(j,m,b)}),[j,m,b]),C=l&&l.position?l.position:"end";return Object(s.createElement)(Ct,{key:j,value:t,onChange:function(e){i(""===e||e===j?null:e)},refuse:b,format:v||w},(function(e){var t=e.onChange,i=e.value;return Object(s.createElement)(E,Object(q.a)({disabled:g,error:Boolean(n),helperText:n},O,{value:i,onChange:t,variant:a,InputProps:Xa({},c,Object(Xe.a)({},"".concat(C,"Adornment"),Object(s.createElement)(jt,Object(q.a)({position:C},l),Object(s.createElement)(De.a,Object(q.a)({disabled:g},r,{onClick:o}),h))))}))}))};en.defaultProps={keyboardIcon:Object(s.createElement)((function(e){return u.a.createElement(xt.a,e,u.a.createElement("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))}),null)};function tn(e,t){return{date:function(e,t){var a=t.value,n=t.initialFocusedDate,r=Object(s.useRef)(e.date()),l=e.date(a||n||r.current);return l&&e.isValid(l)?l:r.current}(Object(et.b)(),e),format:e.format||t.getDefaultFormat()}}function an(e,t){var a=e.autoOk,n=e.disabled,r=e.readOnly,l=e.onAccept,o=e.onChange,i=e.onError,c=e.value,u=e.variant,d=Object(et.b)(),m=function(e){var t=e.open,a=e.onOpen,n=e.onClose,r=null;if(null==t){var l=Object(s.useState)(!1),o=Object(kt.a)(l,2);t=o[0],r=o[1]}return{isOpen:t,setIsOpen:Object(s.useCallback)((function(e){return r&&r(e),e?a&&a():n&&n()}),[a,n,r])}}(e),p=m.isOpen,b=m.setIsOpen,f=tn(e,t),h=f.date,g=f.format,v=Object(s.useState)(h),y=Object(kt.a)(v,2),E=y[0],O=y[1];Object(s.useEffect)((function(){p||d.isEqual(E,h)||O(h)}),[h,p,E,d]);var j=Object(s.useCallback)((function(e){o(e),l&&l(e),b(!1)}),[l,o,b]),w=Object(s.useMemo)((function(){return{format:g,open:p,onClear:function(){return j(null)},onAccept:function(){return j(E)},onSetToday:function(){return O(d.date())},onDismiss:function(){b(!1)}}}),[j,g,p,E,b,d]),C=Object(s.useMemo)((function(){return{date:E,onChange:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];O(e),t&&a?j(e):"inline"!==u&&"static"!==u||(o(e),l&&l(e))}}}),[j,a,l,o,E,u]),x=function(e,t,a){var n=a.maxDate,r=a.minDate,l=a.disablePast,o=a.disableFuture,i=a.maxDateMessage,c=a.minDateMessage,s=a.invalidDateMessage,u=a.strictCompareDates,d=t.date(e);return null===e?"":t.isValid(e)?n&&t.isAfter(d,Ja(t,!!u,t.date(n)))||o&&t.isAfter(d,Ja(t,!!u,t.date()))?i:r&&t.isBefore(d,Ga(t,!!u,t.date(r)))||l&&t.isBefore(d,Ga(t,!!u,t.date()))?c:"":s}(c,d,e);Object(s.useEffect)((function(){i&&i(x,c)}),[i,x,c]);var k=Ya(h,g,d,null===c,e),D={pickerProps:C,inputProps:Object(s.useMemo)((function(){return{inputValue:k,validationError:x,openPicker:function(){return!r&&!n&&b(!0)}}}),[n,k,r,b,x]),wrapperProps:w};return Object(s.useDebugValue)(D),D}function nn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function rn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nn(a,!0).forEach((function(t){Object(Xe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ln(e,t){var a=e.format,n=void 0===a?t.getDefaultFormat():a,r=e.inputValue,l=e.onChange,o=e.value,i=Object(et.b)(),c=Ya(o,n,i,null===o,e),u=Object(s.useState)(c),d=Object(kt.a)(u,2),m=d[0],p=d[1],b=r?function(e,t,a){try{return t.parse(e,a)}catch(e){return null}}(r,i,n):o;Object(s.useEffect)((function(){(null===o||i.isValid(o))&&p(c)}),[c,p,i,o]);var f=an(rn({},e,{value:b,onChange:Object(s.useCallback)((function(e){l(e,null===e?null:i.format(e,n))}),[n,l,i])}),t),h=f.inputProps,g=f.wrapperProps,v=f.pickerProps;return{inputProps:Object(s.useMemo)((function(){return rn({},h,{format:g.format,inputValue:r||m,onChange:function(e){p(e||"");var t=null===e?null:i.parse(e,g.format);l(t,e)}})}),[h,m,r,l,i,g.format]),wrapperProps:g,pickerProps:v}}function on(e){var t=e.Input,a=e.useState,n=e.useOptions,r=e.getCustomProps,l=e.DefaultToolbarComponent;return function(e){var o=e.allowKeyboardControl,i=e.ampm,c=e.animateYearScrolling,u=(e.autoOk,e.dateRangeIcon),d=e.disableFuture,m=e.disablePast,p=e.disableToolbar,b=(e.emptyLabel,e.format,e.forwardedRef,e.hideTabs),f=(e.initialFocusedDate,e.invalidDateMessage,e.invalidLabel,e.labelFunc,e.leftArrowButtonProps),h=e.leftArrowIcon,g=e.loadingIndicator,v=e.maxDate,y=(e.maxDateMessage,e.minDate),E=(e.minDateMessage,e.minutesStep),O=(e.onAccept,e.onChange,e.onClose,e.onMonthChange),j=(e.onOpen,e.onYearChange),w=e.openTo,C=e.orientation,x=e.renderDay,k=e.rightArrowButtonProps,D=e.rightArrowIcon,S=e.shouldDisableDate,P=e.strictCompareDates,M=e.timeIcon,T=e.ToolbarComponent,I=void 0===T?l:T,N=(e.value,e.variant),A=e.views,L=Object(K.a)(e,["allowKeyboardControl","ampm","animateYearScrolling","autoOk","dateRangeIcon","disableFuture","disablePast","disableToolbar","emptyLabel","format","forwardedRef","hideTabs","initialFocusedDate","invalidDateMessage","invalidLabel","labelFunc","leftArrowButtonProps","leftArrowIcon","loadingIndicator","maxDate","maxDateMessage","minDate","minDateMessage","minutesStep","onAccept","onChange","onClose","onMonthChange","onOpen","onYearChange","openTo","orientation","renderDay","rightArrowButtonProps","rightArrowIcon","shouldDisableDate","strictCompareDates","timeIcon","ToolbarComponent","value","variant","views"]),F=r?r(e):{},R=n(e),W=a(e,R),z=W.pickerProps,_=W.inputProps,B=W.wrapperProps;return Object(s.createElement)(yt,Object(q.a)({variant:N,InputComponent:t,DateInputProps:_},F,B,L),Object(s.createElement)(Wa,Object(q.a)({},z,{allowKeyboardControl:o,ampm:i,animateYearScrolling:c,dateRangeIcon:u,disableFuture:d,disablePast:m,disableToolbar:p,hideTabs:b,leftArrowButtonProps:f,leftArrowIcon:h,loadingIndicator:g,maxDate:v,minDate:y,minutesStep:E,onMonthChange:O,onYearChange:j,openTo:w,orientation:C,renderDay:x,rightArrowButtonProps:k,rightArrowIcon:D,shouldDisableDate:S,strictCompareDates:P,timeIcon:M,ToolbarComponent:I,views:A})))}}var cn=Object(tt.a)({toolbarLandscape:{flexWrap:"wrap"},toolbarAmpmLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelAmpmLandscape:{marginTop:"auto"},hourMinuteLabelReverse:{flexDirection:"row-reverse"},ampmSelection:{marginLeft:20,marginRight:-20,display:"flex",flexDirection:"column"},ampmLandscape:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18}},{name:"MuiPickersTimePickerToolbar"});function sn(e,t,a){var n=Object(et.b)();return{meridiemMode:da(e,n),handleMeridiemChange:Object(s.useCallback)((function(r){var l=ma(e,r,Boolean(t),n);a(l,!1)}),[t,e,a,n])}}var un=function(e){var t=e.date,a=e.views,n=e.ampm,r=e.openView,l=e.onChange,o=e.isLandscape,i=e.setOpenView,c=Object(et.b)(),u=Object(Dt.a)(),d=cn(),m=sn(t,n,l),p=m.meridiemMode,b=m.handleMeridiemChange,f=o?"h3":"h2";return Object(s.createElement)(qa,{isLandscape:o,className:Object(U.a)(o?d.toolbarLandscape:n&&d.toolbarAmpmLeftPadding)},Object(s.createElement)("div",{className:Object(U.a)(d.hourMinuteLabel,n&&o&&d.hourMinuteLabelAmpmLandscape,{rtl:d.hourMinuteLabelReverse}[u.direction])},it(a,"hours")&&Object(s.createElement)(Ha,{variant:f,onClick:function(){return i(aa.HOURS)},selected:r===aa.HOURS,label:c.getHourText(t,Boolean(n))}),it(a,["hours","minutes"])&&Object(s.createElement)(_a,{label:":",variant:f,selected:!1,className:d.separator}),it(a,"minutes")&&Object(s.createElement)(Ha,{variant:f,onClick:function(){return i(aa.MINUTES)},selected:r===aa.MINUTES,label:c.getMinuteText(t)}),it(a,["minutes","seconds"])&&Object(s.createElement)(_a,{variant:"h2",label:":",selected:!1,className:d.separator}),it(a,"seconds")&&Object(s.createElement)(Ha,{variant:"h2",onClick:function(){return i(aa.SECONDS)},selected:r===aa.SECONDS,label:c.getSecondText(t)})),n&&Object(s.createElement)("div",{className:Object(U.a)(d.ampmSelection,o&&d.ampmLandscape,it(a,"seconds")&&d.ampmSelectionWithSeconds)},Object(s.createElement)(Ha,{disableRipple:!0,variant:"subtitle1",selected:"am"===p,typographyClassName:d.ampmLabel,label:c.getMeridiemText("am"),onClick:function(){return b("am")}}),Object(s.createElement)(Ha,{disableRipple:!0,variant:"subtitle1",selected:"pm"===p,typographyClassName:d.ampmLabel,label:c.getMeridiemText("pm"),onClick:function(){return b("pm")}})))};function dn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var mn=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dn(a,!0).forEach((function(t){Object(Xe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ja,{openTo:"hours",views:["hours","minutes"]});function pn(e){var t=Object(et.b)();return{getDefaultFormat:function(){return Qa(e.format,e.ampm,{"12h":t.time12hFormat,"24h":t.time24hFormat})}}}var bn=on({useOptions:pn,Input:Ua,useState:an,DefaultToolbarComponent:un}),fn=on({useOptions:pn,Input:en,useState:ln,DefaultToolbarComponent:un,getCustomProps:function(e){return{refuse:e.ampm?/[^\dap]+/gi:/[^\d]+/gi}}});bn.defaultProps=mn,fn.defaultProps=mn;var hn=a(353),gn=a(361),vn=a(256),yn=function(e){return"date"===e||"year"===e?"date":"time"},En=Object(tt.a)((function(e){var t="light"===e.palette.type?e.palette.primary.main:e.palette.background.default;return{tabs:{color:e.palette.getContrastText(t),backgroundColor:t}}}),{name:"MuiPickerDTTabs"}),On=function(e){var t=e.view,a=e.onChange,n=e.dateRangeIcon,r=e.timeIcon,l=En(),o="light"===Object(Dt.a)().palette.type?"secondary":"primary";return Object(s.createElement)(vn.a,null,Object(s.createElement)(gn.a,{variant:"fullWidth",value:yn(t),onChange:function(e,n){n!==yn(t)&&a("date"===n?"date":"hours")},className:l.tabs,indicatorColor:o},Object(s.createElement)(hn.a,{value:"date",icon:Object(s.createElement)(s.Fragment,null,n)}),Object(s.createElement)(hn.a,{value:"time",icon:Object(s.createElement)(s.Fragment,null,r)})))};On.defaultProps={dateRangeIcon:Object(s.createElement)((function(e){return u.a.createElement(xt.a,e,u.a.createElement("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))}),null),timeIcon:Object(s.createElement)((function(e){return u.a.createElement(xt.a,e,u.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),u.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),u.a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"}))}),null)};var jn=Object(tt.a)((function(e){return{toolbar:{paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"}}}),{name:"MuiPickerDTToolbar"}),wn=function(e){var t=e.date,a=e.openView,n=e.setOpenView,r=e.ampm,l=e.hideTabs,o=e.dateRangeIcon,i=e.timeIcon,c=e.onChange,u=Object(et.b)(),d=jn(),m=!l&&"undefined"!=typeof window&&window.innerHeight>667,p=sn(t,r,c),b=p.meridiemMode,f=p.handleMeridiemChange,h="rtl"===Object(Dt.a)().direction;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(qa,{isLandscape:!1,className:d.toolbar},Object(s.createElement)(D.a,{container:!0,justify:"center",wrap:"nowrap"},Object(s.createElement)(D.a,{item:!0,container:!0,xs:5,justify:"flex-start",direction:"column"},Object(s.createElement)("div",null,Object(s.createElement)(Ha,{variant:"subtitle1",onClick:function(){return n("year")},selected:"year"===a,label:u.getYearText(t)})),Object(s.createElement)("div",null,Object(s.createElement)(Ha,{variant:"h4",onClick:function(){return n("date")},selected:"date"===a,label:u.getDateTimePickerHeaderText(t)}))),Object(s.createElement)(D.a,{item:!0,container:!0,xs:6,justify:"center",alignItems:"flex-end",direction:h?"row-reverse":"row"},Object(s.createElement)(Ha,{variant:"h3",onClick:function(){return n("hours")},selected:"hours"===a,label:u.getHourText(t,r)}),Object(s.createElement)(_a,{variant:"h3",label:":",className:d.separator}),Object(s.createElement)(Ha,{variant:"h3",onClick:function(){return n("minutes")},selected:"minutes"===a,label:u.getMinuteText(t)})),r&&Object(s.createElement)(D.a,{item:!0,container:!0,xs:1,direction:"column",justify:"flex-end"},Object(s.createElement)(Ha,{variant:"subtitle1",selected:"am"===b,label:u.getMeridiemText("am"),onClick:function(){return f("am")}}),Object(s.createElement)(Ha,{variant:"subtitle1",selected:"pm"===b,label:u.getMeridiemText("pm"),onClick:function(){return f("pm")}})))),m&&Object(s.createElement)(On,{dateRangeIcon:o,timeIcon:i,view:a,onChange:n}))};function Cn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var xn=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cn(a,!0).forEach((function(t){Object(Xe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Ca,{wider:!0,orientation:"portrait",openTo:"date",views:["year","date","hours","minutes"]});function kn(e){var t=Object(et.b)();if("portrait"!==e.orientation)throw new Error("We are not supporting custom orientation for DateTimePicker yet :(");return{getDefaultFormat:function(){return Qa(e.format,e.ampm,{"12h":t.dateTime12hFormat,"24h":t.dateTime24hFormat})}}}var Dn=on({useOptions:kn,Input:Ua,useState:an,DefaultToolbarComponent:wn}),Sn=on({useOptions:kn,Input:en,useState:ln,DefaultToolbarComponent:wn,getCustomProps:function(e){return{refuse:e.ampm?/[^\dap]+/gi:/[^\d]+/gi}}});Dn.defaultProps=xn,Sn.defaultProps=xn;var Pn=["children","onClick","data","onSave","form"];function Mn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Tn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var In=u.a.forwardRef((function(e,t){var a=e.children,n=e.onClick,r=e.data,l=e.onSave,i=e.form.type,c=Ne()(e,Pn),s=Object(b.d)().state.viewMode,d=u.a.useState(!1),m=o()(d,2),p=m[0],f=m[1],h=Tn({calculation:null,condition:null,confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,refKey:null,label:null,minValue:null,maxValue:null,values:null,optional:!1,minDate:null,maxDate:null,minTime:null,maxTime:null,minDateKey:"",maxDateKey:"",minTimeKey:"",maxTimeKey:""},r),g=u.a.useState(h),v=o()(g,2),y=v[0],E=v[1],O=function(e){return E((function(t){return Tn(Tn({},t),"function"==typeof e?e(t):e)}))};u.a.useEffect((function(){O(h)}),[p]);var j=function(e){return e?u.a.createElement(u.a.Fragment,null,u.a.createElement(V,null,"Default"),u.a.createElement(F.a,{name:"type",value:y.defaultValue,onChange:function(e){return O({defaultValue:e.target.value})}},u.a.createElement(S.a,{value:"",control:u.a.createElement(R.a,null),label:"Empty"}),e.map((function(e){return u.a.createElement(S.a,{key:e.name,value:e.name,control:u.a.createElement(R.a,null),label:e.label})}))),u.a.createElement("br",null)):null},M=function(){var e=[];if("dropdown"===y.type){var t=(y.values||"").split("\n").map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim()})).map((function(e){return{value:(e=e.split(","))[0],label:e[1]}})),a=t.map((function(e){return e.value})),n=t.map((function(e){return e.label})),r=t.filter((function(e){return!e.value||!e.label})),l=a.filter((function(e,t){return a.indexOf(e)!==t}));(n.filter((function(e,t){return n.indexOf(e)!==t})).length||l.length)&&e.push("Dropdown values contain duplicate data"),r.length&&e.push("Incorrect dropdown values format")}return e};return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",_()({},c,{ref:t,onClick:function(e){f(!0),n&&n(e)}}),a),u.a.createElement(Ae.a,{open:p,maxWidth:"sm",fullWidth:!0,onClose:function(){return f(!1)}},u.a.createElement(Le.a,null,r?"Edit":"Add"," field"),u.a.createElement(Fe.a,null,u.a.createElement(x.a,{in:!y.type},u.a.createElement(V,null,"Screen type"),u.a.createElement(F.a,{name:"type",value:i,onChange:function(e){return O({type:e.target.value})}},W.a.map((function(e){return u.a.createElement(S.a,{key:e.name,value:e.name,control:u.a.createElement(R.a,null),label:e.label})})))),u.a.createElement(x.a,{in:!!y.type},u.a.createElement("div",null,u.a.createElement(V,null,"Flow control"),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:y.condition||"",label:"Conditional expression",onChange:function(e){return O({condition:e.target.value})}}),u.a.createElement(C.a,{variant:"caption",color:"textSecondary"},"Example: ",u.a.createElement("b",null,"($key = true and $key2 = false) or $key3 = 'HD'"))),u.a.createElement("br",null),u.a.createElement(V,null,"Properties"),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,required:!0,error:!/[a-zA-Z0-9]+/.test(y.key),value:y.key||"",label:"Key",onChange:function(e){return O({key:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:y.label||"",label:"Label",onChange:function(e){return O({label:e.target.value})}})),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:y.refKey||"",label:"Reference key",onChange:function(e){return O({refKey:e.target.value})}}),u.a.createElement(C.a,{variant:"caption",color:"textSecondary"},"Link this field to ",u.a.createElement("b",null,"another field with this key"))),u.a.createElement("br",null),u.a.createElement(D.a,{container:!0},u.a.createElement(D.a,{item:!0,xs:6,sm:6},u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!y.confidential,onChange:function(){return O({confidential:!y.confidential})},name:"confidential"}),label:"Confidential"}))),u.a.createElement(D.a,{item:!0,xs:6,sm:6},u.a.createElement("div",null,u.a.createElement(S.a,{control:u.a.createElement(X,{checked:!!y.optional,onChange:function(){return O({optional:!y.optional})},name:"optional"}),label:"Optional"})))),u.a.createElement("br",null),"text"===y.type&&u.a.createElement(u.a.Fragment,null,j([{label:"Generated ID",name:"uid"}])),"time"===y.type&&u.a.createElement(u.a.Fragment,null,u.a.createElement(D.a,{container:!0,spacing:1},u.a.createElement(D.a,{item:!0,xs:6,sm:6},u.a.createElement(bn,{ampm:!1,label:"Min time",fullWidth:!0,disabled:"time_now"===y.minTime,value:"time_now"===y.minTime?null:y.minTime,onChange:function(e){return O({minTime:e})}}),u.a.createElement(S.a,{label:"Current time",control:u.a.createElement(k.a,{size:"small",checked:"time_now"===y.minTime,onChange:function(e){return O({minTime:e.target.checked?"time_now":null})}})})),u.a.createElement(D.a,{item:!0,xs:6,sm:6},u.a.createElement(bn,{ampm:!1,label:"Max time",fullWidth:!0,disabled:"time_now"===y.maxTime,value:"time_now"===y.maxTime?null:y.maxTime,onChange:function(e){return O({maxTime:e})}}),u.a.createElement(S.a,{label:"Current time",control:u.a.createElement(k.a,{size:"small",checked:"time_now"===y.maxTime,onChange:function(e){return O({maxTime:e.target.checked?"time_now":null})}})}))),u.a.createElement("br",null),u.a.createElement("br",null)),("date"===y.type||"datetime"===y.type)&&u.a.createElement(u.a.Fragment,null,u.a.createElement(D.a,{container:!0,spacing:1},u.a.createElement(D.a,{item:!0,xs:6,sm:6},u.a.createElement(Dn,{ampm:!1,label:"Min date",fullWidth:!0,disabled:"date_now"===y.minDate,value:"date_now"===y.minDate?null:y.minDate,onChange:function(e){return O({minDate:e})}}),u.a.createElement(S.a,{label:"Current date",control:u.a.createElement(k.a,{size:"small",checked:"date_now"===y.minDate,onChange:function(e){return O({minDate:e.target.checked?"date_now":null})}})}),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:y.minDateKey||"",label:"Min Date Key (e.g. $DateOfBirth)",onChange:function(e){return O({minDateKey:e.target.value})}})),u.a.createElement("br",null)),u.a.createElement(D.a,{item:!0,xs:6,sm:6},u.a.createElement(Dn,{ampm:!1,label:"Max date",fullWidth:!0,disabled:"date_now"===y.maxDate,value:"date_now"===y.maxDate?null:y.maxDate,onChange:function(e){return O({maxDate:e})}}),u.a.createElement(S.a,{label:"Current date",control:u.a.createElement(k.a,{size:"small",checked:"date_now"===y.maxDate,onChange:function(e){return O({maxDate:e.target.checked?"date_now":null})}})}),u.a.createElement("div",null,u.a.createElement(P.a,{fullWidth:!0,value:y.maxDateKey||"",label:"Max Date Key (e.g. $DateOfBirth)",onChange:function(e){return O({maxDateKey:e.target.value})}})),u.a.createElement("br",null))),u.a.createElement("br",null),u.a.createElement("br",null),j([{label:"Current time",name:"date_now"},{label:"Today at noon",name:"date_noon"},{label:"Today at midnight",name:"date_midnight"}])),"dropdown"===y.type&&u.a.createElement(u.a.Fragment,null,u.a.createElement(P.a,{fullWidth:!0,multiline:!0,minRows:5,value:y.values||"",label:"Dropdown values",onChange:function(e){return O({values:e.target.value})}})),("period"===y.type||"number"===y.type)&&u.a.createElement(u.a.Fragment,null,u.a.createElement(P.a,{fullWidth:!0,value:y.calculation||"",label:"Reference expression",onChange:function(e){return O({calculation:e.target.value})}}),u.a.createElement(C.a,{variant:"caption",color:"textSecondary"},"Example: ",u.a.createElement("b",null,"$key")," or ",u.a.createElement("b",null,"SUM($key1,$key2...)")," or ",u.a.createElement("b",null,"DIVIDE($key1,$key2...)")," or ",u.a.createElement("b",null,"MULTIPLY($key1,$key2...)")," or ",u.a.createElement("b",null,"SUBTRACT($key1,$key2...)"))),"number"===y.type&&u.a.createElement(u.a.Fragment,null,u.a.createElement(D.a,{container:!0,spacing:1},u.a.createElement(D.a,{item:!0,xs:4,sm:4},u.a.createElement(P.a,{fullWidth:!0,error:!/#*/.test(y.format),value:y.format||"",label:"Format",onChange:function(e){return O({format:e.target.value})}})),u.a.createElement(D.a,{item:!0,xs:4,sm:4},u.a.createElement(P.a,{fullWidth:!0,error:!/-?[0-9]*(\.[0-9]+)?/.test(y.minValue),value:y.minValue||"",label:"Min value",onChange:function(e){return O({minValue:e.target.value})}})),u.a.createElement(D.a,{item:!0,xs:4,sm:4},u.a.createElement(P.a,{fullWidth:!0,error:!/-?[0-9]*(\.[0-9]+)?/.test(y.maxValue),value:y.maxValue||"",label:"Max value",onChange:function(e){return O({maxValue:e.target.value})}}))),u.a.createElement(C.a,{variant:"caption",color:"textSecondary"},"Format: Add as many ",u.a.createElement("b",null,"#")," as the number of decimal digits or leave empty"))),u.a.createElement("br",null),u.a.createElement(L,{value:y.prePopulate||[],onChange:function(e){return O({prePopulate:e})}}))),u.a.createElement(Re.a,null,u.a.createElement("div",{style:{flex:1}},M().map((function(e){return u.a.createElement(C.a,{key:e,variant:"caption",color:"error",component:"div"},e)}))),u.a.createElement(w.a,{onClick:function(){return f(!1)}},"Cancel"),u.a.createElement(w.a,{variant:"contained",color:"primary",disabled:!!M().length||"view"===s,onClick:function(){l(y),f(!1)}},"Save"))))}));In.propTypes={onClick:y.a.func,form:y.a.object.isRequired,children:y.a.node,data:y.a.object,onSave:y.a.func.isRequired};var Nn=In;function An(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ln(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?An(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):An(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Fn(e){var t=e.row,a=e.rowIndex,n=e.form,r=e.setMetadata,l=Object(b.d)().state.viewMode,i=u.a.useState(null),c=o()(i,2),s=c[0],d=c[1],m=function(){return d(null)};return u.a.createElement(u.a.Fragment,null,u.a.createElement(De.a,{onClick:function(e){return d(e.currentTarget)}},u.a.createElement($e.a,null)),u.a.createElement(qe.a,{anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:m},u.a.createElement(Ke.a,{onClick:m,component:Nn,form:n,data:t,onSave:function(e){return r({fields:n.metadata.fields.map((function(t,n){return a===n?Ln(Ln({},t),e):t}))})}},"view"===l?"View":"Edit"),"view"===l?null:u.a.createElement(Ke.a,{onClick:function(e){r({fields:n.metadata.fields.filter((function(e,t){return t!==a}))}),m()}},u.a.createElement(C.a,{color:"error"},"Delete"))))}Fn.propTypes={rowIndex:y.a.number,row:y.a.object,form:y.a.object,setMetadata:y.a.func.isRequired};var Rn=Fn;function Wn(e){var t=e.form,a=e.setMetadata;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ke.a,{selectable:!1,noDataMsg:"No fields",title:"Fields",data:t.metadata.fields,renderHeaderActions:function(){return u.a.createElement(Nn,{form:t,onSave:function(e){return a({fields:[].concat(N()(t.metadata.fields),[e])})}},u.a.createElement(De.a,null,u.a.createElement(Pe.a,null)))},renderRowAction:function(e,n){return u.a.createElement(Rn,{row:e,form:t,rowIndex:n,setMetadata:a})},displayFields:[{key:"type",label:"Type"},{key:"key",label:"Key"},{key:"label",label:"Label"}],onSortData:function(e){a({fields:e})}}))}Wn.propTypes={setMetadata:y.a.func.isRequired,form:y.a.object.isRequired};var zn=oe(Wn),_n={zw_edliz_summary_table:[{label:"Confirmed sepsis or chorioamnionitis in mother",type:"Major criteria",subType:"Antenatal",id:"MAJC1"},{label:"Confirmed or suspected sepsis in twin",type:"Major criteria",subType:"Antenatal",id:"MAJC2"},{label:"Seizures",type:"Major criteria",subType:"Antenatal",id:"MAJC3"},{label:"Severe Respiratory Distress in a term infant",type:"Major criteria",subType:"Antenatal",id:"MAJC4"},{label:"Signs of shock",type:"Major criteria",subType:"Natal",id:"MAJC5"},{label:"ROM >18h",type:"Minor criteria",subType:"Antenatal",id:"MINC1"},{label:"Spontaneous Preterm Birth",type:"Minor criteria",subType:"Antenatal",id:"MINC2"},{label:"GBS sepsis in previous baby or documented GBS carriage in this pregnancy (urine or vaginal swab)",type:"Minor criteria",subType:"Antenatal",id:"MINC3"},{label:"Born Before Arrival",type:"Minor criteria",subType:"Natal",id:"MINC4"},{label:"Meconium Stained Liquor",type:"Minor criteria",subType:"Natal",id:"MINC5"},{label:"Respiratory distress that is not obviously related to:\n1. environmental hypothermia \n2. delayed transition to extra-uterine life i.e. mild to moderate respiratory distress apparent soon after birth that is improving with time. ",type:"Minor criteria",subType:"Postnatal",id:"MINC6"},{label:"Hypoxia",type:"Minor criteria",subType:"Postnatal",id:"MINC7"},{label:"Apnoea",type:"Minor criteria",subType:"Postnatal",id:"MINC8"},{label:"Hypoglycaemia/Hyperglycaemia not otherwise explained",type:"Minor criteria",subType:"Postnatal",id:"MINC9"},{label:"Temperature instability not explained by environmental factors",type:"Minor criteria",subType:"Postnatal",id:"MINC10"},{label:"Acidosis not obviously related to HIE",type:"Minor criteria",subType:"Postnatal",id:"MINC11"},{label:"Unexplained bleeding or thrombocytopenia",type:"Minor criteria",subType:"Postnatal",id:"MINC12"},{label:"Mild encephalopathy/Altered responsiveness",type:"Minor criteria",subType:"Postnatal",id:"MINC13"},{label:"Altered tone not otherwise explained",type:"Minor criteria",subType:"Postnatal",id:"MINC14"},{label:"Feed intolerance/feeding difficulty",type:"Minor criteria",subType:"Postnatal",id:"MINC15"},{label:"Abnormal heart rate (<90 or >160)",type:"Minor criteria",subType:"Postnatal",id:"MINC16"},{label:"Jaundice in first 24h",type:"Minor criteria",subType:"Postnatal",id:"MINC17"}],mwi_edliz_summary_table:[{label:"Fever >38 in mother",type:"Antenatal risk factors",subType:"",id:"ARF1"},{label:"Rupture of membranes >18h",type:"Antenatal risk factors",subType:"",id:"ARF2"},{label:"Offensive Liquor",type:"Antenatal risk factors",subType:"",id:"ARF3"},{label:"Temperature <35.5 or >37.5",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS1"},{label:"Bulging Fontanelle",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS2"},{label:"Grunting ",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS3"},{label:"nasal flaring",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS4"},{label:"fast breathing",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS5"},{label:"chest indrawing",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS6"},{label:"Crepitations in the lungs",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS7"},{label:"Umbilical redness extending to the periumbilical skin or umbilicus draining pus",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS8"},{label:"reduced movement of limbs",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS9"},{label:"Many skin pustules/big boil (abscess)",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS10"},{label:"Drowsiness",type:"Signs/symptoms of meningitis",subType:"",id:"SM1"},{label:"Lethargy/unconscious",type:"Signs/symptoms of meningitis",subType:"",id:"SM2"},{label:"Persistent irritability",type:"Signs/symptoms of meningitis",subType:"",id:"SM3"},{label:"High pitched cry",type:"Signs/symptoms of meningitis",subType:"",id:"SM4"},{label:"Convulsions",type:"Signs/symptoms of meningitis",subType:"",id:"SM5"},{label:"Cold hands and feet",type:"Shock (Danger signs)",subType:"",id:"SDS1"},{label:"Capillary refill time > 3 seconds",type:"Shock (Danger signs)",subType:"",id:"SDS2"},{label:"Fast and weak pulse",type:"Shock (Danger signs)",subType:"",id:"SDS3"}]};function Bn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Vn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Hn(e){var t=e.form,a=e.setForm,n=e.screen,r=u.a.useState(n?t:Vn(Vn({},e.form),{},{metadata:Vn(Vn({},e.form.metadata),{},{items:_n[t.type],key:"EDLIZSummaryTableScore",label:"EDLIZ summary table score"})})),l=o()(r,2),i=l[0],c=l[1],s=Vn(Vn({},e),{},{form:i,setForm:function(e){c((function(t){return Vn(Vn({},t),"function"==typeof e?e(t):e)}))}});return u.a.useEffect((function(){a(i)}),[i]),u.a.createElement(u.a.Fragment,null,Object.keys(i.metadata.items.reduce((function(e,t){return Vn(Vn({},e),{},g()({},t.type,[].concat(N()(e[t.type]||[]),[t])))}),{})).map((function(e){return u.a.createElement(u.a.Fragment,{key:e},u.a.createElement(Ze,_()({},s,{editable:!1,title:e,filterItems:function(t){return t.type===e}})),u.a.createElement("br",null))})))}function $n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Kn(e){var t=e.screen,a=e.script,n=e.canAddDiagnosisScreen,l=Object(b.d)().state.viewMode,i=Object(d.g)(),s=Object(d.h)().scriptId,m=u.a.useState(qn({metadata:{items:[],fields:[]},scriptId:s},t)),p=o()(m,2),h=p[0],g=p[1],v=function(e){return g((function(t){return qn(qn({},t),"function"==typeof e?e(t):e)}))},y=u.a.useState(!1),I=o()(y,2),N=I[0],A=I[1],F=u.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.redirectOnSuccess,n=e.form;r()(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,fetch(t?"/update-screen":"/create-screen",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(qn(qn({},h),n))});case 4:return r=e.sent,e.next=7,r.json();case 7:if(!(r=e.sent).errors||!r.errors.length){e.next=10;break}return e.abrupt("return",alert(JSON.stringify(r.errors)));case 10:!1!==a&&i.push("/scripts/".concat(s,"/screens")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),alert(e.t0.message);case 16:A(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))()}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(T.a,{data:h.metadata,save:function(e){var t=qn(qn({},h),{},{metadata:qn(qn({},h.metadata),e)});v(t),F({redirectOnSuccess:!1,form:t})}}),u.a.createElement(E.a,null,u.a.createElement(O.a,null,u.a.createElement(M.a,{backLink:t?"/scripts/".concat(t.scriptId,"/screens"):null,title:"".concat(t?"Edit":"Add"," screen")}),u.a.createElement("br",null),u.a.createElement("br",null),"management"===h.type&&u.a.createElement(u.a.Fragment,null,u.a.createElement(D.a,{alignItems:"baseline"},u.a.createElement(P.a,{label:"Reference Key",placeholder:"$refKey",value:h.refKey,onChange:function(e){return v({refKey:e.target.value})}}),"",u.a.createElement(S.a,{checked:h.printable,label:"Print",control:u.a.createElement(k.a,null),onChange:function(e){return v({printable:!h.printable})}})),u.a.createElement("br",null),u.a.createElement("br",null)),u.a.createElement($,{form:h,setForm:v,screen:t,script:a,canAddDiagnosisScreen:n}),u.a.createElement(x.a,{in:!!h.type},u.a.createElement("div",null,u.a.createElement(ae,{form:h,setForm:v,screen:t,script:a}),u.a.createElement("br",null),u.a.createElement(xe,{form:h,setForm:v,screen:t,script:a}),u.a.createElement("br",null),!["form","edliz_summary_table","zw_edliz_summary_table","mwi_edliz_summary_table","diagnosis","management"].includes(h.type)&&u.a.createElement(u.a.Fragment,null,u.a.createElement(L,{value:h.prePopulate||[],onChange:function(e){return v({prePopulate:e})}}),u.a.createElement("br",null))))),!!h.type&&u.a.createElement(j.a,{style:{justifyContent:"flex-end"}},"view"===l&&u.a.createElement(C.a,{color:"error",variant:"caption"},"Can't save because you're in view mode"),u.a.createElement(w.a,{color:"primary",onClick:function(){return F()},disabled:"view"===l||!(h.title&&!N)},"Save"))),u.a.createElement("br",null),["single_select","multi_select","list","progress","checklist","diagnosis"].includes(h.type)&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ze,{form:h,setForm:v,screen:t,script:a})),["form"].includes(h.type)&&u.a.createElement(zn,{form:h,setForm:v,screen:t,script:a}),["edliz_summary_table","zw_edliz_summary_table","mwi_edliz_summary_table"].includes(h.type)&&u.a.createElement(Hn,{form:h,setForm:v,screen:t,script:a}),N&&u.a.createElement(f.a,{transparent:!0}))}Hn.propTypes={screen:y.a.object,script:y.a.object,form:y.a.object,setForm:y.a.func,setMetadata:y.a.func},Kn.propTypes={screen:y.a.object,script:y.a.object,canAddDiagnosisScreen:y.a.bool.isRequired};var Un=Kn;t.default=function(){var e=Object(d.h)(),t=e.scriptId,a=e.screenId,n=u.a.useState(null),l=o()(n,2),i=l[0],s=l[1],h=u.a.useState(null),g=o()(h,2),v=g[0],y=g[1],E=u.a.useState(!1),O=o()(E,2),j=O[0],w=O[1],C=u.a.useState(!0),x=o()(C,2),k=x[0],D=x[1];u.a.useEffect((function(){r()(c.a.mark((function e(){var n,r,l,o,i,u,d,m,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,fetch("/get-script?scriptId=".concat(t));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,l=r.script,y(l),e.next=12,fetch("/get-script-diagnoses-screens-count?script_id=".concat(t));case 12:return o=e.sent,e.next=15,o.json();case 15:i=e.sent,u=i.count,D(!u),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(1);case 22:if("new"===a){e.next=37;break}return e.prev=23,e.next=26,fetch("/get-screen?id=".concat(a));case 26:return d=e.sent,e.next=29,d.json();case 29:m=e.sent,p=m.screen,s(p),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(23),alert(e.t1.message);case 37:w(!1);case 38:case"end":return e.stop()}}),e,null,[[1,20],[23,34]])})))()}),[]);var S=v?[p.a.PAGE_TITLE,v.title,m.a.PAGE_TITLE,i?i.title:j?"":"New screen"].filter((function(e){return e})):[];return Object(b.b)(S.join(" > ")),j?u.a.createElement(f.a,{transparent:!0}):u.a.createElement(u.a.Fragment,null,u.a.createElement(Un,{script:v,screen:i,canAddDiagnosisScreen:k,setCanAddDiagnosisScreen:D}))}}}]);