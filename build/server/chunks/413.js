"use strict";exports.id=413,exports.ids=[413],exports.modules={10413:(e,t,a)=>{a.d(t,{Z:()=>n});var d=a(7310),i=a(48937),l=a(24161);let n=globalThis.drizzle||function(){let e=(0,i.Z)(process.env.POSTGRES_DB_URL);return(0,d.t)(e,{schema:l,logger:!1})}()},24161:(e,t,a)=>{a.r(t),a.d(t,{aliases:()=>K,apiKeys:()=>F,authClients:()=>H,authClientsRelations:()=>C,bytea:()=>w,configKeys:()=>ee,configKeysDrafts:()=>ea,configKeysDraftsRelations:()=>ed,configKeysHistory:()=>ei,configKeysHistoryRelations:()=>el,configKeysRelations:()=>et,dataKeys:()=>I,dataKeysDrafts:()=>A,dataKeysDraftsRelations:()=>D,dataKeysHistory:()=>h,dataKeysHistoryRelations:()=>B,dataKeysRelations:()=>L,devices:()=>Z,diagnoses:()=>eg,diagnosesDrafts:()=>eL,diagnosesDraftsRelations:()=>eA,diagnosesHistory:()=>eD,diagnosesHistoryRelations:()=>eh,diagnosesRelations:()=>eI,drugTypeEnum:()=>$,drugsLibrary:()=>eK,drugsLibraryDrafts:()=>ev,drugsLibraryDraftsRelations:()=>ek,drugsLibraryHistory:()=>eV,drugsLibraryHistoryRelations:()=>eb,drugsLibraryItemValidationType:()=>eB,drugsLibraryRelations:()=>ew,editorInfo:()=>W,emailTemplates:()=>R,files:()=>Q,filesChunks:()=>Y,filesRelations:()=>X,hospitals:()=>M,languages:()=>S,mailerServiceEnum:()=>v,mailerSettings:()=>q,pendingDeletion:()=>ej,pendingDeletionRelations:()=>ex,roleNameEnum:()=>k,rolesRelations:()=>T,screenTypeEnum:()=>x,screens:()=>ec,screensDrafts:()=>ep,screensDraftsRelations:()=>ey,screensHistory:()=>eN,screensHistoryRelations:()=>em,screensRelations:()=>e_,scriptTypeEnum:()=>j,scripts:()=>en,scriptsDrafts:()=>er,scriptsDraftsRelations:()=>eo,scriptsHistory:()=>eu,scriptsHistoryRelations:()=>ef,scriptsRelations:()=>es,siteEnvEnum:()=>b,siteTypeEnum:()=>V,sites:()=>G,sys:()=>J,tokens:()=>P,tokensRelations:()=>z,userRoles:()=>E,users:()=>U,usersRelations:()=>O});var d=a(11009),i=a(34149),l=a(31540),n=a(55396),s=a(8324),r=a(95961),o=a(80967),u=a(72140),f=a(12941),c=a(98748),_=a(28680),p=a(1575),y=a(8483),N=a(69909),m=a(9576);let g={fontSize:{},fontWeight:{},fontStyle:{},textColor:{},backgroundColor:{},highlight:{}},I=(0,s.af)("nt_data_keys",{id:(0,r.eP)("id").primaryKey(),uuid:(0,o.Vj)("uuid").notNull().unique().default((0,i.i6)`md5(random()::text || clock_timestamp()::text)::uuid`),name:(0,u.fL)("name").notNull().unique(),label:(0,u.fL)("label").default("").notNull(),dataType:(0,u.fL)("data_type"),parentKeys:(0,_.JB)("parent_keys").default([]).$type().notNull(),defaults:(0,_.JB)("defaults").default({}).$type().notNull(),version:(0,f._L)("version").notNull(),publishDate:(0,p.AB)("publish_date").defaultNow().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")}),L=(0,d.lE)(I,({many:e,one:t})=>({history:e(h),draft:t(A,{fields:[I.uuid],references:[A.dataKeyId]})})),A=(0,s.af)("nt_data_keys_drafts",{id:(0,r.eP)("id").primaryKey(),uuid:(0,o.Vj)("uuid").notNull().unique().default((0,i.i6)`md5(random()::text || clock_timestamp()::text)::uuid`),name:(0,u.fL)("name").notNull().unique(),dataKeyId:(0,o.Vj)("data_key_id").references(()=>I.uuid,{onDelete:"cascade"}),data:(0,_.JB)("data").$type().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)}),D=(0,d.lE)(A,({one:e})=>({configKey:e(I,{fields:[A.dataKeyId],references:[I.uuid]})})),h=(0,s.af)("nt_data_keys_history",{id:(0,r.eP)("id").primaryKey(),version:(0,f._L)("version").notNull(),dataKeyId:(0,o.Vj)("data_key_id").references(()=>I.uuid,{onDelete:"cascade"}).notNull(),restoreKey:(0,o.Vj)("restore_key"),changes:(0,_.JB)("data").default([]),createdAt:(0,p.AB)("created_at").defaultNow().notNull()}),B=(0,d.lE)(h,({one:e})=>({configKey:e(I,{fields:[h.dataKeyId],references:[I.uuid]})})),K=(0,s.af)("nt_aliases",{id:(0,r.eP)("id").primaryKey(),uuid:(0,o.Vj)("uuid").notNull().unique().default((0,i.i6)`md5(random()::text || clock_timestamp()::text)::uuid`),name:(0,u.fL)("name").notNull(),alias:(0,u.fL)("alias").notNull(),script:(0,u.fL)("script").notNull(),oldScript:(0,u.fL)("old_script"),publishDate:(0,p.AB)("publish_date").defaultNow().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")}),w=(0,l.Tr)({dataType:()=>"bytea"}),v=(0,n.ys)("mailer_service",["gmail","smtp"]),k=(0,n.ys)("role_name",["user","admin","super_user"]),V=(0,n.ys)("site_type",["nodeapi","webeditor"]),b=(0,n.ys)("site_env",["production","stage","development","demo"]),j=(0,n.ys)("script_type",["admission","discharge","neolab","drecord"]),x=(0,n.ys)("screen_type",["diagnosis","checklist","form","management","multi_select","single_select","progress","timer","yesno","drugs","fluids","feeds","zw_edliz_summary_table","mwi_edliz_summary_table","edliz_summary_table","dynamic_form"]),$=(0,n.ys)("drug_type",["drug","fluid","feed"]),q=(0,s.af)("nt_mailer_settings",{id:(0,r.eP)("id").primaryKey(),settingId:(0,o.Vj)("setting_id").notNull().unique().defaultRandom(),name:(0,u.fL)("name").notNull().unique(),service:v("service").notNull(),authUsername:(0,u.fL)("auth_username").notNull(),authPassword:(0,u.fL)("auth_password").notNull(),authType:(0,u.fL)("auth_type"),authMethod:(0,u.fL)("auth_method"),host:(0,u.fL)("host").notNull().default(""),port:(0,f._L)("port"),encryption:(0,u.fL)("encryption").notNull().default(""),fromAddress:(0,u.fL)("from_address").notNull().default(""),fromName:(0,u.fL)("from_name").notNull().default(""),isActive:(0,c.O7)("is_active").default(!1).notNull(),secure:(0,c.O7)("secure").default(!1).notNull()}),R=(0,s.af)("nt_email_templates",{id:(0,r.eP)("id").primaryKey(),templateId:(0,o.Vj)("template_id").notNull().unique().defaultRandom(),name:(0,u.fL)("name").notNull().unique(),data:(0,_.JB)("data").notNull()}),J=(0,s.af)("nt_sys",{_id:(0,r.eP)("_id").primaryKey(),id:(0,o.Vj)("id").notNull().unique().defaultRandom(),key:(0,u.fL)("key").notNull().unique(),value:(0,u.fL)("value").notNull()}),P=(0,s.af)("nt_tokens",{id:(0,r.eP)("id").primaryKey(),token:(0,f._L)("token").notNull().unique(),userId:(0,o.Vj)("user_id").references(()=>U.userId,{onDelete:"cascade"}),validUntil:(0,p.AB)("valid_until").notNull()}),z=(0,d.lE)(P,({one:e})=>({user:e(U,{fields:[P.userId],references:[U.userId]})})),E=(0,s.af)("nt_user_roles",{id:(0,r.eP)("id").primaryKey(),name:k("name").notNull().unique(),description:(0,u.fL)("description")}),T=(0,d.lE)(E,({many:e})=>({users:e(U)})),S=(0,s.af)("nt_languages",{id:(0,r.eP)("id").primaryKey(),name:(0,u.fL)("name").notNull().unique(),iso:(0,u.fL)("iso").notNull().unique(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")}),U=(0,s.af)("nt_users",{id:(0,r.eP)("id").primaryKey(),userId:(0,o.Vj)("user_id").notNull().unique().defaultRandom(),role:k("role").references(()=>E.name,{onDelete:"cascade"}).default("user").notNull(),email:(0,u.fL)("email").notNull().unique(),password:(0,u.fL)("password").notNull(),displayName:(0,u.fL)("display_name").notNull(),firstName:(0,u.fL)("first_name"),lastName:(0,u.fL)("last_name"),avatar:(0,u.fL)("avatar"),avatar_sm:(0,u.fL)("avatar_sm"),avatar_md:(0,u.fL)("avatar_md"),activationDate:(0,p.AB)("activation_date"),lastLoginDate:(0,p.AB)("last_login_date"),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")},e=>({searchIndex:(0,y.Kz)("users_search_index").using("gin",(0,i.i6)`(
                    to_tsvector('english', ${e.email}) ||
                    to_tsvector('english', ${e.displayName}) ||
                    to_tsvector('english', ${e.firstName}) ||
                    to_tsvector('english', ${e.lastName})
                )`)})),O=(0,d.lE)(U,({many:e,one:t})=>({authTokens:e(H),tokens:e(P),files:e(Q),role:t(E,{fields:[U.role],references:[E.name]})})),H=(0,s.af)("nt_auth_clients",{id:(0,r.eP)("id").primaryKey(),clientId:(0,o.Vj)("client_id").notNull().unique().defaultRandom(),clientToken:(0,u.fL)("client_token").notNull().unique(),userId:(0,o.Vj)("user_id").references(()=>U.userId,{onDelete:"cascade"}),validUntil:(0,p.AB)("valid_until"),createdAt:(0,p.AB)("created_at").defaultNow().notNull()}),C=(0,d.lE)(H,({one:e})=>({user:e(U,{fields:[H.userId],references:[U.userId]})})),F=(0,s.af)("nt_api_keys",{id:(0,r.eP)("id").primaryKey(),apiKeyId:(0,o.Vj)("api_key_id").notNull().unique().defaultRandom(),apiKey:(0,u.fL)("api_key").notNull().unique().$defaultFn(()=>(0,m.Z)()),validUntil:(0,p.AB)("valid_until"),createdAt:(0,p.AB)("created_at").defaultNow().notNull()}),G=(0,s.af)("nt_sites",{id:(0,r.eP)("id").primaryKey(),siteId:(0,o.Vj)("site_id").notNull().unique().defaultRandom(),name:(0,u.fL)("name").notNull().unique(),link:(0,u.fL)("link").notNull().unique(),apiKey:(0,u.fL)("api_key").notNull(),type:V("type").notNull(),env:b("env").notNull().default("production"),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")}),M=(0,s.af)("nt_hospitals",{id:(0,r.eP)("id").primaryKey(),hospitalId:(0,o.Vj)("hospital_id").notNull().unique().defaultRandom(),oldHospitalId:(0,u.fL)("old_hospital_id").unique(),name:(0,u.fL)("name").notNull().unique(),country:(0,u.fL)("country").default(""),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")},e=>({searchIndex:(0,y.Kz)("hospitals_search_index").using("gin",(0,i.i6)`(
                    to_tsvector('english', ${e.name})
                )`)})),W=(0,s.af)("nt_editor_info",{id:(0,r.eP)("id").primaryKey(),dataVersion:(0,f._L)("data_version").notNull().default(1),lastPublishDate:(0,p.AB)("last_publish_date"),lastDataKeysSyncDate:(0,p.AB)("last_data_keys_sync_date")}),Z=(0,s.af)("nt_devices",{id:(0,r.eP)("id").primaryKey(),deviceId:(0,u.fL)("device_id").notNull().unique(),deviceHash:(0,u.fL)("device_hash").notNull().unique(),details:(0,_.JB)("details").default({}),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")}),Q=(0,s.af)("nt_files",{id:(0,r.eP)("id").primaryKey(),fileId:(0,o.Vj)("file_id").notNull().unique().defaultRandom(),ownerId:(0,o.Vj)("owner_id").references(()=>U.userId,{onDelete:"cascade"}),filename:(0,u.fL)("filename").notNull(),contentType:(0,u.fL)("content_type").notNull(),size:(0,f._L)("size").notNull(),metadata:(0,_.JB)("metadata").default("{}").notNull(),data:w("data").notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")}),X=(0,d.lE)(Q,({many:e,one:t})=>({owner:t(U,{fields:[Q.ownerId],references:[U.userId]})})),Y=(0,s.af)("nt_files_chunks",{id:(0,r.eP)("id").primaryKey(),chunkId:(0,o.Vj)("chunk_id").notNull().unique().defaultRandom(),fileId:(0,o.Vj)("file_id").references(()=>Q.fileId,{onDelete:"cascade"}).notNull(),data:w("data").notNull()}),ee=(0,s.af)("nt_config_keys",{id:(0,r.eP)("id").primaryKey(),configKeyId:(0,o.Vj)("config_key_id").notNull().unique().defaultRandom(),oldConfigKeyId:(0,u.fL)("old_config_key_id").unique(),position:(0,f._L)("position").notNull(),version:(0,f._L)("version").notNull(),key:(0,u.fL)("key").notNull().unique(),label:(0,u.fL)("label").notNull().unique(),summary:(0,u.fL)("summary").notNull(),source:(0,u.fL)("source").default("editor"),preferences:(0,_.JB)("preferences").default(JSON.stringify(g)).notNull(),publishDate:(0,p.AB)("publish_date").defaultNow().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")},e=>({searchIndex:(0,y.Kz)("config_keys_search_index").using("gin",(0,i.i6)`(
                    to_tsvector('english', ${e.key}) ||
                    to_tsvector('english', ${e.label}) ||
                    to_tsvector('english', ${e.summary})
                )`)})),et=(0,d.lE)(ee,({many:e,one:t})=>({history:e(ei),draft:t(ea,{fields:[ee.configKeyId],references:[ea.configKeyId]})})),ea=(0,s.af)("nt_config_keys_drafts",{id:(0,r.eP)("id").primaryKey(),configKeyDraftId:(0,o.Vj)("config_key_draft_id").notNull().unique().defaultRandom(),configKeyId:(0,o.Vj)("config_key_id").references(()=>ee.configKeyId,{onDelete:"cascade"}),position:(0,f._L)("position").notNull(),data:(0,_.JB)("data").$type().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)}),ed=(0,d.lE)(ea,({one:e})=>({configKey:e(ee,{fields:[ea.configKeyId],references:[ee.configKeyId]})})),ei=(0,s.af)("nt_config_keys_history",{id:(0,r.eP)("id").primaryKey(),version:(0,f._L)("version").notNull(),configKeyId:(0,o.Vj)("config_key_id").references(()=>ee.configKeyId,{onDelete:"cascade"}).notNull(),restoreKey:(0,o.Vj)("restore_key"),changes:(0,_.JB)("data").default([]),createdAt:(0,p.AB)("created_at").defaultNow().notNull()}),el=(0,d.lE)(ei,({one:e})=>({configKey:e(ee,{fields:[ei.configKeyId],references:[ee.configKeyId]})})),en=(0,s.af)("nt_scripts",{id:(0,r.eP)("id").primaryKey(),scriptId:(0,o.Vj)("script_id").notNull().unique().defaultRandom(),oldScriptId:(0,u.fL)("old_script_id").unique(),version:(0,f._L)("version").notNull(),type:j("type").notNull().default("admission"),position:(0,f._L)("position").notNull(),source:(0,u.fL)("source").default("editor"),title:(0,u.fL)("title").notNull(),printTitle:(0,u.fL)("print_title").notNull(),description:(0,u.fL)("description").notNull().default(""),hospitalId:(0,o.Vj)("hospital_id").references(()=>M.hospitalId,{onDelete:"set null"}),exportable:(0,c.O7)("exportable").notNull().default(!0),nuidSearchEnabled:(0,c.O7)("nuid_search_enabled").notNull().default(!1),nuidSearchFields:(0,_.JB)("nuid_search_fields").default("[]").notNull(),reviewable:(0,c.O7)("reviewable").notNull().default(!1),reviewConfigurations:(0,_.JB)("review_configurations").default("[]").notNull(),preferences:(0,_.JB)("preferences").default(JSON.stringify(g)).notNull(),printSections:(0,_.JB)("print_sections").default("[]").notNull(),publishDate:(0,p.AB)("publish_date").defaultNow().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")},e=>({searchIndex:(0,y.Kz)("scripts_search_index").using("gin",(0,i.i6)`(
                    to_tsvector('english', ${e.title}) ||
                    to_tsvector('english', ${e.description})
                )`)})),es=(0,d.lE)(en,({many:e,one:t})=>({screens:e(ec),screensDrafts:e(ep),screensHistory:e(eN),diagnoses:e(eg),diagnosesDrafts:e(eL),diagnosesHistory:e(eD),history:e(eu),drugsLibrary:e(eK),draft:t(er,{fields:[en.scriptId],references:[er.scriptId]})})),er=(0,s.af)("nt_scripts_drafts",{id:(0,r.eP)("id").primaryKey(),scriptDraftId:(0,o.Vj)("script_draft_id").notNull().unique().defaultRandom(),scriptId:(0,o.Vj)("script_id").references(()=>en.scriptId,{onDelete:"cascade"}),position:(0,f._L)("position").notNull(),hospitalId:(0,o.Vj)("hospital_id").references(()=>M.hospitalId,{onDelete:"set null"}),data:(0,_.JB)("data").$type().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)}),eo=(0,d.lE)(er,({one:e,many:t})=>({screensDrafts:t(ep),diagnosesDrafts:t(eL),script:e(en,{fields:[er.scriptId],references:[en.scriptId]})})),eu=(0,s.af)("nt_scripts_history",{id:(0,r.eP)("id").primaryKey(),version:(0,f._L)("version").notNull(),scriptId:(0,o.Vj)("script_id").references(()=>en.scriptId,{onDelete:"cascade"}).notNull(),restoreKey:(0,o.Vj)("restore_key"),changes:(0,_.JB)("data").default([]),createdAt:(0,p.AB)("created_at").defaultNow().notNull()}),ef=(0,d.lE)(eu,({one:e})=>({script:e(en,{fields:[eu.scriptId],references:[en.scriptId]})})),ec=(0,s.af)("nt_screens",{id:(0,r.eP)("id").primaryKey(),screenId:(0,o.Vj)("screen_id").notNull().unique().defaultRandom(),oldScreenId:(0,u.fL)("old_screen_id").unique(),oldScriptId:(0,u.fL)("old_script_id"),version:(0,f._L)("version").notNull(),scriptId:(0,o.Vj)("script_id").references(()=>en.scriptId,{onDelete:"cascade"}).notNull(),type:x("type").notNull(),position:(0,f._L)("position").notNull(),source:(0,u.fL)("source").default("editor"),sectionTitle:(0,u.fL)("section_title").notNull(),previewTitle:(0,u.fL)("preview_title").notNull().default(""),previewPrintTitle:(0,u.fL)("preview_print_title").notNull().default(""),condition:(0,u.fL)("condition").notNull().default(""),skipToCondition:(0,u.fL)("skip_to_condition").notNull().default(""),skipToScreenId:(0,u.fL)("skip_to_screen_id"),epicId:(0,u.fL)("epic_id").notNull().default(""),storyId:(0,u.fL)("story_id").notNull().default(""),refId:(0,u.fL)("ref_id").notNull().default(""),refKey:(0,u.fL)("ref_key").notNull().default(""),step:(0,u.fL)("step").notNull().default(""),actionText:(0,u.fL)("action_text").notNull().default(""),contentText:(0,u.fL)("content_text").notNull().default(""),contentTextImage:(0,_.JB)("content_text_image").$type(),infoText:(0,u.fL)("info_text").notNull().default(""),title:(0,u.fL)("title").notNull(),title1:(0,u.fL)("title1").notNull().default(""),title2:(0,u.fL)("title2").notNull().default(""),title3:(0,u.fL)("title3").notNull().default(""),title4:(0,u.fL)("title4").notNull().default(""),text1:(0,u.fL)("text1").notNull().default(""),text2:(0,u.fL)("text2").notNull().default(""),text3:(0,u.fL)("text3").notNull().default(""),image1:(0,_.JB)("image1").$type(),image2:(0,_.JB)("image2").$type(),image3:(0,_.JB)("image3").$type(),instructions:(0,u.fL)("instructions").notNull().default(""),instructions2:(0,u.fL)("instructions2").notNull().default(""),instructions3:(0,u.fL)("instructions3").notNull().default(""),instructions4:(0,u.fL)("instructions4").notNull().default(""),hcwDiagnosesInstructions:(0,u.fL)("hcw_diagnoses_instructions").notNull().default(""),suggestedDiagnosesInstructions:(0,u.fL)("suggested_diagnoses_instructions").notNull().default(""),notes:(0,u.fL)("notes").notNull().default(""),dataType:(0,u.fL)("data_type").notNull().default(""),key:(0,u.fL)("key").notNull().default(""),label:(0,u.fL)("label").notNull().default(""),negativeLabel:(0,u.fL)("negative_label").notNull().default(""),positiveLabel:(0,u.fL)("positive_label").notNull().default(""),timerValue:(0,f._L)("timer_value"),multiplier:(0,f._L)("multiplier"),minValue:(0,f._L)("min_value"),maxValue:(0,f._L)("max_value"),exportable:(0,c.O7)("exportable").notNull().default(!0),printable:(0,c.O7)("printable"),skippable:(0,c.O7)("skippable").notNull().default(!1),confidential:(0,c.O7)("confidential").notNull().default(!1),prePopulate:(0,_.JB)("pre_populate").default("[]").$type().notNull(),fields:(0,_.JB)("fields").default("[]").$type().notNull(),items:(0,_.JB)("items").default("[]").$type().notNull(),preferences:(0,_.JB)("preferences").default(JSON.stringify(g)).$type().notNull(),drugs:(0,_.JB)("drugs").default("[]").$type().notNull(),fluids:(0,_.JB)("fluids").default("[]").$type().notNull(),feeds:(0,_.JB)("feeds").default("[]").$type().notNull(),reasons:(0,_.JB)("reasons").default("[]").notNull().$type(),publishDate:(0,p.AB)("publish_date").defaultNow().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at"),collectionName:(0,u.fL)("collection_name").notNull().default(""),collectionLabel:(0,u.fL)("collection_label").notNull().default(""),repeatable:(0,c.O7)("repeatable")},e=>({searchIndex:(0,y.Kz)("screens_search_index").using("gin",(0,i.i6)`(
                    to_tsvector('english', ${e.title})
                )`)})),e_=(0,d.lE)(ec,({many:e,one:t})=>({history:e(eN),script:t(en,{fields:[ec.scriptId],references:[en.scriptId]}),draft:t(ep,{fields:[ec.screenId],references:[ep.screenId]})})),ep=(0,s.af)("nt_screens_drafts",{id:(0,r.eP)("id").primaryKey(),screenDraftId:(0,o.Vj)("screen_draft_id").notNull().unique().defaultRandom(),screenId:(0,o.Vj)("screen_id").references(()=>ec.screenId,{onDelete:"cascade"}),scriptId:(0,o.Vj)("script_id").references(()=>en.scriptId,{onDelete:"cascade"}),scriptDraftId:(0,o.Vj)("script_draft_id").references(()=>er.scriptDraftId,{onDelete:"cascade"}),type:x("type").notNull(),position:(0,f._L)("position").notNull(),data:(0,_.JB)("data").$type().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)}),ey=(0,d.lE)(ep,({one:e})=>({screen:e(ec,{fields:[ep.screenId],references:[ec.screenId]}),scriptDraft:e(er,{fields:[ep.scriptDraftId],references:[er.scriptDraftId]}),script:e(en,{fields:[ep.scriptId],references:[en.scriptId]})})),eN=(0,s.af)("nt_screens_history",{id:(0,r.eP)("id").primaryKey(),version:(0,f._L)("version").notNull(),screenId:(0,o.Vj)("screen_id").references(()=>ec.screenId,{onDelete:"cascade"}).notNull(),scriptId:(0,o.Vj)("script_id").references(()=>en.scriptId,{onDelete:"cascade"}).notNull(),restoreKey:(0,u.fL)("restore_key"),changes:(0,_.JB)("data").default([]),createdAt:(0,p.AB)("created_at").defaultNow().notNull()}),em=(0,d.lE)(eN,({one:e})=>({screen:e(ec,{fields:[eN.screenId],references:[ec.screenId]}),script:e(en,{fields:[eN.scriptId],references:[en.scriptId]})})),eg=(0,s.af)("nt_diagnoses",{id:(0,r.eP)("id").primaryKey(),diagnosisId:(0,o.Vj)("diagnosis_id").notNull().unique().defaultRandom(),oldDiagnosisId:(0,u.fL)("old_diagnosis_id").unique(),oldScriptId:(0,u.fL)("old_script_id"),version:(0,f._L)("version").notNull(),scriptId:(0,o.Vj)("script_id").references(()=>en.scriptId,{onDelete:"cascade"}).notNull(),position:(0,f._L)("position").notNull(),source:(0,u.fL)("source").default("editor"),expression:(0,u.fL)("expression").notNull(),name:(0,u.fL)("name").notNull().default(""),description:(0,u.fL)("description").notNull().default(""),key:(0,u.fL)("key").default(""),severityOrder:(0,f._L)("severity_order"),expressionMeaning:(0,u.fL)("expression_meaning").notNull().default(""),symptoms:(0,_.JB)("symptoms").default("[]").$type().notNull(),text1:(0,u.fL)("text1").notNull().default(""),text2:(0,u.fL)("text2").notNull().default(""),text3:(0,u.fL)("text3").notNull().default(""),image1:(0,_.JB)("image1").$type(),image2:(0,_.JB)("image2").$type(),image3:(0,_.JB)("image3").$type(),preferences:(0,_.JB)("preferences").default(JSON.stringify(g)).$type().notNull(),publishDate:(0,p.AB)("publish_date").defaultNow().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")},e=>({searchIndex:(0,y.Kz)("diagnoses_search_index").using("gin",(0,i.i6)`(
                    to_tsvector('english', ${e.name})
                )`)})),eI=(0,d.lE)(eg,({many:e,one:t})=>({history:e(eD),script:t(en,{fields:[eg.scriptId],references:[en.scriptId]}),draft:t(eL,{fields:[eg.diagnosisId],references:[eL.diagnosisId]})})),eL=(0,s.af)("nt_diagnoses_drafts",{id:(0,r.eP)("id").primaryKey(),diagnosisDraftId:(0,o.Vj)("diagnosis_draft_id").notNull().unique().defaultRandom(),diagnosisId:(0,o.Vj)("diagnosis_id").references(()=>eg.diagnosisId,{onDelete:"cascade"}),scriptId:(0,o.Vj)("script_id").references(()=>en.scriptId,{onDelete:"cascade"}),scriptDraftId:(0,o.Vj)("script_draft_id").references(()=>er.scriptDraftId,{onDelete:"cascade"}),position:(0,f._L)("position").notNull(),data:(0,_.JB)("data").$type().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)}),eA=(0,d.lE)(eL,({one:e})=>({diagnosis:e(eg,{fields:[eL.diagnosisId],references:[eg.diagnosisId]}),scriptDraft:e(er,{fields:[eL.scriptDraftId],references:[er.scriptDraftId]}),script:e(en,{fields:[eL.scriptId],references:[en.scriptId]})})),eD=(0,s.af)("nt_diagnoses_history",{id:(0,r.eP)("id").primaryKey(),version:(0,f._L)("version").notNull(),diagnosisId:(0,o.Vj)("diagnosis_id").references(()=>eg.diagnosisId,{onDelete:"cascade"}).notNull(),scriptId:(0,o.Vj)("script_id").references(()=>en.scriptId,{onDelete:"cascade"}).notNull(),restoreKey:(0,u.fL)("restore_key"),changes:(0,_.JB)("data").default([]),createdAt:(0,p.AB)("created_at").defaultNow().notNull()}),eh=(0,d.lE)(eD,({one:e})=>({diagnosis:e(eg,{fields:[eD.diagnosisId],references:[eg.diagnosisId]}),script:e(en,{fields:[eD.scriptId],references:[en.scriptId]})})),eB=(0,n.ys)("dff_item_validation_type",["default","condition"]),eK=(0,s.af)("nt_drugs_library",{id:(0,r.eP)("id").primaryKey(),itemId:(0,o.Vj)("item_id").notNull().unique().defaultRandom(),key:(0,u.fL)("key").notNull().unique(),type:$("type").notNull().default("drug"),drug:(0,u.fL)("drug").notNull().default(""),minGestation:(0,N.zz)("min_gestation"),maxGestation:(0,N.zz)("max_gestation"),minWeight:(0,N.zz)("min_weight"),maxWeight:(0,N.zz)("max_weight"),minAge:(0,N.zz)("min_age"),maxAge:(0,N.zz)("max_age"),hourlyFeed:(0,N.zz)("hourly_feed"),hourlyFeedDivider:(0,N.zz)("hourly_feed_divider"),dosage:(0,N.zz)("dosage"),dosageMultiplier:(0,N.zz)("dosage_multiplier"),dayOfLife:(0,u.fL)("day_of_life").notNull().default(""),dosageText:(0,u.fL)("dosage_text").notNull().default(""),managementText:(0,u.fL)("management_text").notNull().default(""),gestationKey:(0,u.fL)("gestation_key").notNull().default(""),weightKey:(0,u.fL)("weight_key").notNull().default(""),diagnosisKey:(0,u.fL)("diagnosis_key").notNull().default(""),ageKey:(0,u.fL)("age_key").notNull().default(""),administrationFrequency:(0,u.fL)("administration_frequency").notNull().default(""),drugUnit:(0,u.fL)("drug_unit").notNull().default(""),routeOfAdministration:(0,u.fL)("route_of_administration").notNull().default(""),position:(0,f._L)("position").notNull(),condition:(0,u.fL)("condition").notNull().default(""),validationType:eB("validation_type").default("default"),version:(0,f._L)("version").notNull(),publishDate:(0,p.AB)("publish_date").defaultNow().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,p.AB)("deleted_at")}),ew=(0,d.lE)(eK,({many:e,one:t})=>({history:e(eV),draft:t(ev,{fields:[eK.itemId],references:[ev.itemId]})})),ev=(0,s.af)("nt_drugs_library_drafts",{id:(0,r.eP)("id").primaryKey(),itemDraftId:(0,o.Vj)("item_draft_id").notNull().unique().defaultRandom(),itemId:(0,o.Vj)("item_id").references(()=>eK.itemId,{onDelete:"cascade"}),key:(0,u.fL)("key").notNull(),type:$("type").notNull().default("drug"),position:(0,f._L)("position").notNull(),data:(0,_.JB)("data").$type().notNull(),createdAt:(0,p.AB)("created_at").defaultNow().notNull(),updatedAt:(0,p.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)}),ek=(0,d.lE)(ev,({one:e})=>({item:e(eK,{fields:[ev.itemId],references:[eK.itemId]})})),eV=(0,s.af)("nt_drugs_library_history",{id:(0,r.eP)("id").primaryKey(),version:(0,f._L)("version").notNull(),itemId:(0,o.Vj)("item_id").references(()=>eK.itemId,{onDelete:"cascade"}).notNull(),restoreKey:(0,o.Vj)("restore_key"),changes:(0,_.JB)("data").default([]),createdAt:(0,p.AB)("created_at").defaultNow().notNull()}),eb=(0,d.lE)(eV,({one:e})=>({item:e(eK,{fields:[eV.itemId],references:[eK.itemId]})})),ej=(0,s.af)("nt_pending_deletion",{id:(0,r.eP)("id").primaryKey(),scriptId:(0,o.Vj)("script_id").references(()=>en.scriptId,{onDelete:"cascade"}),screenId:(0,o.Vj)("screen_id").references(()=>ec.screenId,{onDelete:"cascade"}),screenScriptId:(0,o.Vj)("screen_script_id").references(()=>en.scriptId,{onDelete:"cascade"}),diagnosisId:(0,o.Vj)("diagnosis_id").references(()=>eg.diagnosisId,{onDelete:"cascade"}),diagnosisScriptId:(0,o.Vj)("diagnosis_script_id").references(()=>en.scriptId,{onDelete:"cascade"}),configKeyId:(0,o.Vj)("config_key_id").references(()=>ee.configKeyId,{onDelete:"cascade"}),drugsLibraryItemId:(0,o.Vj)("drugs_library_item_id").references(()=>eK.itemId,{onDelete:"cascade"}),scriptDraftId:(0,o.Vj)("script_draft_id").references(()=>er.scriptDraftId,{onDelete:"cascade"}),screenDraftId:(0,o.Vj)("screen_draft_id").references(()=>ep.screenDraftId,{onDelete:"cascade"}),diagnosisDraftId:(0,o.Vj)("diagnosis_draft_id").references(()=>eL.diagnosisDraftId,{onDelete:"cascade"}),configKeyDraftId:(0,o.Vj)("config_key_draft_id").references(()=>ea.configKeyDraftId,{onDelete:"cascade"}),drugsLibraryItemDraftId:(0,o.Vj)("drugs_library_item_draft_id").references(()=>ev.itemDraftId,{onDelete:"cascade"}),dataKeyId:(0,o.Vj)("data_key_id").references(()=>I.uuid,{onDelete:"cascade"}),dataKeyDraftId:(0,o.Vj)("data_key_draft_id").references(()=>I.uuid,{onDelete:"cascade"}),aliasId:(0,o.Vj)("alias_id").references(()=>K.uuid,{onDelete:"cascade"}),createdAt:(0,p.AB)("created_at").defaultNow().notNull()}),ex=(0,d.lE)(ej,({one:e})=>({script:e(en,{fields:[ej.scriptId],references:[en.scriptId]}),screen:e(ec,{fields:[ej.screenId],references:[ec.screenId]}),screenScript:e(en,{fields:[ej.screenScriptId],references:[en.scriptId]}),diagnosis:e(eg,{fields:[ej.diagnosisId],references:[eg.diagnosisId]}),diagnosisScript:e(en,{fields:[ej.diagnosisScriptId],references:[en.scriptId]}),configKey:e(ee,{fields:[ej.configKeyId],references:[ee.configKeyId]}),drugsLibraryItem:e(eK,{fields:[ej.drugsLibraryItemId],references:[eK.itemId]}),scriptDraft:e(er,{fields:[ej.scriptId],references:[er.scriptDraftId]}),screenDraft:e(ep,{fields:[ej.screenId],references:[ep.screenDraftId]}),diagnosisDraft:e(eL,{fields:[ej.diagnosisId],references:[eL.diagnosisDraftId]}),configKeyDraft:e(ea,{fields:[ej.configKeyId],references:[ea.configKeyDraftId]}),drugsLibraryItemDraft:e(ev,{fields:[ej.drugsLibraryItemDraftId],references:[ev.itemDraftId]}),dataKey:e(I,{fields:[ej.dataKeyId],references:[I.uuid]}),dataKeyDraft:e(A,{fields:[ej.dataKeyDraftId],references:[A.uuid]}),alias:e(K,{fields:[ej.aliasId],references:[K.uuid]})}))}};