"use strict";exports.id=3396,exports.ids=[3396],exports.modules={93396:(e,t,r)=>{r.d(t,{v1:()=>w});var l=r(34423);function n(e,t,r){try{return e(t)}catch(e){return(0,l.ZK)("[nuqs] Error while parsing value `%s`: %O"+(r?" (for key `%s`)":""),t,e,r),null}}var s=function(){if("undefined"==typeof window||!window.GestureEvent)return 50;try{let e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}(),i=new Map,u={history:"replace",scroll:!1,shallow:!0,throttleMs:s},a=new Set,o=0,f=null,c=r(17577);function h(e){function t(t){if(void 0===t)return null;let r="";if(Array.isArray(t)){if(void 0===t[0])return null;r=t[0]}return"string"==typeof t&&(r=t),n(e.parse,r)}return{eq:(e,t)=>e===t,...e,parseServerSide:t,withDefault(e){return{...this,defaultValue:e,parseServerSide:r=>t(r)??e}},withOptions(e){return{...this,...e}}}}h({parse:e=>e,serialize:e=>`${e}`});var p=h({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:t},serialize:e=>Math.round(e).toFixed()});function m(e,t){return e.valueOf()===t.valueOf()}h({parse:e=>{let t=p.parse(e);return null===t?null:t-1},serialize:e=>p.serialize(e+1)}),h({parse:e=>{let t=parseInt(e,16);return Number.isNaN(t)?null:t},serialize:e=>{let t=Math.round(e).toString(16);return t.padStart(t.length+t.length%2,"0")}}),h({parse:e=>{let t=parseFloat(e);return Number.isNaN(t)?null:t},serialize:e=>e.toString()}),h({parse:e=>"true"===e,serialize:e=>e?"true":"false"}),h({parse:e=>{let t=parseInt(e);return Number.isNaN(t)?null:new Date(t)},serialize:e=>e.valueOf().toString(),eq:m}),h({parse:e=>{let t=new Date(e);return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString(),eq:m}),h({parse:e=>{let t=new Date(e.slice(0,10));return Number.isNaN(t.valueOf())?null:t},serialize:e=>e.toISOString().slice(0,10),eq:m});var d=function(e){return{all:e=e||new Map,on:function(t,r){var l=e.get(t);l?l.push(r):e.set(t,[r])},off:function(t,r){var l=e.get(t);l&&(r?l.splice(l.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var l=e.get(t);l&&l.slice().map(function(e){e(r)}),(l=e.get("*"))&&l.slice().map(function(e){e(t,r)})}}}();function w(e,{history:t="replace",shallow:r=!0,scroll:h=!1,throttleMs:p=s,parse:m=e=>e,serialize:w=String,eq:g=(e,t)=>e===t,defaultValue:v,clearOnDefault:S=!0,startTransition:y}={history:"replace",scroll:!1,shallow:!0,throttleMs:s,parse:e=>e,serialize:String,eq:(e,t)=>e===t,clearOnDefault:!0,defaultValue:void 0}){let N=(0,l.YW)(),M=N.searchParams;(0,c.useRef)(M?.get(e)??null);let[q,O]=(0,c.useState)(()=>{let t=i.get(e),r=void 0===t?M?.get(e)??null:t;return null===r?null:n(m,r,e)}),z=(0,c.useRef)(q);(0,l.fF)("[nuqs `%s`] render - state: %O, iSP: %s",e,q,M?.get(e)??null);let F=(0,c.useCallback)((n,c={})=>{let m="function"==typeof n?n(z.current??v??null):n;(c.clearOnDefault??S)&&null!==m&&void 0!==v&&g(m,v)&&(m=null);let M=function(e,t,r,n){let o=null===t?null:r(t);return(0,l.fF)("[nuqs queue] Enqueueing %s=%s %O",e,o,n),i.set(e,o),"push"===n.history&&(u.history="push"),n.scroll&&(u.scroll=!0),!1===n.shallow&&(u.shallow=!1),n.startTransition&&a.add(n.startTransition),u.throttleMs=Math.max(n.throttleMs??s,Number.isFinite(u.throttleMs)?u.throttleMs:0),o}(e,m,w,{history:c.history??t,shallow:c.shallow??r,scroll:c.scroll??h,throttleMs:c.throttleMs??p,startTransition:c.startTransition??y});return d.emit(e,{state:m,query:M}),function({getSearchParamsSnapshot:e=function(){return new URLSearchParams(location.search)},updateUrl:t,rateLimitFactor:r=1}){return null===f&&(f=new Promise((n,c)=>{if(!Number.isFinite(u.throttleMs)){(0,l.fF)("[nuqs queue] Skipping flush due to throttleMs=Infinity"),n(e()),setTimeout(()=>{f=null},0);return}function h(){o=performance.now();let[r,h]=function({updateUrl:e,getSearchParamsSnapshot:t}){let r=t();if(0===i.size)return[r,null];let n=Array.from(i.entries()),o={...u},f=Array.from(a);for(let[e,t]of(i.clear(),a.clear(),u.history="replace",u.scroll=!1,u.shallow=!0,u.throttleMs=s,(0,l.fF)("[nuqs queue] Flushing queue %O with options %O",n,o),n))null===t?r.delete(e):r.set(e,t);try{return function(e,t){let r=l=>{if(l===e.length)return t();let n=e[l];if(!n)throw Error("Invalid transition function");n(()=>r(l+1))};r(0)}(f,()=>{e(r,{history:o.history,scroll:o.scroll,shallow:o.shallow})}),[r,null]}catch(e){return console.error((0,l.vU)(429),n.map(([e])=>e).join(),e),[r,e]}}({updateUrl:t,getSearchParamsSnapshot:e});null===h?n(r):c(r),f=null}setTimeout(function(){let e=performance.now()-o,t=u.throttleMs,n=r*Math.max(0,Math.min(t,t-e));(0,l.fF)("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",n,t),0===n?h():setTimeout(h,n)},0)})),f}(N)},[e,t,r,h,p,y,N.updateUrl,N.getSearchParamsSnapshot,N.rateLimitFactor]);return[q??v??null,F]}}};