exports.id=517,exports.ids=[517],exports.modules={74393:(e,a,s)=>{Promise.resolve().then(s.bind(s,77228))},11680:(e,a,s)=>{Promise.resolve().then(s.bind(s,10827)),Promise.resolve().then(s.bind(s,82617))},69486:(e,a,s)=>{"use strict";s.d(a,{D:()=>l});var t=s(10326),r=s(77863);function l({children:e,className:a}){return t.jsx("div",{className:(0,r.cn)("pb-1 border-b border-b-primary",a),children:t.jsx("span",{className:"uppercase text-primary text-sm",children:e})})}},2025:(e,a,s)=>{"use strict";s.d(a,{u:()=>i});var t=s(10326),r=s(62288),l=s(77863);function i({children:e,title:a,description:s,actions:i,trigger:d,contentProps:o,footerProps:n,...c}){return t.jsx(t.Fragment,{children:(0,t.jsxs)(r.Vq,{...c,children:[d,(0,t.jsxs)(r.cZ,{hideCloseButton:!0,className:(0,l.cn)("flex flex-col max-h-[90%] gap-y-4 p-0 m-0 sm:max-w-xl",o?.className),...o,children:[(0,t.jsxs)(r.fK,{className:(0,l.cn)(a||s?"":"hidden","border-b border-b-border px-4 py-4"),children:[t.jsx(r.$N,{className:(0,l.cn)(a?"":"hidden"),children:a}),t.jsx(r.Be,{className:(0,l.cn)(s?"":"hidden"),children:s})]}),t.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto px-4 py-2",children:e}),t.jsx(r.cN,{className:(0,l.cn)("border-t border-t-border px-4 py-2 items-center w-full",i?"":"hidden",n?.className),...n,children:i})]})]})})}},99463:(e,a,s)=>{"use strict";s.d(a,{w:()=>m});var t=s(10326),r=s(17577),l=s(74723),i=s(58464),d=s(7890),o=s(34474),n=s(31048),c=s(53313),f=s(90772),u=s(77863);function m({id:e,label:a,hide:s,title:m,description:x,data:h,disabled:p,onSave:g}){let b=(0,r.useMemo)(()=>{let a=!1;return Object.values(h).forEach(s=>{s[e]&&(a=!0)}),a},[h,e]),{reset:y,watch:N,setValue:j,handleSubmit:v}=(0,l.cI)({defaultValues:{...i.$7,...h}}),w=N("fontSize"),R=N("fontWeight"),C=N("fontStyle"),Z=N("textColor"),_=v(g),[$,k]=(0,r.useState)(!1);return s?null:t.jsx(t.Fragment,{children:(0,t.jsxs)(d.yo,{onOpenChange:e=>{y({...i.$7,...h}),k(e)},children:[t.jsx(d.aM,{asChild:!0,children:t.jsx(f.z,{variant:"link",className:(0,u.cn)("p-0 text-xs",!b&&"text-muted-foreground/80 hover:text-muted-foreground"),children:a||`${b?"Update":"Set"} preferences`})}),(0,t.jsxs)(d.ue,{hideCloseButton:!0,className:"px-0 py-0 flex flex-col gap-y-4 h-full",children:[(0,t.jsxs)(d.Tu,{className:"px-4 py-4 border-b border-b-border",children:[t.jsx(d.bC,{children:m}),t.jsx(d.Ei,{className:x?"":"hidden",children:x})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-4 flex flex-col gap-y-6",children:$&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex gap-x-2 items-center",children:[t.jsx(n._,{secondary:!0,htmlFor:`fontSize.${e}`,children:"Font size"}),t.jsx("div",{children:(0,t.jsxs)(o.Ph,{value:w[e]||"default",required:!0,name:`fontSize.${e}`,disabled:p,onValueChange:a=>{let s=a||void 0;"default"===s&&(s=void 0),j(`fontSize.${e}`,s,{shouldDirty:!0})},children:[t.jsx(o.i4,{children:t.jsx(o.ki,{placeholder:"Default"})}),t.jsx(o.Bw,{children:t.jsx(o.DI,{children:[{label:"Default",value:"default"},{label:"Extra small",value:"xs"},{label:"Small",value:"sm"},{label:"Large",value:"lg"},{label:"Extra large",value:"xl"}].map(e=>t.jsx(o.Ql,{value:e.value,children:e.label},e.value))})})]})})]}),t.jsx("div",{children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[!!Z[e]&&(0,t.jsxs)("div",{className:"flex gap-x-2 items-center",children:[t.jsx(n._,{secondary:!0,htmlFor:`textColor.${e}`,children:"Text color"}),t.jsx("input",{type:"color",value:Z[e],onChange:a=>j(`textColor.${e}`,a.target.value,{shouldDirty:!0})})]}),(0,t.jsxs)("div",{className:"flex gap-x-2",children:[t.jsx(c.X,{id:`defaultTextColor.${e}`,name:`defaultTextColor.${e}`,disabled:p,checked:!Z[e],onCheckedChange:()=>{let a=Z[e]?void 0:"#000000";j(`textColor.${e}`,a,{shouldDirty:!0})}}),t.jsx(n._,{secondary:!0,htmlFor:`defaultTextColor.${e}`,children:"Default text color"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex gap-x-2",children:[t.jsx(c.X,{name:"bold",id:"bold",disabled:p,checked:"bold"===R[e],onCheckedChange:()=>j(`fontWeight.${e}`,R[e]?void 0:"bold",{shouldDirty:!0})}),t.jsx(n._,{secondary:!0,htmlFor:"bold",children:"Bold"})]}),(0,t.jsxs)("div",{className:"flex gap-x-2",children:[t.jsx(c.X,{name:"italic",id:"italic",disabled:p,checked:(C[e]||[]).includes("italic"),onCheckedChange:()=>{let a=C[e]||[];a.includes("italic")?a=a.filter(e=>"italic"!==e):a.push("italic"),a.length||(a=void 0),j(`fontStyle.${e}`,a,{shouldDirty:!0})}}),t.jsx(n._,{secondary:!0,htmlFor:"italic",children:"Italic"})]})]})]})}),(0,t.jsxs)(d.FF,{className:"px-4 py-4 border-t border-t-border",children:[t.jsx("div",{className:"ml-auto"}),t.jsx(d.sw,{asChild:!0,children:t.jsx(f.z,{variant:"outline",children:"Cancel"})}),t.jsx(d.sw,{asChild:!0,children:t.jsx(f.z,{disabled:p,onClick:()=>_(),children:"Save"})})]})]})]})})}},62288:(e,a,s)=>{"use strict";s.d(a,{$N:()=>p,Be:()=>g,GG:()=>f,Vq:()=>o,cN:()=>h,cZ:()=>m,fK:()=>x,hg:()=>n});var t=s(10326),r=s(17577),l=s(98958),i=s(94019),d=s(77863);let o=l.fC,n=l.xz,c=l.h_,f=l.x8,u=r.forwardRef(({className:e,...a},s)=>t.jsx(l.aV,{ref:s,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));u.displayName=l.aV.displayName;let m=r.forwardRef(({className:e,children:a,hideCloseButton:s,...r},o)=>(0,t.jsxs)(c,{children:[t.jsx(u,{}),(0,t.jsxs)(l.VY,{ref:o,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[a,!0!==s&&(0,t.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(i.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=l.VY.displayName;let x=({className:e,...a})=>t.jsx("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});x.displayName="DialogHeader";let h=({className:e,...a})=>t.jsx("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});h.displayName="DialogFooter";let p=r.forwardRef(({className:e,...a},s)=>t.jsx(l.Dx,{ref:s,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));p.displayName=l.Dx.displayName;let g=r.forwardRef(({className:e,...a},s)=>t.jsx(l.dk,{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",e),...a}));g.displayName=l.dk.displayName},31048:(e,a,s)=>{"use strict";s.d(a,{_:()=>n});var t=s(10326),r=s(17577),l=s(34478),i=s(28671),d=s(77863);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=r.forwardRef(({className:e,secondary:a,error:s,...r},i)=>t.jsx(l.f,{ref:i,className:(0,d.cn)(o(),a&&"text-xs",s?"text-danger":"",e),...r}));n.displayName=l.f.displayName},88846:(e,a,s)=>{"use strict";s.d(a,{E:()=>o,m:()=>n});var t=s(10326),r=s(17577),l=s(18623),i=s(53982),d=s(77863);let o=r.forwardRef(({className:e,...a},s)=>t.jsx(l.fC,{className:(0,d.cn)("grid gap-2",e),...a,ref:s}));o.displayName=l.fC.displayName;let n=r.forwardRef(({className:e,...a},s)=>t.jsx(l.ck,{ref:s,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:t.jsx(l.z$,{className:"flex items-center justify-center",children:t.jsx(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));n.displayName=l.ck.displayName},34474:(e,a,s)=>{"use strict";s.d(a,{Bw:()=>p,DI:()=>f,Ph:()=>c,Ql:()=>b,i4:()=>m,ki:()=>u,n5:()=>g});var t=s(10326),r=s(17577),l=s(18792),i=s(941),d=s(96633),o=s(32933),n=s(77863);let c=l.fC,f=l.ZA,u=l.B4,m=r.forwardRef(({className:e,children:a,error:s,...r},d)=>(0,t.jsxs)(l.xz,{ref:d,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s&&"border-danger",e),...r,children:[a,t.jsx(l.JO,{asChild:!0,children:t.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=l.xz.displayName;let x=r.forwardRef(({className:e,...a},s)=>t.jsx(l.u_,{ref:s,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(d.Z,{className:"h-4 w-4"})}));x.displayName=l.u_.displayName;let h=r.forwardRef(({className:e,...a},s)=>t.jsx(l.$G,{ref:s,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(i.Z,{className:"h-4 w-4"})}));h.displayName=l.$G.displayName;let p=r.forwardRef(({className:e,children:a,position:s="popper",...r},i)=>t.jsx(l.h_,{children:(0,t.jsxs)(l.VY,{ref:i,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[t.jsx(x,{}),t.jsx(l.l_,{className:(0,n.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),t.jsx(h,{})]})}));p.displayName=l.VY.displayName;let g=r.forwardRef(({className:e,...a},s)=>t.jsx(l.__,{ref:s,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a}));g.displayName=l.__.displayName;let b=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(l.ck,{ref:r,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(l.wU,{children:t.jsx(o.Z,{className:"h-4 w-4"})})}),t.jsx(l.eT,{children:a})]}));b.displayName=l.ck.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(l.Z0,{ref:s,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.Z0.displayName},87673:(e,a,s)=>{"use strict";s.d(a,{g:()=>i});var t=s(10326),r=s(17577),l=s(77863);let i=r.forwardRef(({className:e,noRing:a,...s},r)=>t.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a&&"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",e),ref:r,...s}));i.displayName="Textarea"},58464:(e,a,s)=>{"use strict";s.d(a,{$7:()=>t,Tf:()=>l,m1:()=>r,ph:()=>i});let t={fontSize:{},fontWeight:{},fontStyle:{},textColor:{},backgroundColor:{},highlight:{}},r=[{label:"Admission",value:"admission"},{label:"Discharge",value:"discharge"},{label:"Neolab",value:"neolab"}],l=[{value:"checklist",label:"Checklist"},{value:"form",label:"Form"},{value:"management",label:"Management"},{value:"multi_select",label:"Multiple choice list"},{value:"single_select",label:"Single choice list"},{value:"progress",label:"Progress"},{value:"timer",label:"Timer"},{value:"yesno",label:"Yes/No"},{value:"zw_edliz_summary_table",label:"EDLIZ summary table (ZW)"},{value:"mwi_edliz_summary_table",label:"EDLIZ summary table (MWI)"},{value:"diagnosis",label:"Diagnosis"}],i=[{value:"risk",label:"Risk factor"},{value:"sign",label:"Sign/Symptom"}]},82617:(e,a,s)=>{"use strict";s.d(a,{ScriptsContextProvider:()=>c,h:()=>n});var t=s(10326),r=s(17577),l=s(35047),i=s(15491),d=s(12260);let o=(0,r.createContext)(null),n=()=>(0,r.useContext)(o);function c({children:e,...a}){let s=function({}){let e=(0,l.useRouter)(),{scriptId:a}=(0,l.useParams)(),{parsed:s}=(0,d.l)(),t=(0,r.useCallback)(()=>{e.push("/")},[e]),o=(0,r.useCallback)(()=>{e.push(`/script/${a}?${i.Z.stringify({...s,section:"screens"})}`)},[e,s,a]);return{onCancelDiagnosisForm:(0,r.useCallback)(()=>{e.push(`/script/${a}?${i.Z.stringify({...s,section:"diagnoses"})}`)},[e,s,a]),onCancelScreenForm:o,onCancelScriptForm:t}}(a);return t.jsx(o.Provider,{value:{...a,...s},children:e})}},61892:(e,a,s)=>{"use strict";function t(e){return null==e||""===e}s.d(a,{x:()=>t})},41236:(e,a,s)=>{"use strict";s.d(a,{_:()=>o});var t=s(19510),r=s(57371),l=s(39755),i=s(24569),d=s(46697);function o({title:e,backLink:a,children:s}){return t.jsx("div",{className:"pb-20",children:t.jsx(i.V,{className:"flex flex-col gap-y-4",children:t.jsx(d.Zb,{children:(0,t.jsxs)(d.aY,{className:"p-0",children:[!!e&&(0,t.jsxs)("div",{className:"text-xl flex items-center gap-x-4 mb-4 p-4",children:[!!a&&t.jsx(r.default,{href:a,children:t.jsx(l.Z,{className:"h-5 w-5"})}),t.jsx("span",{children:e})]}),s]})})})})}},95602:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>g});var t=s(19510),r=s(58585),l=s(13442),i=s(47080),d=s(2111),o=s(68570);let n=(0,o.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor/contexts/scripts/index.tsx`),{__esModule:c,$$typeof:f}=n;n.default,(0,o.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor/contexts/scripts/index.tsx#ScriptsContext`),(0,o.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor/contexts/scripts/index.tsx#useScriptsContext`);let u=(0,o.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor/contexts/scripts/index.tsx#ScriptsContextProvider`);var m=s(85431),x=s(66267),h=s(24569),p=s(46697);async function g({children:e}){let{user:a,yes:s}=await (0,x.canAccessPage)();if(a||(0,r.redirect)("/login"),!s)return t.jsx(h.V,{children:t.jsx(p.Zb,{children:t.jsx(p.aY,{className:"p-4 text-xl text-center text-danger bg-danger/10",children:"You don't have sufficient rights to access this page!"})})});let o=await (0,d.getHospitals)();return(0,t.jsxs)(t.Fragment,{children:[t.jsx(m.D,{children:"Scripts"}),t.jsx(u,{...l,...i,hospitals:o,getHospitals:d.getHospitals,children:e})]})}},17162:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(19510),r=s(21113),l=s(24569),i=s(46697);function d(){return t.jsx(l.V,{children:t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"p-0",children:t.jsx(r.w,{loading:!0,maxRows:25,columns:[{name:"Key"},{name:"Label"},{name:"Description"},{name:"Action",align:"right",cellClassName:"w-20"}],data:[]})})})})}},47080:(e,a,s)=>{"use strict";s.r(a),s.d(a,{uploadFile:()=>n});var t=s(24330);s(60166);var r=s(9576),l=s(61460),i=s(57435),d=s(44652),o=s(66267);async function n(e,a){let s={success:!1,file:null};try{for(let t of(await (0,o.isAllowed)(["upload_files"]),Array.from(e.entries()))){let[i,o]=t;if("object"==typeof o){let t=Buffer.from(await o.arrayBuffer()),i=e.get("fileId")?.toString()||(0,r.Z)(),n={...(0,d.R)(e.get("metadata")?.toString()||"{}")},c=(e.get("size")?function(e,a){if("0"==`${e}`)return 0;let s=`${e||""}`.replaceAll(" ",""),[t,r]=(s=s.includes(".")?s.replaceAll(",",""):s.split(",").length>2?s.replaceAll(",",""):s.replaceAll(",",".")).split("."),l=!t||isNaN(Number(t))?"":t;return""==(l+=!r||isNaN(Number(r))?"":`.${r}`)||void 0===l||isNaN(Number(l))?a?.notNull?0:null:Number(l)}((0,d.R)(e.get("size")?.toString())):0)||o.size,f=e.get("filename")?.toString()||o.name,u=[i,f].filter(e=>e).join("__");(n.width||n.height)&&(u=`${u}?w=${n.width}&h=${n.height}`),s=await (0,l.G)({fileId:i,data:t,filename:u,size:c,contentType:e.get("contentType")?.toString()||o.type,metadata:n},a)}}}catch(e){s.success=!1,s.errors=[e.message],i.Z.error("uploadFile ERROR",e.message)}finally{return s}}(0,s(40618).h)([n]),(0,t.j)("488c9e37b52de03428b134f457aa4ea8ece4fe52",n)},2111:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$ACTION_0:()=>h,$$ACTION_1:()=>g,$$ACTION_2:()=>y,$$ACTION_3:()=>j,$$ACTION_4:()=>w,countHospitals:()=>p,deleteHospitals:()=>x,getHospital:()=>N,getHospitals:()=>b,saveHospitals:()=>v});var t=s(24330);s(60166);var r=s(57745),l=s(57435),i=s(10413),d=s(57418),o=s(88317);async function n(e){let a={success:!1};try{let s=e.filter(e=>e.id),t=e.filter(e=>!e.id),l=[];for(let e of s)try{await i.Z.update(d.hospitals).set(e).where((0,r.eq)(d.hospitals.id,e.id))}catch(e){l.push(e.message)}t.length&&await i.Z.insert(d.hospitals).values(t),l.length?a.errors=l:a.success=!0}catch(e){a.success=!1,a.errors=[e.message],l.Z.error("_saveHospitals ERROR",e.message)}finally{return a?.errors?.length||o.Z.emit("data_changed","save_hospitals"),a}}async function c(e){let a={success:!1},{ids:s,hospitalsIds:t,confirmDeleteAll:n}={...e};try{let e=[s?.length?(0,r.d3)(d.hospitals.id,s):void 0,t?.length?(0,r.d3)(d.hospitals.hospitalId,t):void 0].filter(e=>e);if(!e.length&&!n)throw Error("Please confirm that you want to delete all the hospitals!");await i.Z.delete(d.hospitals).where((0,r.xD)(...e)),a.success=!0}catch(e){a.success=!1,a.errors=[e.message],l.Z.error("_deleteHospitals ERROR",e.message)}finally{return a?.errors?.length||o.Z.emit("data_changed","delete_hospitals"),a}}var f=s(88453),u=s(66267),m=s(40618);let x=(0,t.j)("6de319d88ede8d5835179324860b5e1ff73d9704",h);async function h(...e){try{return await (0,u.isAllowed)(),await c(...e)}catch(e){return l.Z.error("deleteHospitals ERROR",e.message),{errors:[e.message],success:!1}}}let p=(0,t.j)("71e5d401b0a17ddbc2421e65bac974cca1b7c7a7",g);async function g(...e){try{return await (0,u.isAllowed)(),await (0,f.Py)(...e)}catch(e){return l.Z.error("countHospitals ERROR",e.message),{errors:[e.message],data:0}}}let b=(0,t.j)("154f78406dd26c01e23c8e2ef62c68bdf4e1abcf",y);async function y(...e){try{return await (0,u.isAllowed)(),await (0,f.O8)(...e)}catch(e){return l.Z.error("getHospitals ERROR",e.message),{errors:[e.message],data:[]}}}let N=(0,t.j)("543eca7d1d5d6f1f356da58f10c82babfdbf02f6",j);async function j(...e){return await (0,u.isAllowed)(),await (0,f.C9)(...e)}let v=(0,t.j)("5d9cef658a17d9e70bae50010807b43db6139a16",w);async function w(...e){try{return await (0,u.isAllowed)(),await n(...e)}catch(e){return l.Z.error("getSys ERROR",e.message),{errors:[e.message],data:void 0,success:!1}}}(0,m.h)([x,p,b,N,v]),(0,t.j)("e7b323b5a91d3ba50c223a3ebae732dba4578b76",x),(0,t.j)("a73b0dc955eb46a83ccb322ce8d75df54bb64801",p),(0,t.j)("f7c1f5ff22d757d951b19ffc8a35ce8b645bb416",b),(0,t.j)("38b982b33c6c0b287d82028b1f16e51b649bb0d8",N),(0,t.j)("bacdad7028d175f340f534690829ca2e20a8ccf5",v)},24569:(e,a,s)=>{"use strict";s.d(a,{V:()=>l});var t=s(19510),r=s(50650);function l({className:e,...a}){return t.jsx("div",{...a,className:(0,r.cn)("w-full max-w-screen-xl mx-auto p-5",e)})}},21113:(e,a,s)=>{"use strict";s.d(a,{w:()=>d});var t=s(68570);let r=(0,t.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor/components/data-table/index.tsx`),{__esModule:l,$$typeof:i}=r;r.default;let d=(0,t.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor/components/data-table/index.tsx#DataTable`)},46697:(e,a,s)=>{"use strict";s.d(a,{Zb:()=>i,aY:()=>d});var t=s(19510),r=s(71159),l=s(50650);let i=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a})).displayName="CardHeader",r.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a})).displayName="CardTitle",r.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let d=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...a}));d.displayName="CardContent",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},61460:(e,a,s)=>{"use strict";s.d(a,{G:()=>o});var t=s(88317),r=s(57435),l=s(10413),i=s(57418),d=s(89114);async function o(e,a){let s={success:!1,file:null};try{if(!e.fileId)throw Error("Missing fileId");if(!e.data)throw Error("No file uploaded");await l.Z.insert(i.files).values(e);let r=await (0,d._I)(e.fileId);if(!r)throw Error("Failed to upload file");s.success=!0,s.file=r.file,a?.broadcastAction&&t.Z.emit("data_changed","upload_file")}catch(e){s.success=!1,s.errors=[e.message],r.Z.error("_uploadFile ERROR",e.message)}finally{return s}}},89114:(e,a,s)=>{"use strict";s.d(a,{_I:()=>o,KU:()=>d});var t=s(57745),r=s(10413),l=s(57418),i=s(57435);async function d(e){try{return{file:await r.Z.query.files.findFirst({where:(0,t.eq)(l.files.fileId,e)})||null}}catch(e){return i.Z.error("_getFiles ERROR",e.message),{errors:[e.message],file:null}}}async function o(e){try{return{file:await r.Z.query.files.findFirst({where:(0,t.eq)(l.files.fileId,e),columns:{contentType:!0,fileId:!0,filename:!0,size:!0,metadata:!0,createdAt:!0}})||null}}catch(e){return i.Z.error("_getFiles ERROR",e.message),{errors:[e.message],file:null}}}},88453:(e,a,s)=>{"use strict";s.d(a,{Py:()=>f,C9:()=>n,O8:()=>o});var t=s(57745),r=s(30900),l=s(10413),i=s(57418),d=s(57435);async function o(e){try{let{hospitalsIds:a}={...e},s=a||[],d=s?.length?(0,t.d3)(i.hospitals.hospitalId,s.filter(e=>r.Z(e))):void 0,o=s?.length?(0,t.d3)(i.hospitals.oldHospitalId,s.filter(e=>!r.Z(e))):void 0,n=[(0,t.Ft)(i.hospitals.deletedAt),...d&&o?[(0,t.or)(d,o)]:[]];return{data:(await l.Z.select({hospital:i.hospitals}).from(i.hospitals).where(n.length?(0,t.xD)(...n):void 0)).map(e=>e.hospital)}}catch(e){return d.Z.error("_getHospitals ERROR",e.message),{data:[],errors:[e.message]}}}async function n(e){let{hospitalId:a}={...e};try{if(!a)throw Error("Missing hospitalId");let e=r.Z(a)?(0,t.eq)(i.hospitals.hospitalId,a):void 0,s=r.Z(a)?void 0:(0,t.eq)(i.hospitals.oldHospitalId,a);return{data:await l.Z.query.hospitals.findFirst({where:(0,t.xD)((0,t.Ft)(i.hospitals.deletedAt),e||s)})}}catch(e){return d.Z.error("_getHospital ERROR",e.message),{errors:[e.message]}}}var c=s(60938);async function f(){try{let[{count:e}]=await l.Z.select({count:(0,c.QX)()}).from(i.hospitals);return{data:e}}catch(e){return d.Z.error("_getHospitals ERROR",e.message),{data:0,errors:[e.message]}}}},44652:(e,a,s)=>{"use strict";function t(e){try{return JSON.parse(e)}catch(e){return null}}s.d(a,{R:()=>t})}};