"use strict";exports.id=7090,exports.ids=[7090],exports.modules={82179:(e,i,a)=>{a.d(i,{A:()=>$});var s=a(10326),l=a(17577),n=a(35047),r=a(15491),t=a(47463),d=a(2165),o=a(7890),u=a(34474),m=a(81646),c=a(53313),g=a(90772),h=a(54432),x=a(87673),y=a(31048),v=a(11870),f=a(75172),p=a(58464),b=a(46670),j=a(79131),N=a(51605),F=a(3529);a(37530);var C=a(24875);let w=e=>{if(e)return e?.key||e?.drug||e?.feed||e?.fluid||e?.name||e?.title||void 0},A=[{value:"drug",label:"Drug"},{value:"fluid",label:"Fluid"}],I=(e,i="drug")=>({itemId:`${e?.itemId||(0,t.Z)()}`,type:`${e?.type||i}`,key:`${e?.key||""}`,keyId:`${e?.keyId||""}`,drug:`${e?.drug||""}`,minGestation:`${e?.minGestation===null?"":e?.minGestation}`,maxGestation:`${e?.maxGestation===null?"":e?.maxGestation}`,minWeight:`${e?.minWeight===null?"":e?.minWeight}`,maxWeight:`${e?.maxWeight===null?"":e?.maxWeight}`,minAge:`${e?.minAge===null?"":e?.minAge}`,maxAge:`${e?.maxAge===null?"":e?.maxAge}`,dosage:`${e?.dosage===null?"":e?.dosage}`,dosageMultiplier:`${e?.dosageMultiplier===null?"":e?.dosageMultiplier}`,hourlyFeed:`${e?.hourlyFeed===null?"":e?.hourlyFeed}`,hourlyFeedDivider:`${e?.hourlyFeedDivider===null?"":e?.hourlyFeedDivider}`,dayOfLife:`${e?.dayOfLife||""}`,dosageText:`${e?.dosageText||""}`,managementText:`${e?.managementText||""}`,gestationKey:`${e?.gestationKey||""}`,weightKey:`${e?.weightKey||""}`,diagnosisKey:`${e?.diagnosisKey||""}`,gestationKeyId:`${e?.gestationKeyId||""}`,weightKeyId:`${e?.weightKeyId||""}`,diagnosisKeyId:`${e?.diagnosisKeyId||""}`,condition:`${e?.condition||""}`,administrationFrequency:`${e?.administrationFrequency||""}`,drugUnit:`${e?.drugUnit||""}`,routeOfAdministration:`${e?.routeOfAdministration||""}`,ageKey:`${e?.ageKey||""}`,ageKeyId:`${e?.ageKeyId||""}`,validationType:`${e?.validationType||"default"}`}),K=e=>{if(!e)return null;let{isDraft:i,draftCreatedByUserId:a,isDeleted:s,preferences:l,...n}=e;return{...n}};function $({disabled:e,item:i,floating:a,onChange:t}){let $=(0,N.v)({isDraft:!!i?.isDraft,userId:i?.draftCreatedByUserId});e=e||$;let k=(0,n.useRouter)(),G=(0,n.useSearchParams)(),W=(0,l.useMemo)(()=>r.Z.parse(G.toString()),[G]),{itemId:D,addItem:T}=W,[M,_]=(0,d.Z)(),[S,L]=(0,d.Z)(),[q,Z]=(0,l.useState)(!1),[O,U]=(0,l.useState)(I(i,T)),{keys:z,loading:V}=(0,f.a)(),{authenticatedUser:R}=(0,F.b)(),{confirm:B}=(0,b.t)(),H=(0,l.useRef)(null),P=(0,l.useRef)(null);(0,l.useRef)(null);let E=(0,l.useCallback)(async()=>{let e={...O,minWeight:O.minWeight?Number(O.minWeight):null,maxWeight:O.maxWeight?Number(O.maxWeight):null,minGestation:O.minGestation?Number(O.minGestation):null,maxGestation:O.maxGestation?Number(O.maxGestation):null,hourlyFeed:O.hourlyFeed?Number(O.hourlyFeed):null,hourlyFeedDivider:O.hourlyFeedDivider?Number(O.hourlyFeedDivider):null,minAge:O.minAge?Number(O.minAge):null,maxAge:O.maxAge?Number(O.maxAge):null,dosage:O.dosage?Number(O.dosage):null,dosageMultiplier:O.dosageMultiplier?Number(O.dosageMultiplier):null,type:O.type},a=K(e),s=e.itemId,l=async()=>{try{if(!i&&a&&s){let i=(await C.pb.getEntityChanges(s,"drugsLibraryItem")).find(e=>"create"===e.action),l=w(e)||"Drugs Library Item",n=w(e)||"New Library Item";i?.id?await C.pb.updateChange(i.id,{fieldName:n,newValue:a,timestamp:Date.now(),userId:R?.userId,userName:R?.displayName,entityTitle:l,fullSnapshot:a}):await C.pb.addChange({entityType:"drugsLibraryItem",entityId:s,entityTitle:l,action:"create",fieldPath:"drugsLibraryItem",fieldName:n,oldValue:null,newValue:a,userId:R?.userId,userName:R?.displayName,fullSnapshot:a})}else H.current&&P.current&&a&&await H.current.trackChanges(a,"Drugs library item saved")}catch(e){console.error("Failed to track drugs library changes",e)}await t(e),Z(!1)};i&&O.key!==i?.key?B(()=>{l()},{danger:!0,title:"Confirm key change",message:`
                    <p class="text-xl">Are you sure you want to change key?</p>
                    <p>All references to the old key (${i.key}) will also be updated to: ${O.key}</p>
                `,positiveLabel:"Yes, keep changes",negativeLabel:"No, do not save"}):await l()},[O,i,t,B,R?.userId,R?.displayName]),Y=(0,l.useCallback)(()=>{Z(!1),U(I(void 0,T)),k.push(`?${r.Z.stringify({...W,itemId:void 0,addItem:void 0})}`);let e=_?.top||0;setTimeout(()=>window.scrollTo({top:e}),500)},[W,_,k,T]),{isFormComplete:J,isDrug:Q,isFluid:X,validateWithCondition:ee}=(0,l.useMemo)(()=>{let e="drug"===O.type,i="fluid"===O.type,a="condition"===O.validationType,s=!!(O.type&&O.key&&O.drug&&O.managementText&&O.dosageText&&O.administrationFrequency&&O.drugUnit&&O.routeOfAdministration&&O.dosage&&a?O.condition:O.weightKey&&O.minWeight&&O.maxWeight&&O.gestationKey&&O.minGestation&&O.maxGestation&&O.ageKey&&O.minAge&&O.maxAge&&Number(O.minGestation||"0")<=Number(O.maxGestation||"0")&&Number(O.minWeight||"0")<=Number(O.maxWeight||"0")&&Number(O.minAge||"0")<=Number(O.maxAge||"0")&&(!e||O.diagnosisKey)&&(!i||O.condition&&O.hourlyFeed&&O.hourlyFeedDivider&&Number(O.hourlyFeed||"0")<=Number(O.hourlyFeed||"0")&&Number(O.hourlyFeedDivider||"0")<=Number(O.hourlyFeedDivider||"0")));return{isDrug:e,isFluid:i,isFormComplete:s,validateWithCondition:a}},[O]),ei=(0,l.useCallback)(()=>!J||V||e,[J,V,e]),ea=(0,s.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx(y._,{secondary:!0,htmlFor:"type",children:"Type *"}),(0,s.jsxs)(u.Ph,{value:O.type,required:!0,name:"type",disabled:e,onValueChange:e=>{let a=I(i?.type===e?i:void 0,T);B(()=>U(i=>({...i,type:e,hourlyFeed:a.hourlyFeed,hourlyFeedDivider:a.hourlyFeedDivider,condition:a.condition,diagnosisKey:a.diagnosisKey,drugUnit:a.drugUnit})),{danger:!0,title:"Confirm type change",message:`
                                <p class="text-xl">Are you sure you want to change type?</p>
                                <ol style="list-style:auto;margin:10px;">
                                    <li>Some fields will be cleared as they do not apply on all types!</li>
                                    <li>All references to this ${O.type} will be removed.</li>
                                </ol>
                            `,positiveLabel:"Yes, change type",negativeLabel:"No, keep the current type"})},children:[s.jsx(u.i4,{children:s.jsx(u.ki,{placeholder:"Select type"})}),s.jsx(u.Bw,{children:s.jsx(u.DI,{children:A.map(e=>s.jsx(u.Ql,{value:e.value,children:e.label},e.value))})})]})]}),(0,s.jsxs)("div",{children:[s.jsx(y._,{secondary:!0,htmlFor:"key",children:"Key *"}),s.jsx(h.I,{name:"key",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.key,disabled:e,onChange:e=>U(i=>({...i,key:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"drug",children:[(0,j.Z)(O.type)," *"]}),s.jsx(h.I,{name:"drug",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.drug,disabled:e,onChange:e=>U(i=>({...i,drug:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"condition",children:["Condition ",ee?"*":""]}),s.jsx(x.g,{rows:3,name:"condition",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.condition,disabled:e,onChange:e=>U(i=>({...i,condition:e.target.value}))}),(0,s.jsxs)("span",{className:"font-bold opacity-50 text-xs",children:["e.g ",p._S]})]}),(0,s.jsxs)("div",{className:"flex gap-x-2",children:[s.jsx(c.X,{name:"validationType",id:"validationType",disabled:e,checked:"condition"===O.validationType,onCheckedChange:e=>U(e=>({...e,validationType:"condition"===e.validationType?"default":"condition"}))}),s.jsx(y._,{secondary:!0,htmlFor:"validationType",children:"Validate with conditional expression only"})]}),Q&&(0,s.jsxs)("div",{children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"diagnosisKey",children:["Diagnosis Key ",ee?"":"*"]}),s.jsx(x.g,{rows:3,name:"gestationKey",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.diagnosisKey,disabled:e,onChange:e=>U(i=>({...i,diagnosisKey:e.target.value}))}),s.jsx("span",{className:"font-bold opacity-50 text-xs",children:"e.g NSep,Premature,Dehyd"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"gestationKey",children:["Gestation Key ",ee?"":"*"]}),s.jsx(m.L,{modal:!0,value:`${O.gestationKey||""}`,disabled:e,onChange:([e])=>{U(i=>({...i,gestationKey:e.name,gestationKeyId:e?.uniqueKey}))}})]}),(0,s.jsxs)("div",{className:"flex gap-x-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"minGestation",children:["Min Gestation (weeks) ",ee?"":"*"]}),s.jsx(h.I,{name:"minGestation",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.minGestation,type:"number",disabled:e,onChange:e=>{let i=e.target.value,a=O.maxGestation;i||(a=""),U(e=>({...e,minGestation:i,maxGestation:a}))}})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"maxGestation",error:Number(O.minGestation||"0")>Number(O.maxGestation||"0"),children:["Max Gestation (weeks) ",ee?"":"*"]}),s.jsx(h.I,{name:"maxGestation",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.maxGestation,type:"number",disabled:e||!O.minGestation,min:O.minGestation,error:Number(O.minGestation||"0")>Number(O.maxGestation||"0"),onChange:e=>U(i=>({...i,maxGestation:e.target.value}))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"weightKey",children:["Weight Key ",ee?"":"*"]}),s.jsx(m.L,{modal:!0,value:`${O.weightKey||""}`,disabled:e,onChange:([e])=>{U(i=>({...i,weightKey:e.name,weightKeyId:e?.uniqueKey}))}})]}),(0,s.jsxs)("div",{className:"flex gap-x-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"minWeight",children:["Min Weight (grams) ",ee?"":"*"]}),s.jsx(h.I,{name:"minWeight",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.minWeight,type:"number",disabled:e,onChange:e=>{let i=e.target.value,a=O.maxWeight;i||(a=""),U(e=>({...e,minWeight:i,maxWeight:a}))}})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"maxWeight",error:Number(O.minWeight||"0")>Number(O.maxWeight||"0"),children:["Max Weight (grams) ",ee?"":"*"]}),s.jsx(h.I,{name:"maxWeight",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.maxWeight,type:"number",disabled:e||!O.minWeight,min:O.minWeight,error:Number(O.minWeight||"0")>Number(O.maxWeight||"0"),onChange:e=>U(i=>({...i,maxWeight:e.target.value}))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"ageKey",children:["Day of Life (Age) Key ",ee?"":"*"]}),s.jsx(m.L,{modal:!0,value:`${O.ageKey||""}`,disabled:e,onChange:([e])=>{U(i=>({...i,ageKey:e.name,ageKeyId:e?.uniqueKey}))}})]}),(0,s.jsxs)("div",{className:"flex gap-x-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"minAge",children:["Min Day of Life (Age - hours) ",ee?"":"*"]}),s.jsx(h.I,{name:"minAge",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.minAge,type:"number",disabled:e,onChange:e=>{let i=e.target.value,a=O.maxAge;i||(a=""),U(e=>({...e,minAge:i,maxAge:a}))}})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"maxAge",error:Number(O.minAge||"0")>Number(O.maxAge||"0"),children:["Max Day of Life (Age - hours) ",ee?"":"*"]}),s.jsx(h.I,{name:"maxAge",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.maxAge,type:"number",disabled:e||!O.minAge,min:O.minAge,error:Number(O.minAge||"0")>Number(O.maxAge||"0"),onChange:e=>U(i=>({...i,maxAge:e.target.value}))})]})]}),X&&s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex gap-x-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx(y._,{secondary:!0,htmlFor:"hourlyFeed",children:"Hourly feed *"}),s.jsx(h.I,{name:"hourlyFeed",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.hourlyFeed,type:"number",disabled:e,onChange:e=>U(i=>({...i,hourlyFeed:e.target.value}))})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx(y._,{secondary:!0,htmlFor:"hourlyFeedDivider",children:"Hourly feed divider *"}),s.jsx(h.I,{name:"hourlyFeedDivider",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.hourlyFeedDivider,type:"number",disabled:e,onChange:e=>U(i=>({...i,hourlyFeedDivider:e.target.value}))})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(y._,{secondary:!0,htmlFor:"dosage",children:["Dose (e.g. ",X?"ml/kg/24hrs":"mg/kg",") *"]}),s.jsx(h.I,{name:"dosage",type:"number",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.dosage,disabled:e,onChange:e=>U(i=>({...i,dosage:e.target.value}))})]}),(0,s.jsxs)("div",{children:[s.jsx(y._,{secondary:!0,htmlFor:"dosageMultiplier",children:"Drug Dose Multiplier *"}),s.jsx(h.I,{name:"dosageMultiplier",type:"number",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.dosageMultiplier,disabled:e,onChange:e=>U(i=>({...i,dosageMultiplier:e.target.value}))})]}),(0,s.jsxs)("div",{children:[s.jsx(y._,{secondary:!0,htmlFor:"drugUnit",children:"Drug Unit *"}),s.jsx(h.I,{name:"drugUnit",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.drugUnit,disabled:e,onChange:e=>U(i=>({...i,drugUnit:e.target.value}))})]}),(0,s.jsxs)("div",{children:[s.jsx(y._,{secondary:!0,htmlFor:"administrationFrequency",children:"Administration Frequency *"}),s.jsx(h.I,{name:"administrationFrequency",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.administrationFrequency,disabled:e,onChange:e=>U(i=>({...i,administrationFrequency:e.target.value}))})]}),(0,s.jsxs)("div",{children:[s.jsx(y._,{secondary:!0,htmlFor:"routeOfAdministration",children:"Route of Administration *"}),s.jsx(h.I,{name:"routeOfAdministration",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.routeOfAdministration,disabled:e,onChange:e=>U(i=>({...i,routeOfAdministration:e.target.value}))})]}),(0,s.jsxs)("div",{children:[s.jsx(y._,{secondary:!0,htmlFor:"managementText",children:"Management text *"}),s.jsx(h.I,{name:"managementText",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.managementText,disabled:e,onChange:e=>U(i=>({...i,managementText:e.target.value}))})]}),(0,s.jsxs)("div",{children:[s.jsx(y._,{secondary:!0,htmlFor:"weight",children:"Dosage text *"}),s.jsx(h.I,{name:"dosageText",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",value:O.dosageText,disabled:e,onChange:e=>U(i=>({...i,dosageText:e.target.value}))})]})]});return(0,s.jsxs)(s.Fragment,{children:[V&&s.jsx(v.a,{overlay:!0}),s.jsx("div",{ref:M,children:!1===a?ea:s.jsx(o.yo,{open:q,onOpenChange:e=>{e||Y()},children:(0,s.jsxs)(o.ue,{hideCloseButton:!0,side:"right",className:"p-0 m-0 flex flex-col w-full max-w-full sm:max-w-[80%] md:max-w-[80%] lg:max-w-[50%]",children:[(0,s.jsxs)(o.Tu,{className:"flex flex-row items-center py-2 px-4 border-b border-b-border text-left sm:text-left",children:[(0,s.jsxs)(o.bC,{children:[T?"Add":"",D?"Edit":""," ",i?.type||T]}),s.jsx(o.Ei,{className:"hidden"})]}),s.jsx("div",{ref:S,className:"flex-1 py-2 px-0 overflow-y-auto",children:s.jsx("div",{className:"px-4",children:ea})}),(0,s.jsxs)("div",{className:"border-t border-t-border px-4 py-2 flex gap-x-2",children:[s.jsx("span",{className:"text-danger text-xs my-auto",children:"* Required"}),s.jsx("div",{className:"ml-auto"}),s.jsx(o.sw,{asChild:!0,children:s.jsx(g.z,{variant:"ghost",onClick:()=>{},children:"Cancel"})}),s.jsx(g.z,{onClick:()=>E(),disabled:ei(),children:"Save"})]})]})})})]})}},81646:(e,i,a)=>{a.d(i,{L:()=>t});var s=a(10326),l=a(17577),n=a(35392),r=a(49596);function t({value:e,type:i,disabled:a,modal:t,multiple:d,placeholder:o,error:u,onChange:m,filterDataKeys:c}){let{allDataKeys:g,extractDataKeys:h}=(0,r.M)(),x=(0,l.useMemo)(()=>{let e=g;return i&&""!==i.trim()&&(e=e.filter(e=>e.dataType===i)),c&&(e=e.filter(c)),e.map(e=>({label:e.name,value:e.uniqueKey,caption:e.dataType||"",description:e.label}))},[g,i,c]);return s.jsx(s.Fragment,{children:s.jsx(n.V,{multiple:d,modal:t,error:u,placeholder:`${e||""}`||o||"Select key",search:{placeholder:"Search data keys"},options:x,onSelect:e=>{let i=h(e.map(e=>e.value)).map(e=>({...e,children:h(e.options)}));m?.(i)}})})}},35392:(e,i,a)=>{a.d(i,{V:()=>c});var s=a(10326),l=a(17577),n=a(47206),r=a(32933),t=a(90772),d=a(54432),o=a(62288),u=a(77863),m=a(61198);function c({options:e,selected:i,...a}){i=Array.isArray(i)?i:i?[i]:[];let l=e.map(e=>({...e,value:`${e.value}`})),n=i.map(e=>`${e}`);if(!a.multiple){let[e]=Array.isArray(n)?n:[n];e&&l.find(i=>i.value===e)}return s.jsx(g,{...a,options:l,selected:n})}function g({modal:e,header:i,placeholder:a,search:c,multiple:g=!1,error:h=!1,disabled:x=!1,selected:y,options:v=[],trigger:f,onTrigger:p,onSelect:b}){let[j,N]=(0,l.useState)(""),F=(0,m.N)(j),[C,w]=(0,l.useState)([]),A=(0,l.useMemo)(()=>y?Array.isArray(y)?y.map(e=>v.find(i=>i?.value===e)).map(e=>e):v.filter(e=>e?.value===y)||[]:[],[y,v]),I=(0,l.useMemo)(()=>v.map(e=>{let i=A.map(e=>e?.value).map(e=>`${e||""}`).filter(e=>e).includes(`${e?.value}`);return i=i||C.includes(e.value),{...e,isSelected:i}}).sort((e,i)=>(e.disabled?1:0)-(i.disabled?1:0)).sort((e,i)=>{let a=e.isSelected?1:0;return(i.isSelected?1:0)-a}).filter(e=>JSON.stringify([e.value||"",e.label||"",e.description||""]).toLowerCase().match(F.toLowerCase())),[v,F,A,C]);return s.jsx(s.Fragment,{children:(0,s.jsxs)(o.Vq,{modal:e,onOpenChange:()=>{N(""),w([])},children:[s.jsx(o.hg,{asChild:!0,children:f||(0,s.jsxs)(t.z,{disabled:x,variant:"outline",className:(0,u.cn)("justify-between w-full",h&&"border border-destructive hover:bg-destructive/10"),onClick:p,children:[s.jsx("span",{className:A.length?"":"opacity-50",children:A[0]?.label||a||""}),s.jsx(n.Z,{className:"size-4 opacity-50"})]})}),(0,s.jsxs)(o.cZ,{hideCloseButton:!0,className:"flex flex-col max-h-[90%] gap-y-4 p-0 m-0 sm:max-w-xl",children:[(0,s.jsxs)(o.fK,{className:"border-b border-b-border px-4 py-4",children:[s.jsx(o.$N,{className:"hidden",children:""}),s.jsx(o.Be,{className:"hidden",children:""}),(0,s.jsxs)("div",{className:"flex items-center gap-x-4",children:[c?s.jsx("div",{className:"flex-1",children:s.jsx(d.I,{type:"search",placeholder:c.placeholder||"",value:j,onChange:e=>N(e.target.value)})}):null,i]})]}),s.jsx("div",{className:"flex-1 flex flex-col gap-y-1 overflow-y-auto px-4 py-2 overflow-x-hidden",children:I.map(e=>{let i=g?"button":o.GG;return s.jsx(l.Fragment,{children:s.jsx(i,{onClick:()=>{e.disabled||(e.isSelected?g?w(i=>i.filter(i=>i!==e.value)):b?.(A.filter(i=>i.value!==e.value)):g?w(i=>[...i,e.value]):b?.([e]))},className:(0,u.cn)("flex flex-col gap-y-1 border border-border p-2 rounded-md items-start text-left",e.disabled?"opacity-50 cursor-not-allowed":"transition-colors hover:bg-primary/20",e.isSelected&&"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground"),children:(0,s.jsxs)("div",{className:"flex items-center",children:[e.isSelected?s.jsx(r.Z,{className:"size-4 mr-2"}):null,(0,s.jsxs)("div",{children:[e.caption?s.jsx("div",{className:"text-xs opacity-60",dangerouslySetInnerHTML:{__html:e.caption||""}}):null,s.jsx("p",{children:e.label}),e.description?s.jsx("div",{className:"text-xs opacity-60",dangerouslySetInnerHTML:{__html:e.description||""}}):null]})]})})},e.value)})}),(0,s.jsxs)(o.cN,{className:"border-t border-t-border px-4 py-2 items-center w-full gap-x-2",children:[s.jsx(o.GG,{asChild:!0,children:s.jsx(t.z,{variant:"ghost",children:"Close"})}),!!C.length&&s.jsx(o.GG,{asChild:!0,children:s.jsx(t.z,{onClick:()=>{b?.(C.map(e=>I.find(i=>i.value===e)).filter(e=>e))},children:"Save"})})]})]})]})})}},9015:(e,i,a)=>{a.d(i,{Z:()=>s});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62881).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},69508:(e,i,a)=>{a.d(i,{Z:()=>s});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])}};