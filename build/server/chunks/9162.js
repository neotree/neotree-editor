"use strict";exports.id=9162,exports.ids=[9162],exports.modules={9162:(e,l,s)=>{s.d(l,{DataTable:()=>T});var a=s(10326),r=s(17577),t=s(9439),n=s(61541),c=s(99598),i=s(77863);let d=r.forwardRef(({className:e,...l},s)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",e),...l})}));d.displayName="Table";let o=r.forwardRef(({className:e,...l},s)=>a.jsx("thead",{ref:s,className:(0,i.cn)("[&_tr]:border-b",e),...l}));o.displayName="TableHeader";let u=r.forwardRef(({className:e,...l},s)=>a.jsx("tbody",{ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...l}));u.displayName="TableBody",r.forwardRef(({className:e,...l},s)=>a.jsx("tfoot",{ref:s,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...l})).displayName="TableFooter";let m=r.forwardRef(({className:e,...l},s)=>a.jsx("tr",{ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...l}));m.displayName="TableRow";let f=r.forwardRef(({className:e,...l},s)=>a.jsx("th",{ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...l}));f.displayName="TableHead";let x=r.forwardRef(({className:e,...l},s)=>a.jsx("td",{ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...l}));x.displayName="TableCell",r.forwardRef(({className:e,...l},s)=>a.jsx("caption",{ref:s,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...l})).displayName="TableCaption";var h=s(90772),g=s(53313),p=s(65304),b=s(60097),N=s(79256),j=s(25696),v=s(91216),w=s(47206);let y=[{value:"asc",label:"Asc",Icon:N.Z},{value:"desc",label:"Desc",Icon:j.Z},{value:"hide",label:"Hide",divider:!0,Icon:v.Z}],C=({column:e,value:l,onFilter:s})=>{let r=y.filter(e=>e.value===l)[0],t=r?.Icon||w.Z;return(0,a.jsxs)(b.h_,{children:[a.jsx(b.$F,{asChild:!0,children:(0,a.jsxs)(h.z,{variant:"ghost",size:"sm",className:" focus-visible:ring-0  focus-visible:ring-transparent  focus-visible:ring-offset-0 ",children:[a.jsx("span",{className:"mr-2",children:e.name}),a.jsx(t,{className:"w-4 h-4"})]})}),a.jsx(b.AW,{align:"end",children:y.filter(l=>"hide"!==l.value||!1!==e.canHide).map(e=>(0,a.jsxs)(b.Xi,{onClick:()=>s(e.value),className:(0,i.cn)(e.divider?"border-t":""),children:[a.jsx(e.Icon,{className:"w-4 h-4 mr-2"}),e.label]},e.value))})]})};var I=s(74723),k=s(54432);function R({inputPlaceholder:e,onSearch:l}){let s=(0,r.useRef)(null),t=(0,r.useRef)(null),[n,c]=(0,r.useState)(0),[i,d]=(0,r.useState)(!1),{register:o,watch:u,setValue:m}=(0,I.cI)({defaultValues:{searchValue:""}}),f=u("searchValue"),{ref:x,...h}=o("searchValue"),g=(0,r.useCallback)(e=>{x(e),e&&(s.current=e)},[x]);return a.jsx("div",{className:"w-full",children:a.jsx("form",{ref:t,children:a.jsx(k.I,{...h,ref:g,type:"search",placeholder:e||"Search...[title,description,hospital]",value:f,onChange:e=>{if(d(!0),m("searchValue",e.target.value,{shouldDirty:!0}),s.current){let l=e.target.selectionStart;requestAnimationFrame(()=>{s.current&&null!==l&&s.current.setSelectionRange(l,l)})}},className:"w-full"})})})}function S({title:e,search:l,headerActions:s}){return l||e||s?a.jsx(a.Fragment,{children:a.jsx("div",{className:"px-4 py-4 flex flex-col gap-y-2",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-2 md:flex-row md:gap-y-0 md:gap-x-2",children:[(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center gap-x-2",!e&&"hidden"),children:[!!e&&a.jsx("div",{className:(0,i.cn)("md:mr-auto","string"==typeof e?"text-2xl":""),children:e}),a.jsx("div",{className:"ml-auto"})]}),a.jsx("div",{className:(0,i.cn)("flex-1",!l&&"hidden"),children:!!l&&a.jsx(a.Fragment,{children:a.jsx(R,{...l})})}),a.jsx("div",{className:(0,i.cn)("flex flex-row flex-wrap gap-x-2 gap-y-1 ml-auto",!s&&"hidden"),children:s})]})})}):null}let T=e=>{let{selectable:l=!1,loading:s,sortable:b,tableClassname:N,tableRowClassname:j,tableBodyClassname:v,onSort:w,searchKeys:y}=e,I=(0,r.useRef)(null),k=function({props:e}){(0,r.useRef)(!1);let{selectable:l,sortable:s,selectedIndexes:a,columns:t,data:n,maxRows:c,onSelect:i,searchKeys:d}=e,[o,u]=(0,r.useState)({selected:{},columns:[],rows:[],skeletonRows:[],searchKeys:[]});(0,r.useCallback)(()=>l?{...a?.reduce((e,l)=>({...e,[l]:!0}),{})}:{},[a,l]);let m=(0,r.useCallback)(e=>{let l=[];u(s=>{let a=e.length===s.rows.length,r=Object.values(s.selected).filter(e=>e).length===s.rows.length,t={...s.selected};return e.forEach(e=>{t[e]=a?!r:!t[e]}),l=Object.keys(t).filter(e=>t[e]).map(e=>Number(e)),{...s,selected:t}}),i?.(l)},[u,i]);return{state:o,setState:u,setSelected:m,toggleColumn:e=>u(l=>{let s=[...l.columns].map(l=>({...l,filter:null,hidden:l.columnIndex===e?!l.hidden:l.hidden}));return{...l,columns:s}}),setFilter:(e,l)=>u(s=>{let a=[...s.columns].map(s=>{let a=s.columnIndex===e?l:null;return{...s,filter:a}}),r=a.filter(l=>l.columnIndex===e)[0],t=[...s.rows];return l&&(t=function({column:e,rows:l}){return l.sort((l,s)=>{let a=l.cells.filter(l=>l.columnIndex===e.columnIndex)[0].value||"",r=s.cells.filter(l=>l.columnIndex===e.columnIndex)[0].value||"",t=0;if("number"===e.filterType){let l=Number(a),s=Number(r);if(!(isNaN(l)||isNaN(s)))switch(e.filter){case"asc":t=l-s;break;case"desc":t=s-l}}else if("text"===e.filterType)switch(e.filter){case"asc":t=a.localeCompare(r);break;case"desc":t=r.localeCompare(a)}return t})}({rows:t,column:r})),{...s,columns:a,rows:t}})}}({props:e}),[R,T]=(0,r.useState)(""),[F,Z]=(0,r.useState)(""),{state:{columns:z,rows:O,skeletonRows:D,selected:H},setState:V,setFilter:E,setSelected:L,toggleColumn:M}=k,X=(0,r.useMemo)(()=>s?D:O,[s,D,O]),A=(0,r.useMemo)(()=>(console.log(z),z.filter(e=>!e.hidden&&e.name&&/title|name|key|ref|hospital|field|type/i.test(String(e.name))).map(e=>e.columnIndex)),[z]),_=(0,r.useCallback)(e=>{T(e.toLowerCase())},[]);(0,r.useEffect)(()=>{let e=setTimeout(()=>{Z(R)},300);return()=>clearTimeout(e)},[R]);let q=(0,r.useCallback)((e,l)=>{if(!l.trim())return e;let s=l.toLowerCase();return e.filter(e=>{for(let l of A){let a=e.cells[l],r=a?.value;if(null!=r&&String(r).toLowerCase().includes(s))return!0}let l=e.cells[0]?.value;if(null!=l){let e=y?.find(e=>String(e.position)===String(l));if(e&&e.keys.some(e=>e.toLowerCase().includes(s)))return!0}return!1})},[A]),$=(0,r.useMemo)(()=>q(X,F),[X,F,q]),B=(0,r.useCallback)((e,l)=>{let s=[];V(a=>{let r=(0,n.q)([...a.rows],e,l);return s=r.map((e,l)=>({oldIndex:e.rowIndex,newIndex:l})),{...a,rows:r}}),w?.(e,l,s),L([])},[V,w,L]);return(0,a.jsxs)(a.Fragment,{children:[a.jsx(S,{...e,search:{...e.search,onSearch:_}}),a.jsx(t.ZP,{allowDrag:!!b,onSortEnd:B,draggedItemClassName:"opacity-90 z-[9999999999999]",customHolderRef:I,children:a.jsx("div",{className:"space-y-4",children:(0,a.jsxs)(d,{className:(0,i.cn)("w-full overflow-x-auto",N),children:[a.jsx(o,{className:(0,i.cn)(e.theadClassName),children:(0,a.jsxs)(m,{children:[l&&a.jsx(f,{className:(0,i.cn)(z[0]?.cellClassName,"w-8"),children:a.jsx(g.X,{disabled:s,checked:!!$.length&&Object.values(H).filter(e=>e).length===$.length,onCheckedChange:()=>L($.map(e=>e.rowIndex))})}),b&&a.jsx(f,{className:(0,i.cn)(z[0]?.cellClassName,"w-4")}),z.map(l=>a.jsx(f,{colSpan:l.colSpan,align:l.align,className:(0,i.cn)(e.cellClassName,e.thClassName,l.cellClassName,l.thClassName,"px-2",l.hidden?"hidden":"",l.align?({left:"text-left",center:"text-center",right:"text-right",justify:"text-justify",char:""})[l.align]:""),children:(()=>{switch(l.filterType){case"number":case"text":return a.jsx(C,{column:l,value:l.filter,onFilter:e=>{"hide"===e?M(l.columnIndex):E(l.columnIndex,e)}});default:return a.jsx(h.z,{variant:"ghost",size:"sm",className:" focus-visible:ring-0  focus-visible:ring-transparent  focus-visible:ring-offset-0 hover:bg-transparent hover:text-primary ",children:l.name||""})}})()},l.id))]})}),(0,a.jsxs)(u,{ref:I,className:v,children:[!$.length&&a.jsx(m,{className:"p-0",children:a.jsx(x,{colSpan:z.length+(l?1:0)+(b?1:0),className:"p-4 text-center text-muted-foreground",children:e.noDataMessage||"No data to display"})}),$.map(n=>{let d={...e.getRowOptions?.({rowIndex:n.rowIndex})};return a.jsx(t.TR,{children:(0,a.jsxs)(m,{...d,className:(0,i.cn)(e.trClassName,"hover:bg-primary/10",H[n.rowIndex]?"bg-primary/10":"",j,d.className),children:[l&&a.jsx(x,{className:(0,i.cn)(z[0]?.cellClassName,"w-8"),children:a.jsx(g.X,{disabled:s,checked:!!H[n.rowIndex],onCheckedChange:()=>L([n.rowIndex])})}),b&&a.jsx(x,{className:(0,i.cn)(z[0]?.cellClassName,"w-4 cursor-move"),children:a.jsx(t.TI,{children:a.jsx(c.Z,{className:"w-4 h-4 text-muted-foreground"})})}),n.cells.map(l=>{let t=z[l.columnIndex],c={...e.getCellOptions?.({rowIndex:n.rowIndex,columnIndex:l.columnIndex})};return(0,r.createElement)(x,{...c,key:l.id,colSpan:t.colSpan,align:t.align,className:(0,i.cn)(e.cellClassName,e.tdClassName,t.cellClassName,t.tdClassName,"px-4",c.className,t.hidden?"hidden":"")},s?a.jsx(p.O,{className:"h-4 w-[120px] bg-black/10 dark:bg-white/10"}):t.cellRenderer?.(l)||l.value)})]})},n.id)})]})]})})})]})}},53313:(e,l,s)=>{s.d(l,{X:()=>i});var a=s(10326),r=s(17577),t=s(13635),n=s(32933),c=s(77863);let i=r.forwardRef(({className:e,...l},s)=>a.jsx(t.fC,{ref:s,className:(0,c.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...l,children:a.jsx(t.z$,{className:(0,c.cn)("flex items-center justify-center text-current"),children:a.jsx(n.Z,{className:"h-4 w-4"})})}));i.displayName=t.fC.displayName},54432:(e,l,s)=>{s.d(l,{I:()=>n});var a=s(10326),r=s(17577),t=s(77863);let n=r.forwardRef(({className:e,type:l,noRing:s,error:r,...n},c)=>a.jsx("input",{type:l,className:(0,t.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s&&"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",r&&"border-danger",r&&!s&&"focus-visible:ring-danger",e),ref:c,...n}));n.displayName="Input"}};