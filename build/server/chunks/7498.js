exports.id=7498,exports.ids=[7498],exports.modules={38861:(e,a,t)=>{Promise.resolve().then(t.bind(t,49596))},96948:(e,a,t)=>{"use strict";t.d(a,{Alert:()=>r});var l=t(96221),s=t(35047);function r(e){(0,s.useRouter)();let{alert:a}=(0,l.s)();return null}t(17577)},34474:(e,a,t)=>{"use strict";t.d(a,{Bw:()=>h,DI:()=>u,Ph:()=>c,Ql:()=>v,U$:()=>g,i4:()=>y,ki:()=>m,n5:()=>f});var l=t(10326),s=t(17577),r=t(44875),i=t(941),n=t(96633),o=t(32933),d=t(77863);let c=r.fC,u=r.ZA,m=r.B4,y=s.forwardRef(({className:e,children:a,error:t,...s},n)=>(0,l.jsxs)(r.xz,{ref:n,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t&&"border-danger",e),...s,children:[a,l.jsx(r.JO,{asChild:!0,children:l.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));y.displayName=r.xz.displayName;let p=s.forwardRef(({className:e,...a},t)=>l.jsx(r.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:l.jsx(n.Z,{className:"h-4 w-4"})}));p.displayName=r.u_.displayName;let b=s.forwardRef(({className:e,...a},t)=>l.jsx(r.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:l.jsx(i.Z,{className:"h-4 w-4"})}));b.displayName=r.$G.displayName;let h=s.forwardRef(({className:e,children:a,position:t="popper",...s},i)=>l.jsx(r.h_,{children:(0,l.jsxs)(r.VY,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...s,children:[l.jsx(p,{}),l.jsx(r.l_,{className:(0,d.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),l.jsx(b,{})]})}));h.displayName=r.VY.displayName;let f=s.forwardRef(({className:e,...a},t)=>l.jsx(r.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a}));f.displayName=r.__.displayName;let v=s.forwardRef(({className:e,children:a,...t},s)=>(0,l.jsxs)(r.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(r.wU,{children:l.jsx(o.Z,{className:"h-4 w-4"})})}),l.jsx(r.eT,{children:a})]}));v.displayName=r.ck.displayName;let g=s.forwardRef(({className:e,...a},t)=>l.jsx(r.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...a}));g.displayName=r.Z0.displayName},16722:(e,a,t)=>{"use strict";t.d(a,{Uv:()=>r,VO:()=>s,d4:()=>l,fR:()=>n});let l=[{value:"allSearches",label:"Found in all searches"},{value:"admissionSearches",label:"Found in admission searches"},{value:"twinSearches",label:"Found in twin searches"}],s=[{label:"Days & hours",value:"days_hours"},{label:"Years & Months",value:"years_months"}],r=[{name:"date",label:"Date"},{name:"datetime",label:"Date + Time"},{name:"dropdown",label:"Dropdown"},{name:"multi_select",label:"Multiple choice list"},{name:"number",label:"Number"},{name:"text",label:"Text"},{name:"time",label:"Time"},{name:"period",label:"Time period"}],i={calculation:null,condition:"",confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,refKey:null,label:null,minValue:null,maxValue:null,optional:!1,minDate:null,maxDate:null,minTime:null,maxTime:null,minDateKey:"",maxDateKey:"",minTimeKey:"",maxTimeKey:"",values:"",editable:!1},n={admission:[{...i,type:"dropdown",key:"BabyTransfered",values:"Y,Yes\nN,No",label:"Has the baby been transfered from another facility"},{...i,type:"text",key:"patientNUID",label:"Search patient's NUID",condition:"$BabyTransfered = 'Y'"},{...i,type:"dropdown",key:"BabyTwin",values:"Y,Yes\nN,No",label:"Does the baby have a twin?"},{...i,type:"text",key:"BabyTwinNUID",label:"Search twin's NUID",condition:"$BabyTwin = 'Y'"}],other:[{...i,type:"text",key:"patientNUID",values:"Y,Yes\nN,No",label:"Search patient's NUID"}]}},58464:(e,a,t)=>{"use strict";t.d(a,{$7:()=>o,F4:()=>p,PU:()=>i,Tf:()=>u,UQ:()=>b,_S:()=>n,m1:()=>c,ph:()=>m,uh:()=>d,y0:()=>y});var l=t(16722),s=t(75743),r=t(20698);let i={headerFormat:"",headerFields:[],footerFields:[],sections:[]},n="Example: ($key = true and $key2 = false) or $key3 = 'HD'",o={fontSize:{},fontWeight:{},fontStyle:{},textColor:{},backgroundColor:{},highlight:{}},d=[{value:"screens",label:"Screens"},{value:"diagnoses",label:"Diagnoses"},{value:"print",label:"Print"}],c=[{label:"Admission",value:"admission"},{label:"Discharge",value:"discharge"},{label:"Neolab",value:"neolab"},{label:"Daily Record",value:"drecord"}],u=[{value:"checklist",label:"Checklist"},{value:"form",label:"Form"},{value:"management",label:"Management"},{value:"multi_select",label:"Multiple choice list"},{value:"single_select",label:"Single choice list"},{value:"progress",label:"Progress"},{value:"timer",label:"Timer"},{value:"yesno",label:"Yes/No"},{value:"drugs",label:"Drugs"},{value:"fluids",label:"Fluids"},{value:"zw_edliz_summary_table",label:"EDLIZ summary table (ZW)"},{value:"mwi_edliz_summary_table",label:"EDLIZ summary table (MWI)"},{value:"diagnosis",label:"Diagnosis"}],m=[{value:"risk",label:"Risk factor"},{value:"sign",label:"Sign/Symptom"}];({...u.reduce((e,a)=>{let t=a.value,l=a.value,s=[l,`${l}_option`];return"single_select"===t&&(s=[...s,"dropdown","dropdown_option"]),{...e,[l]:s}},{}),...l.Uv.reduce((e,a)=>{let t=a.name,l=a.name,s=[l,`${l}_option`];return"dropdown"===t&&(s=[...s,"single_select","single_select_option"]),{...e,[l]:s}},{})});let y=[{value:"checklist",label:"checklist",hasChildren:!0},{value:"checklist_option",label:"checklist_option",hasChildren:!1},{value:"multi_select",label:"multi_select",hasChildren:!0},{value:"multi_select_option",label:"multi_select_option",hasChildren:!1},{value:"single_select",label:"single_select",hasChildren:!0},{value:"single_select_option",label:"single_select_option",hasChildren:!1},{value:"yesno",label:"yesno",hasChildren:!1},{value:"zw_edliz_summary_table",label:"zw_edliz_summary_table",hasChildren:!0},{value:"zw_edliz_summary_table_option",label:"zw_edliz_summary_table_option",hasChildren:!1},{value:"mwi_edliz_summary_table",label:"mwi_edliz_summary_table",hasChildren:!0},{value:"mwi_edliz_summary_table_option",label:"mwi_edliz_summary_table_option",hasChildren:!1},{value:"diagnosis",label:"diagnosis",hasChildren:!0},{value:"diagnosis_symptom_sign",label:"diagnosis_symptom_sign",hasChildren:!1},{value:"diagnosis_symptom_risk",label:"diagnosis_symptom_risk",hasChildren:!1},{value:"date",label:"date",hasChildren:!1},{value:"datetime",label:"datetime",hasChildren:!1},{value:"dropdown",label:"dropdown",hasChildren:!0},{value:"dropdown_option",label:"dropdown_option",hasChildren:!1},{value:"number",label:"number",hasChildren:!1},{value:"text",label:"text",hasChildren:!1},{value:"timer",label:"timer",hasChildren:!1},{value:"period",label:"period",hasChildren:!1}],p=[{value:"label.asc",label:"Label (asc)",Icon:s.Z},{value:"label.desc",label:"Label (desc)",Icon:r.Z},{value:"key.asc",label:"Key (asc)",Icon:s.Z},{value:"key.desc",label:"Key (desc)",Icon:r.Z},{value:"type.asc",label:"Type (asc)",Icon:s.Z},{value:"type.desc",label:"Type (desc)",Icon:r.Z},{value:"refId.asc",label:"Ref ID (asc)",Icon:s.Z},{value:"refId.desc",label:"Ref ID (desc)",Icon:r.Z},{value:"createdAt.asc",label:"Creation date (asc)",Icon:s.Z},{value:"createdAt.desc",label:"Creation date (desc)",Icon:r.Z},{value:"updatedAt.asc",label:"Update date (asc)",Icon:s.Z},{value:"updatedAt.desc",label:"Update date (desc)",Icon:r.Z}],b=[{label:"Published",value:"published"},{label:"Drafts",value:"drafts"}]},49596:(e,a,t)=>{"use strict";t.d(a,{DataKeysCtxProvider:()=>p,M:()=>y});var l=t(10326),s=t(17577),r=t(44099),i=t(93396),n=t(35047),o=t(96221),d=t(96948),c=t(58464),u=t(11877);let m=(0,s.createContext)(null),y=()=>{let e=(0,s.useContext)(m);if(!e)throw Error("useChart must be used within a <DataKeysCtxProvider />");return e};function p({children:e,prefetchDataKeys:a=!0}){(0,s.useRef)(!1);let t=(0,n.useRouter)(),{alert:y}=(0,o.s)(),[p,b]=(0,i.v1)("uuid",{clearOnDefault:!0,shallow:!0,history:"push",defaultValue:""}),[h,f]=(0,s.useState)([]),[v,g]=(0,s.useState)(c.F4[0].value),[x,w]=(0,s.useState)(""),[k,_]=(0,s.useState)(""),[N,D]=(0,s.useState)(1),[C]=(0,s.useState)(100),[S,j]=(0,s.useState)(!1),[I,T]=(0,s.useState)([]),[Z,R]=(0,s.useState)(),K=(0,s.useCallback)(async e=>{j(!0);try{let a=new URLSearchParams;e?.names?.length&&a.set("names",JSON.stringify(e.names)),e?.uniqueKeys?.length&&a.set("uniqueKeys",JSON.stringify(e.uniqueKeys)),e?.dataKeysIds?.length&&a.set("dataKeysIds",JSON.stringify(e.dataKeysIds));let t=await r.Z.get(`/api/data-keys?${a.toString()}`),l=function(e,a=c.F4[0].value){let t=[...e],l=({key1:e,key2:a,sortDirection:t})=>{e=(e||"").trim().toLowerCase(),a=(a||"").trim().toLowerCase();let l=0;return"asc"===t?(e<a&&(l=-1),e>a&&(l=1)):(e>a&&(l=-1),e<a&&(l=1)),l};switch(a){case"refId.asc":t=e.sort((e,a)=>l({sortDirection:"asc",key1:(e.refId||"").trim(),key2:(a.refId||"").trim()}));break;case"refId.desc":t=e.sort((e,a)=>l({sortDirection:"desc",key1:(e.refId||"").trim(),key2:(a.refId||"").trim()}));break;case"key.desc":t=e.sort((e,a)=>l({sortDirection:"desc",key1:e.name,key2:a.name}));break;case"label.asc":t=e.sort((e,a)=>l({sortDirection:"asc",key1:(e.label||e.name||"").trim(),key2:(a.label||a.name||"").trim()}));break;case"label.desc":t=e.sort((e,a)=>l({sortDirection:"desc",key1:(e.label||e.name||"").trim(),key2:(a.label||a.name||"").trim()}));break;case"type.asc":t=e.sort((e,a)=>l({sortDirection:"asc",key1:(e.dataType||"").trim(),key2:(a.dataType||"").trim()}));break;case"type.desc":t=e.sort((e,a)=>l({sortDirection:"desc",key1:(e.dataType||"").trim(),key2:(a.dataType||"").trim()}));break;case"createdAt.asc":t=e.sort((e,a)=>l({sortDirection:"asc",key1:new Date(e.createdAt||"").getTime().toString(),key2:new Date(a.createdAt||"").getTime().toString()}));break;case"createdAt.desc":t=e.sort((e,a)=>l({sortDirection:"desc",key1:new Date(e.createdAt||"").getTime().toString(),key2:new Date(a.createdAt||"").getTime().toString()}));break;case"updatedAt.asc":t=e.sort((e,a)=>l({sortDirection:"asc",key1:new Date(e.updatedAt||"").getTime().toString(),key2:new Date(a.updatedAt||"").getTime().toString()}));break;case"updatedAt.desc":t=e.sort((e,a)=>l({sortDirection:"desc",key1:new Date(e.updatedAt||"").getTime().toString(),key2:new Date(a.updatedAt||"").getTime().toString()}));break;default:t=e.sort((e,a)=>l({sortDirection:"asc",key1:e.name,key2:a.name}))}return t}(t.data.data,v);T(l),R(t.data.errors),D(1)}catch(e){T([]),R([e.message])}finally{j(!1)}},[v]),z=(0,s.useMemo)(()=>{let e=[...I];if(x&&(e="published"===x?e.filter(e=>!e?.isDraft):"draft"===x?e.filter(e=>!!e?.isDraft):e.filter(e=>e?.dataType===x)),k){let{normalizedValue:a,isExactMatch:t}=(0,u.l)(k);a&&(e=e.filter(e=>[e.name||"",e.label||""].map(e=>e.toLowerCase()).some(e=>t?e===a:e.includes(a))))}return e},[I,x,k]),{dataKeys:A,pagination:P}=(0,s.useMemo)(()=>{if(!z.length)return{dataKeys:[],pagination:void 0};let e=function(e,a,t){let l=e.length,s=(a-1)*t;return{data:e.slice(s,s+t),pagination:{page:a,limit:t,total:l,totalPages:Math.ceil(l/t)}}}(z,N,C);return{dataKeys:e.data,pagination:e.pagination}},[z,N,C]),[F,E]=(0,s.useState)(!1),U=(0,s.useCallback)(async(e,a)=>{try{E(!0);let l=e.map(e=>({...e,version:"string"==typeof e.version?Number(e.version):e.version})),s=(await r.Z.post("/api/data-keys/save",{data:l,broadcastAction:!0})).data;s.errors?.length?y({title:"Error",message:s.errors.join(", "),variant:"error"}):(await K(),t.refresh(),y({message:"Data key saved!",variant:"success",onClose:()=>a?.()}))}catch(e){y({title:"Error",message:"Failed to save data key: "+e.message,onClose:()=>a?.(e.message)})}finally{E(!1)}},[y,t.refresh,K]),[M,V]=(0,s.useState)(!1),Y=(0,s.useCallback)(async e=>{try{V(!0);let a=(await r.Z.delete("/api/data-keys?data="+JSON.stringify({dataKeysIds:e,broadcastAction:!0}))).data;if(a.errors?.length)throw Error(a.errors[0]);f([]),await K(),t.refresh(),y({title:"Success",message:"Data keys deleted successfully!",variant:"success"})}catch(e){y({title:"Error",message:e.message,variant:"error"})}finally{V(!1)}},[t.refresh,y,K]),[$,L]=(0,s.useState)(!1),O=(0,s.useCallback)(async e=>{try{L(!0);let a=(await r.Z.post("/api/data-keys/export",e)).data;if(a.errors?.length)throw Error(a.errors[0]);await K(),f([]),y({title:"Success",message:"Data exported successfully!",variant:"success"})}catch(e){y({title:"Error",message:e.message,variant:"error"})}finally{L(!1)}},[K,y]),B=(0,s.useCallback)((e=c.F4[0].value)=>{g(e),f([]),D(1)},[]),q=(0,s.useCallback)((e,a)=>{let t=e.map(e=>I.find(a=>a.uniqueKey===e||a.uuid===e)).filter(e=>e);return a?.withNested&&t.filter(e=>e.options.length).forEach(e=>{let l=q(e.options,a);t=[...t,...l]}),t.filter((e,a)=>t.map(e=>e.uniqueKey).indexOf(e.uniqueKey)===a)},[I]);return Z?.length?l.jsx(d.Alert,{title:"Error",message:"Failed to load data keys: "+Z.join(", "),buttonLabel:"Try again",onClose:()=>K()}):l.jsx(l.Fragment,{children:l.jsx(m.Provider,{value:{loadingDataKeys:S,saving:F,exporting:$,deleting:M,dataKeys:A,allDataKeys:I,errors:Z,selected:h,currentDataKeyUuid:p,sort:v,filter:x,searchValue:k,pagination:P,currentPage:N,itemsPerPage:C,setCurrentPage:D,setSearchValue:_,extractDataKeys:q,deleteDataKeys:Y,saveDataKeys:U,exportDataKeys:O,setCurrentDataKeyUuid:b,loadDataKeys:K,setSelected:f,setSort:g,onSort:B,setFilter:w},children:e})})}},51605:(e,a,t)=>{"use strict";t.d(a,{v:()=>s});var l=t(3529);function s({isDraft:e,userId:a}){let{authenticatedUser:t}=(0,l.b)();return!!(e&&a&&a!==t?.userId)}},11877:(e,a,t)=>{"use strict";t.d(a,{l:()=>r});let l=['"',"“"],s=['"',"”"];function r(e){let a=`${e??""}`.trim();if(!a)return{normalizedValue:"",isExactMatch:!1};let t=l.includes(a[0]),r=s.includes(a[a.length-1]),i=a.length>1&&t&&r;return{normalizedValue:(i?a.slice(1,-1):a).trim().toLowerCase(),isExactMatch:i}}},39447:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(62881).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},47035:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(62881).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},24569:(e,a,t)=>{"use strict";t.d(a,{V:()=>r});var l=t(19510),s=t(50650);function r({className:e,...a}){return l.jsx("div",{...a,className:(0,s.cn)("w-full max-w-screen-xl mx-auto p-5",e)})}},46697:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>n,Zb:()=>i,aY:()=>d,ll:()=>o});var l=t(19510),s=t(71159),r=t(50650);let i=s.forwardRef(({className:e,...a},t)=>l.jsx("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let n=s.forwardRef(({className:e,...a},t)=>l.jsx("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...a}));n.displayName="CardHeader";let o=s.forwardRef(({className:e,...a},t)=>l.jsx("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));o.displayName="CardTitle",s.forwardRef(({className:e,...a},t)=>l.jsx("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let d=s.forwardRef(({className:e,...a},t)=>l.jsx("div",{ref:t,className:(0,r.cn)("p-6 pt-0",e),...a}));d.displayName="CardContent",s.forwardRef(({className:e,...a},t)=>l.jsx("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},75644:(e,a,t)=>{"use strict";t.d(a,{g2:()=>n});var l=t(68570);let s=(0,l.createProxy)(String.raw`/home/watkay/ReactProjects/neotree-editor/contexts/data-keys/index.tsx`),{__esModule:r,$$typeof:i}=s;s.default,(0,l.createProxy)(String.raw`/home/watkay/ReactProjects/neotree-editor/contexts/data-keys/index.tsx#DataKeysCtx`),(0,l.createProxy)(String.raw`/home/watkay/ReactProjects/neotree-editor/contexts/data-keys/index.tsx#useDataKeysCtx`);let n=(0,l.createProxy)(String.raw`/home/watkay/ReactProjects/neotree-editor/contexts/data-keys/index.tsx#DataKeysCtxProvider`)}};