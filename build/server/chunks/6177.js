exports.id=6177,exports.ids=[6177],exports.modules={24495:(e,t,a)=>{let d={a1978c83b209e9f738502cb7918ca21a901a7c96:()=>Promise.resolve().then(a.bind(a,40801)).then(e=>e.getSession),c8fbf2226d3d8b8bb8824b3e879ec8cb4c4f1e65:()=>Promise.resolve().then(a.bind(a,40801)).then(e=>e.getAuthenticatedUser),cd73b8090a6539c9726785159f965122a9679666:()=>Promise.resolve().then(a.bind(a,40801)).then(e=>e.getAuthenticatedUserWithRoles),"10da6f0b0f4fcdc40659c6e531c05ea585e3d41c":()=>Promise.resolve().then(a.bind(a,60563)).then(e=>e.getSys),"5b13081f1177b97292b36e6328c1701391100392":()=>Promise.resolve().then(a.bind(a,60563)).then(e=>e.$$ACTION_1),"842e7d872f1567b69de61f77be6f577ca410c5e4":()=>Promise.resolve().then(a.bind(a,60563)).then(e=>e.$$ACTION_0),a57a65b62d2591fe1ce847d0caf5c8c91c508892:()=>Promise.resolve().then(a.bind(a,60563)).then(e=>e.updateSys),bde73ff79f4781514fc96717f7ceaa9df9dd545c:()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.saveSites),dd5420619b99956dd11ccbca7279d7a42c665702:()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.getSites),e8bb0492bc53ca0b5b588864e13ea93167a12f10:()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.getSite),ebe3a2ba294d038570cb707b428619f03166a9b0:()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.$$ACTION_0),ffdb8ae8b2dfd69ac00ecfbf467274c24d838b26:()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.getSitesWithoutConfidentialData),"881d8c769217f5a927f51c01aed18d7bcf928157":()=>Promise.resolve().then(a.bind(a,66267)).then(e=>e.isAllowed),d9abd9f686d10aff48fc75f21a1dab5a1cfb9b09:()=>Promise.resolve().then(a.bind(a,66267)).then(e=>e.canAccessPage),"0e7a946332d8f585e5adf9efd9b7b091f15d22a6":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.discardDrafts),"3ec88125203124f96d5f00d0db96ed5d8fae2fd5":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.revalidatePath),"6cd3911728d7dece584e31782848b35b5c3e19b2":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.$$ACTION_0),"6ce78b3595eb2d1a66f96e48b4935bb19fb9dc56":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.$$ACTION_1),"8012daa6ce07ef2c0190ba4dde6111a58a16243b":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.getEditorDetails),"9833466a19d0fec5deb6b43fd2d0447723ad6b1a":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.publishData),ff0f6b5ac517fe8b32f8a0b5648b3e37b22cbd42:()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.countAllDrafts)};async function l(e,...t){return(await d[e]()).apply(null,t)}e.exports={a1978c83b209e9f738502cb7918ca21a901a7c96:l.bind(null,"a1978c83b209e9f738502cb7918ca21a901a7c96"),c8fbf2226d3d8b8bb8824b3e879ec8cb4c4f1e65:l.bind(null,"c8fbf2226d3d8b8bb8824b3e879ec8cb4c4f1e65"),cd73b8090a6539c9726785159f965122a9679666:l.bind(null,"cd73b8090a6539c9726785159f965122a9679666"),"10da6f0b0f4fcdc40659c6e531c05ea585e3d41c":l.bind(null,"10da6f0b0f4fcdc40659c6e531c05ea585e3d41c"),"5b13081f1177b97292b36e6328c1701391100392":l.bind(null,"5b13081f1177b97292b36e6328c1701391100392"),"842e7d872f1567b69de61f77be6f577ca410c5e4":l.bind(null,"842e7d872f1567b69de61f77be6f577ca410c5e4"),a57a65b62d2591fe1ce847d0caf5c8c91c508892:l.bind(null,"a57a65b62d2591fe1ce847d0caf5c8c91c508892"),bde73ff79f4781514fc96717f7ceaa9df9dd545c:l.bind(null,"bde73ff79f4781514fc96717f7ceaa9df9dd545c"),dd5420619b99956dd11ccbca7279d7a42c665702:l.bind(null,"dd5420619b99956dd11ccbca7279d7a42c665702"),e8bb0492bc53ca0b5b588864e13ea93167a12f10:l.bind(null,"e8bb0492bc53ca0b5b588864e13ea93167a12f10"),ebe3a2ba294d038570cb707b428619f03166a9b0:l.bind(null,"ebe3a2ba294d038570cb707b428619f03166a9b0"),ffdb8ae8b2dfd69ac00ecfbf467274c24d838b26:l.bind(null,"ffdb8ae8b2dfd69ac00ecfbf467274c24d838b26"),"881d8c769217f5a927f51c01aed18d7bcf928157":l.bind(null,"881d8c769217f5a927f51c01aed18d7bcf928157"),d9abd9f686d10aff48fc75f21a1dab5a1cfb9b09:l.bind(null,"d9abd9f686d10aff48fc75f21a1dab5a1cfb9b09"),"0e7a946332d8f585e5adf9efd9b7b091f15d22a6":l.bind(null,"0e7a946332d8f585e5adf9efd9b7b091f15d22a6"),"3ec88125203124f96d5f00d0db96ed5d8fae2fd5":l.bind(null,"3ec88125203124f96d5f00d0db96ed5d8fae2fd5"),"6cd3911728d7dece584e31782848b35b5c3e19b2":l.bind(null,"6cd3911728d7dece584e31782848b35b5c3e19b2"),"6ce78b3595eb2d1a66f96e48b4935bb19fb9dc56":l.bind(null,"6ce78b3595eb2d1a66f96e48b4935bb19fb9dc56"),"8012daa6ce07ef2c0190ba4dde6111a58a16243b":l.bind(null,"8012daa6ce07ef2c0190ba4dde6111a58a16243b"),"9833466a19d0fec5deb6b43fd2d0447723ad6b1a":l.bind(null,"9833466a19d0fec5deb6b43fd2d0447723ad6b1a"),ff0f6b5ac517fe8b32f8a0b5648b3e37b22cbd42:l.bind(null,"ff0f6b5ac517fe8b32f8a0b5648b3e37b22cbd42")}},78823:(e,t,a)=>{Promise.resolve().then(a.bind(a,77184))},35303:()=>{},77184:(e,t,a)=>{"use strict";a.d(t,{Content:()=>eI});var d=a(10326),l=a(33071),s=a(11870),i=a(90772),n=a(17577),r=a(44099),o=a(941),c=a(2165),f=a(25479),u=a(1095),p=a(68452),m=a(43360),_=a(85121),N=a(81193),y=a(93931),b=a(11426),h=a(23051),g=a(41872),x=a(36304),I=a(29606),j=a(6263),v=a(12207),w=a(47463),L=a(58464);let A=(0,_.af)("nt_aliases",{id:(0,N.eP)("id").primaryKey(),uuid:(0,y.Vj)("uuid").notNull().unique().default((0,u.i6)`md5(random()::text || clock_timestamp()::text)::uuid`),name:(0,b.fL)("name").notNull(),alias:(0,b.fL)("alias").notNull(),script:(0,b.fL)("script").notNull(),oldScript:(0,b.fL)("old_script"),publishDate:(0,I.AB)("publish_date").defaultNow().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")}),D=(0,p.Tr)({dataType:()=>"bytea"}),B=(0,m.ys)("mailer_service",["gmail","smtp"]),k=(0,m.ys)("role_name",["user","admin","super_user"]),V=(0,m.ys)("site_type",["nodeapi","webeditor"]),K=(0,m.ys)("site_env",["production","stage","development","demo"]),$=(0,m.ys)("script_type",["admission","discharge","neolab","drecord"]),P=(0,m.ys)("screen_type",["diagnosis","checklist","form","management","multi_select","single_select","progress","timer","yesno","drugs","fluids","feeds","zw_edliz_summary_table","mwi_edliz_summary_table","edliz_summary_table","dynamic_form"]),T=(0,m.ys)("drug_type",["drug","fluid","feed"]);(0,_.af)("nt_mailer_settings",{id:(0,N.eP)("id").primaryKey(),settingId:(0,y.Vj)("setting_id").notNull().unique().defaultRandom(),name:(0,b.fL)("name").notNull().unique(),service:B("service").notNull(),authUsername:(0,b.fL)("auth_username").notNull(),authPassword:(0,b.fL)("auth_password").notNull(),authType:(0,b.fL)("auth_type"),authMethod:(0,b.fL)("auth_method"),host:(0,b.fL)("host").notNull().default(""),port:(0,h._L)("port"),encryption:(0,b.fL)("encryption").notNull().default(""),fromAddress:(0,b.fL)("from_address").notNull().default(""),fromName:(0,b.fL)("from_name").notNull().default(""),isActive:(0,g.O7)("is_active").default(!1).notNull(),secure:(0,g.O7)("secure").default(!1).notNull()}),(0,_.af)("nt_email_templates",{id:(0,N.eP)("id").primaryKey(),templateId:(0,y.Vj)("template_id").notNull().unique().defaultRandom(),name:(0,b.fL)("name").notNull().unique(),data:(0,x.JB)("data").notNull()}),(0,_.af)("nt_sys",{_id:(0,N.eP)("_id").primaryKey(),id:(0,y.Vj)("id").notNull().unique().defaultRandom(),key:(0,b.fL)("key").notNull().unique(),value:(0,b.fL)("value").notNull()});let S=(0,_.af)("nt_tokens",{id:(0,N.eP)("id").primaryKey(),token:(0,h._L)("token").notNull().unique(),userId:(0,y.Vj)("user_id").references(()=>C.userId,{onDelete:"cascade"}),validUntil:(0,I.AB)("valid_until").notNull()});(0,f.lE)(S,({one:e})=>({user:e(C,{fields:[S.userId],references:[C.userId]})}));let z=(0,_.af)("nt_user_roles",{id:(0,N.eP)("id").primaryKey(),name:k("name").notNull().unique(),description:(0,b.fL)("description")});(0,f.lE)(z,({many:e})=>({users:e(C)})),(0,_.af)("nt_languages",{id:(0,N.eP)("id").primaryKey(),name:(0,b.fL)("name").notNull().unique(),iso:(0,b.fL)("iso").notNull().unique(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")});let C=(0,_.af)("nt_users",{id:(0,N.eP)("id").primaryKey(),userId:(0,y.Vj)("user_id").notNull().unique().defaultRandom(),role:k("role").references(()=>z.name,{onDelete:"cascade"}).default("user").notNull(),email:(0,b.fL)("email").notNull().unique(),password:(0,b.fL)("password").notNull(),displayName:(0,b.fL)("display_name").notNull(),firstName:(0,b.fL)("first_name"),lastName:(0,b.fL)("last_name"),avatar:(0,b.fL)("avatar"),avatar_sm:(0,b.fL)("avatar_sm"),avatar_md:(0,b.fL)("avatar_md"),activationDate:(0,I.AB)("activation_date"),lastLoginDate:(0,I.AB)("last_login_date"),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("users_search_index").using("gin",(0,u.i6)`(
                    to_tsvector('english', ${e.email}) ||
                    to_tsvector('english', ${e.displayName}) ||
                    to_tsvector('english', ${e.firstName}) ||
                    to_tsvector('english', ${e.lastName})
                )`)}));(0,f.lE)(C,({many:e,one:t})=>({authTokens:e(O),tokens:e(S),files:e(q),role:t(z,{fields:[C.role],references:[z.name]})}));let O=(0,_.af)("nt_auth_clients",{id:(0,N.eP)("id").primaryKey(),clientId:(0,y.Vj)("client_id").notNull().unique().defaultRandom(),clientToken:(0,b.fL)("client_token").notNull().unique(),userId:(0,y.Vj)("user_id").references(()=>C.userId,{onDelete:"cascade"}),validUntil:(0,I.AB)("valid_until"),createdAt:(0,I.AB)("created_at").defaultNow().notNull()});(0,f.lE)(O,({one:e})=>({user:e(C,{fields:[O.userId],references:[C.userId]})})),(0,_.af)("nt_api_keys",{id:(0,N.eP)("id").primaryKey(),apiKeyId:(0,y.Vj)("api_key_id").notNull().unique().defaultRandom(),apiKey:(0,b.fL)("api_key").notNull().unique().$defaultFn(()=>(0,w.Z)()),validUntil:(0,I.AB)("valid_until"),createdAt:(0,I.AB)("created_at").defaultNow().notNull()}),(0,_.af)("nt_sites",{id:(0,N.eP)("id").primaryKey(),siteId:(0,y.Vj)("site_id").notNull().unique().defaultRandom(),name:(0,b.fL)("name").notNull().unique(),link:(0,b.fL)("link").notNull().unique(),apiKey:(0,b.fL)("api_key").notNull(),type:V("type").notNull(),env:K("env").notNull().default("production"),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")});let J=(0,_.af)("nt_hospitals",{id:(0,N.eP)("id").primaryKey(),hospitalId:(0,y.Vj)("hospital_id").notNull().unique().defaultRandom(),oldHospitalId:(0,b.fL)("old_hospital_id").unique(),name:(0,b.fL)("name").notNull().unique(),country:(0,b.fL)("country").default(""),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("hospitals_search_index").using("gin",(0,u.i6)`(
                    to_tsvector('english', ${e.name})
                )`)}));(0,_.af)("nt_editor_info",{id:(0,N.eP)("id").primaryKey(),dataVersion:(0,h._L)("data_version").notNull().default(1),lastPublishDate:(0,I.AB)("last_publish_date")}),(0,_.af)("nt_devices",{id:(0,N.eP)("id").primaryKey(),deviceId:(0,b.fL)("device_id").notNull().unique(),deviceHash:(0,b.fL)("device_hash").notNull().unique(),details:(0,x.JB)("details").default({}),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")});let q=(0,_.af)("nt_files",{id:(0,N.eP)("id").primaryKey(),fileId:(0,y.Vj)("file_id").notNull().unique().defaultRandom(),ownerId:(0,y.Vj)("owner_id").references(()=>C.userId,{onDelete:"cascade"}),filename:(0,b.fL)("filename").notNull(),contentType:(0,b.fL)("content_type").notNull(),size:(0,h._L)("size").notNull(),metadata:(0,x.JB)("metadata").default("{}").notNull(),data:D("data").notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")});(0,f.lE)(q,({many:e,one:t})=>({owner:t(C,{fields:[q.ownerId],references:[C.userId]})})),(0,_.af)("nt_files_chunks",{id:(0,N.eP)("id").primaryKey(),chunkId:(0,y.Vj)("chunk_id").notNull().unique().defaultRandom(),fileId:(0,y.Vj)("file_id").references(()=>q.fileId,{onDelete:"cascade"}).notNull(),data:D("data").notNull()});let R=(0,_.af)("nt_config_keys",{id:(0,N.eP)("id").primaryKey(),configKeyId:(0,y.Vj)("config_key_id").notNull().unique().defaultRandom(),oldConfigKeyId:(0,b.fL)("old_config_key_id").unique(),position:(0,h._L)("position").notNull(),version:(0,h._L)("version").notNull(),key:(0,b.fL)("key").notNull().unique(),label:(0,b.fL)("label").notNull().unique(),summary:(0,b.fL)("summary").notNull(),source:(0,b.fL)("source").default("editor"),preferences:(0,x.JB)("preferences").default(JSON.stringify(L.$7)).notNull(),publishDate:(0,I.AB)("publish_date").defaultNow().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("config_keys_search_index").using("gin",(0,u.i6)`(
                    to_tsvector('english', ${e.key}) ||
                    to_tsvector('english', ${e.label}) ||
                    to_tsvector('english', ${e.summary})
                )`)}));(0,f.lE)(R,({many:e,one:t})=>({history:e(F),draft:t(E,{fields:[R.configKeyId],references:[E.configKeyId]})}));let E=(0,_.af)("nt_config_keys_drafts",{id:(0,N.eP)("id").primaryKey(),configKeyDraftId:(0,y.Vj)("config_key_draft_id").notNull().unique().defaultRandom(),configKeyId:(0,y.Vj)("config_key_id").references(()=>R.configKeyId,{onDelete:"cascade"}),position:(0,h._L)("position").notNull(),data:(0,x.JB)("data").$type().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(E,({one:e})=>({configKey:e(R,{fields:[E.configKeyId],references:[R.configKeyId]})}));let F=(0,_.af)("nt_config_keys_history",{id:(0,N.eP)("id").primaryKey(),version:(0,h._L)("version").notNull(),configKeyId:(0,y.Vj)("config_key_id").references(()=>R.configKeyId,{onDelete:"cascade"}).notNull(),restoreKey:(0,y.Vj)("restore_key"),changes:(0,x.JB)("data").default([]),createdAt:(0,I.AB)("created_at").defaultNow().notNull()});(0,f.lE)(F,({one:e})=>({configKey:e(R,{fields:[F.configKeyId],references:[R.configKeyId]})}));let U=(0,_.af)("nt_scripts",{id:(0,N.eP)("id").primaryKey(),scriptId:(0,y.Vj)("script_id").notNull().unique().defaultRandom(),oldScriptId:(0,b.fL)("old_script_id").unique(),version:(0,h._L)("version").notNull(),type:$("type").notNull().default("admission"),position:(0,h._L)("position").notNull(),source:(0,b.fL)("source").default("editor"),title:(0,b.fL)("title").notNull(),printTitle:(0,b.fL)("print_title").notNull(),description:(0,b.fL)("description").notNull().default(""),hospitalId:(0,y.Vj)("hospital_id").references(()=>J.hospitalId,{onDelete:"set null"}),exportable:(0,g.O7)("exportable").notNull().default(!0),nuidSearchEnabled:(0,g.O7)("nuid_search_enabled").notNull().default(!1),nuidSearchFields:(0,x.JB)("nuid_search_fields").default("[]").notNull(),reviewable:(0,g.O7)("reviewable").notNull().default(!1),reviewConfigurations:(0,x.JB)("review_configurations").default("[]").notNull(),preferences:(0,x.JB)("preferences").default(JSON.stringify(L.$7)).notNull(),printSections:(0,x.JB)("print_sections").default("[]").notNull(),publishDate:(0,I.AB)("publish_date").defaultNow().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("scripts_search_index").using("gin",(0,u.i6)`(
                    to_tsvector('english', ${e.title}) ||
                    to_tsvector('english', ${e.description})
                )`)}));(0,f.lE)(U,({many:e,one:t})=>({screens:e(W),screensDrafts:e(H),screensHistory:e(Y),diagnoses:e(G),diagnosesDrafts:e(X),diagnosesHistory:e(Q),history:e(M),drugsLibrary:e(et),draft:t(Z,{fields:[U.scriptId],references:[Z.scriptId]})}));let Z=(0,_.af)("nt_scripts_drafts",{id:(0,N.eP)("id").primaryKey(),scriptDraftId:(0,y.Vj)("script_draft_id").notNull().unique().defaultRandom(),scriptId:(0,y.Vj)("script_id").references(()=>U.scriptId,{onDelete:"cascade"}),position:(0,h._L)("position").notNull(),hospitalId:(0,y.Vj)("hospital_id").references(()=>J.hospitalId,{onDelete:"set null"}),data:(0,x.JB)("data").$type().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(Z,({one:e,many:t})=>({screensDrafts:t(H),diagnosesDrafts:t(X),script:e(U,{fields:[Z.scriptId],references:[U.scriptId]})}));let M=(0,_.af)("nt_scripts_history",{id:(0,N.eP)("id").primaryKey(),version:(0,h._L)("version").notNull(),scriptId:(0,y.Vj)("script_id").references(()=>U.scriptId,{onDelete:"cascade"}).notNull(),restoreKey:(0,y.Vj)("restore_key"),changes:(0,x.JB)("data").default([]),createdAt:(0,I.AB)("created_at").defaultNow().notNull()});(0,f.lE)(M,({one:e})=>({script:e(U,{fields:[M.scriptId],references:[U.scriptId]})}));let W=(0,_.af)("nt_screens",{id:(0,N.eP)("id").primaryKey(),screenId:(0,y.Vj)("screen_id").notNull().unique().defaultRandom(),oldScreenId:(0,b.fL)("old_screen_id").unique(),oldScriptId:(0,b.fL)("old_script_id"),version:(0,h._L)("version").notNull(),scriptId:(0,y.Vj)("script_id").references(()=>U.scriptId,{onDelete:"cascade"}).notNull(),type:P("type").notNull(),position:(0,h._L)("position").notNull(),source:(0,b.fL)("source").default("editor"),sectionTitle:(0,b.fL)("section_title").notNull(),previewTitle:(0,b.fL)("preview_title").notNull().default(""),previewPrintTitle:(0,b.fL)("preview_print_title").notNull().default(""),condition:(0,b.fL)("condition").notNull().default(""),skipToCondition:(0,b.fL)("skip_to_condition").notNull().default(""),skipToScreenId:(0,b.fL)("skip_to_screen_id"),epicId:(0,b.fL)("epic_id").notNull().default(""),storyId:(0,b.fL)("story_id").notNull().default(""),refId:(0,b.fL)("ref_id").notNull().default(""),refKey:(0,b.fL)("ref_key").notNull().default(""),step:(0,b.fL)("step").notNull().default(""),actionText:(0,b.fL)("action_text").notNull().default(""),contentText:(0,b.fL)("content_text").notNull().default(""),infoText:(0,b.fL)("info_text").notNull().default(""),title:(0,b.fL)("title").notNull(),title1:(0,b.fL)("title1").notNull().default(""),title2:(0,b.fL)("title2").notNull().default(""),title3:(0,b.fL)("title3").notNull().default(""),title4:(0,b.fL)("title4").notNull().default(""),text1:(0,b.fL)("text1").notNull().default(""),text2:(0,b.fL)("text2").notNull().default(""),text3:(0,b.fL)("text3").notNull().default(""),image1:(0,x.JB)("image1"),image2:(0,x.JB)("image2"),image3:(0,x.JB)("image3"),instructions:(0,b.fL)("instructions").notNull().default(""),instructions2:(0,b.fL)("instructions2").notNull().default(""),instructions3:(0,b.fL)("instructions3").notNull().default(""),instructions4:(0,b.fL)("instructions4").notNull().default(""),hcwDiagnosesInstructions:(0,b.fL)("hcw_diagnoses_instructions").notNull().default(""),suggestedDiagnosesInstructions:(0,b.fL)("suggested_diagnoses_instructions").notNull().default(""),notes:(0,b.fL)("notes").notNull().default(""),dataType:(0,b.fL)("data_type").notNull().default(""),key:(0,b.fL)("key").notNull().default(""),label:(0,b.fL)("label").notNull().default(""),negativeLabel:(0,b.fL)("negative_label").notNull().default(""),positiveLabel:(0,b.fL)("positive_label").notNull().default(""),timerValue:(0,h._L)("timer_value"),multiplier:(0,h._L)("multiplier"),minValue:(0,h._L)("min_value"),maxValue:(0,h._L)("max_value"),exportable:(0,g.O7)("exportable").notNull().default(!0),printable:(0,g.O7)("printable"),skippable:(0,g.O7)("skippable").notNull().default(!1),confidential:(0,g.O7)("confidential").notNull().default(!1),prePopulate:(0,x.JB)("pre_populate").default("[]").notNull(),fields:(0,x.JB)("fields").default("[]").notNull(),items:(0,x.JB)("items").default("[]").notNull(),preferences:(0,x.JB)("preferences").default(JSON.stringify(L.$7)).notNull(),drugs:(0,x.JB)("drugs").default("[]").notNull(),fluids:(0,x.JB)("fluids").default("[]").notNull(),feeds:(0,x.JB)("feeds").default("[]").notNull(),reasons:(0,x.JB)("reasons").default("[]").notNull().$type(),publishDate:(0,I.AB)("publish_date").defaultNow().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at"),collectionName:(0,b.fL)("collection_name").notNull().default(""),collectionLabel:(0,b.fL)("collection_label").notNull().default(""),repeatable:(0,g.O7)("repeatable")},e=>({searchIndex:(0,j.Kz)("screens_search_index").using("gin",(0,u.i6)`(
                    to_tsvector('english', ${e.title})
                )`)}));(0,f.lE)(W,({many:e,one:t})=>({history:e(Y),script:t(U,{fields:[W.scriptId],references:[U.scriptId]}),draft:t(H,{fields:[W.screenId],references:[H.screenId]})}));let H=(0,_.af)("nt_screens_drafts",{id:(0,N.eP)("id").primaryKey(),screenDraftId:(0,y.Vj)("screen_draft_id").notNull().unique().defaultRandom(),screenId:(0,y.Vj)("screen_id").references(()=>W.screenId,{onDelete:"cascade"}),scriptId:(0,y.Vj)("script_id").references(()=>U.scriptId,{onDelete:"cascade"}),scriptDraftId:(0,y.Vj)("script_draft_id").references(()=>Z.scriptDraftId,{onDelete:"cascade"}),type:P("type").notNull(),position:(0,h._L)("position").notNull(),data:(0,x.JB)("data").$type().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(H,({one:e})=>({screen:e(W,{fields:[H.screenId],references:[W.screenId]}),scriptDraft:e(Z,{fields:[H.scriptDraftId],references:[Z.scriptDraftId]}),script:e(U,{fields:[H.scriptId],references:[U.scriptId]})}));let Y=(0,_.af)("nt_screens_history",{id:(0,N.eP)("id").primaryKey(),version:(0,h._L)("version").notNull(),screenId:(0,y.Vj)("screen_id").references(()=>W.screenId,{onDelete:"cascade"}).notNull(),scriptId:(0,y.Vj)("script_id").references(()=>U.scriptId,{onDelete:"cascade"}).notNull(),restoreKey:(0,b.fL)("restore_key"),changes:(0,x.JB)("data").default([]),createdAt:(0,I.AB)("created_at").defaultNow().notNull()});(0,f.lE)(Y,({one:e})=>({screen:e(W,{fields:[Y.screenId],references:[W.screenId]}),script:e(U,{fields:[Y.scriptId],references:[U.scriptId]})}));let G=(0,_.af)("nt_diagnoses",{id:(0,N.eP)("id").primaryKey(),diagnosisId:(0,y.Vj)("diagnosis_id").notNull().unique().defaultRandom(),oldDiagnosisId:(0,b.fL)("old_diagnosis_id").unique(),oldScriptId:(0,b.fL)("old_script_id"),version:(0,h._L)("version").notNull(),scriptId:(0,y.Vj)("script_id").references(()=>U.scriptId,{onDelete:"cascade"}).notNull(),position:(0,h._L)("position").notNull(),source:(0,b.fL)("source").default("editor"),expression:(0,b.fL)("expression").notNull(),name:(0,b.fL)("name").notNull().default(""),description:(0,b.fL)("description").notNull().default(""),key:(0,b.fL)("key").default(""),severityOrder:(0,h._L)("severity_order"),expressionMeaning:(0,b.fL)("expression_meaning").notNull().default(""),symptoms:(0,x.JB)("symptoms").default("[]").notNull(),text1:(0,b.fL)("text1").notNull().default(""),text2:(0,b.fL)("text2").notNull().default(""),text3:(0,b.fL)("text3").notNull().default(""),image1:(0,x.JB)("image1"),image2:(0,x.JB)("image2"),image3:(0,x.JB)("image3"),preferences:(0,x.JB)("preferences").default(JSON.stringify(L.$7)).notNull(),publishDate:(0,I.AB)("publish_date").defaultNow().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("diagnoses_search_index").using("gin",(0,u.i6)`(
                    to_tsvector('english', ${e.name})
                )`)}));(0,f.lE)(G,({many:e,one:t})=>({history:e(Q),script:t(U,{fields:[G.scriptId],references:[U.scriptId]}),draft:t(X,{fields:[G.diagnosisId],references:[X.diagnosisId]})}));let X=(0,_.af)("nt_diagnoses_drafts",{id:(0,N.eP)("id").primaryKey(),diagnosisDraftId:(0,y.Vj)("diagnosis_draft_id").notNull().unique().defaultRandom(),diagnosisId:(0,y.Vj)("diagnosis_id").references(()=>G.diagnosisId,{onDelete:"cascade"}),scriptId:(0,y.Vj)("script_id").references(()=>U.scriptId,{onDelete:"cascade"}),scriptDraftId:(0,y.Vj)("script_draft_id").references(()=>Z.scriptDraftId,{onDelete:"cascade"}),position:(0,h._L)("position").notNull(),data:(0,x.JB)("data").$type().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(X,({one:e})=>({diagnosis:e(G,{fields:[X.diagnosisId],references:[G.diagnosisId]}),scriptDraft:e(Z,{fields:[X.scriptDraftId],references:[Z.scriptDraftId]}),script:e(U,{fields:[X.scriptId],references:[U.scriptId]})}));let Q=(0,_.af)("nt_diagnoses_history",{id:(0,N.eP)("id").primaryKey(),version:(0,h._L)("version").notNull(),diagnosisId:(0,y.Vj)("diagnosis_id").references(()=>G.diagnosisId,{onDelete:"cascade"}).notNull(),scriptId:(0,y.Vj)("script_id").references(()=>U.scriptId,{onDelete:"cascade"}).notNull(),restoreKey:(0,b.fL)("restore_key"),changes:(0,x.JB)("data").default([]),createdAt:(0,I.AB)("created_at").defaultNow().notNull()});(0,f.lE)(Q,({one:e})=>({diagnosis:e(G,{fields:[Q.diagnosisId],references:[G.diagnosisId]}),script:e(U,{fields:[Q.scriptId],references:[U.scriptId]})}));let ee=(0,m.ys)("dff_item_validation_type",["default","condition"]),et=(0,_.af)("nt_drugs_library",{id:(0,N.eP)("id").primaryKey(),itemId:(0,y.Vj)("item_id").notNull().unique().defaultRandom(),key:(0,b.fL)("key").notNull().unique(),type:T("type").notNull().default("drug"),drug:(0,b.fL)("drug").notNull().default(""),minGestation:(0,v.zz)("min_gestation"),maxGestation:(0,v.zz)("max_gestation"),minWeight:(0,v.zz)("min_weight"),maxWeight:(0,v.zz)("max_weight"),minAge:(0,v.zz)("min_age"),maxAge:(0,v.zz)("max_age"),hourlyFeed:(0,v.zz)("hourly_feed"),hourlyFeedDivider:(0,v.zz)("hourly_feed_divider"),dosage:(0,v.zz)("dosage"),dosageMultiplier:(0,v.zz)("dosage_multiplier"),dayOfLife:(0,b.fL)("day_of_life").notNull().default(""),dosageText:(0,b.fL)("dosage_text").notNull().default(""),managementText:(0,b.fL)("management_text").notNull().default(""),gestationKey:(0,b.fL)("gestation_key").notNull().default(""),weightKey:(0,b.fL)("weight_key").notNull().default(""),diagnosisKey:(0,b.fL)("diagnosis_key").notNull().default(""),ageKey:(0,b.fL)("age_key").notNull().default(""),administrationFrequency:(0,b.fL)("administration_frequency").notNull().default(""),drugUnit:(0,b.fL)("drug_unit").notNull().default(""),routeOfAdministration:(0,b.fL)("route_of_administration").notNull().default(""),position:(0,h._L)("position").notNull(),condition:(0,b.fL)("condition").notNull().default(""),validationType:ee("validation_type").default("default"),version:(0,h._L)("version").notNull(),publishDate:(0,I.AB)("publish_date").defaultNow().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,I.AB)("deleted_at")});(0,f.lE)(et,({many:e,one:t})=>({history:e(ed),draft:t(ea,{fields:[et.itemId],references:[ea.itemId]})}));let ea=(0,_.af)("nt_drugs_library_drafts",{id:(0,N.eP)("id").primaryKey(),itemDraftId:(0,y.Vj)("item_draft_id").notNull().unique().defaultRandom(),itemId:(0,y.Vj)("item_id").references(()=>et.itemId,{onDelete:"cascade"}),key:(0,b.fL)("key").notNull(),type:T("type").notNull().default("drug"),position:(0,h._L)("position").notNull(),data:(0,x.JB)("data").$type().notNull(),createdAt:(0,I.AB)("created_at").defaultNow().notNull(),updatedAt:(0,I.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(ea,({one:e})=>({item:e(et,{fields:[ea.itemId],references:[et.itemId]})}));let ed=(0,_.af)("nt_drugs_library_history",{id:(0,N.eP)("id").primaryKey(),version:(0,h._L)("version").notNull(),itemId:(0,y.Vj)("item_id").references(()=>et.itemId,{onDelete:"cascade"}).notNull(),restoreKey:(0,y.Vj)("restore_key"),changes:(0,x.JB)("data").default([]),createdAt:(0,I.AB)("created_at").defaultNow().notNull()});(0,f.lE)(ed,({one:e})=>({item:e(et,{fields:[ed.itemId],references:[et.itemId]})}));let el=(0,_.af)("nt_pending_deletion",{id:(0,N.eP)("id").primaryKey(),scriptId:(0,y.Vj)("script_id").references(()=>U.scriptId,{onDelete:"cascade"}),screenId:(0,y.Vj)("screen_id").references(()=>W.screenId,{onDelete:"cascade"}),screenScriptId:(0,y.Vj)("screen_script_id").references(()=>U.scriptId,{onDelete:"cascade"}),diagnosisId:(0,y.Vj)("diagnosis_id").references(()=>G.diagnosisId,{onDelete:"cascade"}),diagnosisScriptId:(0,y.Vj)("diagnosis_script_id").references(()=>U.scriptId,{onDelete:"cascade"}),configKeyId:(0,y.Vj)("config_key_id").references(()=>R.configKeyId,{onDelete:"cascade"}),drugsLibraryItemId:(0,y.Vj)("drugs_library_item_id").references(()=>et.itemId,{onDelete:"cascade"}),scriptDraftId:(0,y.Vj)("script_draft_id").references(()=>Z.scriptDraftId,{onDelete:"cascade"}),screenDraftId:(0,y.Vj)("screen_draft_id").references(()=>H.screenDraftId,{onDelete:"cascade"}),diagnosisDraftId:(0,y.Vj)("diagnosis_draft_id").references(()=>X.diagnosisDraftId,{onDelete:"cascade"}),configKeyDraftId:(0,y.Vj)("config_key_draft_id").references(()=>E.configKeyDraftId,{onDelete:"cascade"}),drugsLibraryItemDraftId:(0,y.Vj)("drugs_library_item_draft_id").references(()=>ea.itemDraftId,{onDelete:"cascade"}),aliasId:(0,y.Vj)("alias_id").references(()=>A.uuid,{onDelete:"cascade"}),createdAt:(0,I.AB)("created_at").defaultNow().notNull()});(0,f.lE)(el,({one:e})=>({script:e(U,{fields:[el.scriptId],references:[U.scriptId]}),screen:e(W,{fields:[el.screenId],references:[W.screenId]}),screenScript:e(U,{fields:[el.screenScriptId],references:[U.scriptId]}),diagnosis:e(G,{fields:[el.diagnosisId],references:[G.diagnosisId]}),diagnosisScript:e(U,{fields:[el.diagnosisScriptId],references:[U.scriptId]}),configKey:e(R,{fields:[el.configKeyId],references:[R.configKeyId]}),drugsLibraryItem:e(et,{fields:[el.drugsLibraryItemId],references:[et.itemId]}),scriptDraft:e(Z,{fields:[el.scriptId],references:[Z.scriptDraftId]}),screenDraft:e(H,{fields:[el.screenId],references:[H.screenDraftId]}),diagnosisDraft:e(X,{fields:[el.diagnosisId],references:[X.diagnosisDraftId]}),configKeyDraft:e(E,{fields:[el.configKeyId],references:[E.configKeyDraftId]}),drugsLibraryItemDraft:e(ea,{fields:[el.drugsLibraryItemDraftId],references:[ea.itemDraftId]}),alias:e(A,{fields:[el.aliasId],references:[A.uuid]})})),k.enumValues;let es=$.enumValues,ei=P.enumValues;var en=a(60097),er=a(31048),eo=a(53313);function ec({filters:e,setFilters:t}){let[a,l]=(0,c.Z)();return d.jsx("div",{ref:a,children:(0,d.jsxs)("div",{className:"flex flex-col gap-y-6",children:[d.jsx("div",{children:(0,d.jsxs)(en.h_,{children:[d.jsx(en.$F,{asChild:!0,children:(0,d.jsxs)(i.z,{disabled:!0,variant:"outline",className:"w-full",children:[e.scriptsTypes.length?e.scriptsTypes.length>1?`${e.scriptsTypes.length} script types`:e.scriptsTypes[0]:"Select script types",d.jsx(o.Z,{className:"ml-auto h-4 w-4"})]})}),(0,d.jsxs)(en.AW,{className:"max-h-[400px] overflow-y-auto",style:{width:l.width},children:[d.jsx(en.Ju,{children:"Script types"}),d.jsx(en.VD,{}),d.jsx("div",{className:" max-h-[400px] overflow-y-auto",children:es.map(a=>{let l=e.scriptsTypes.includes(a);return d.jsx(en.bO,{checked:l,onCheckedChange:()=>{t(e=>({scriptsTypes:l?e.scriptsTypes.filter(e=>e!==a):[...e.scriptsTypes,a]}))},children:d.jsx("div",{dangerouslySetInnerHTML:{__html:a}})},a)})})]})]})}),d.jsx("div",{children:(0,d.jsxs)(en.h_,{children:[d.jsx(en.$F,{asChild:!0,children:(0,d.jsxs)(i.z,{disabled:!0,variant:"outline",className:"w-full",children:[e.screensTypes.length?e.screensTypes.length>1?`${e.screensTypes.length} screen types`:e.screensTypes[0]:"Select screen types",d.jsx(o.Z,{className:"ml-auto h-4 w-4"})]})}),(0,d.jsxs)(en.AW,{className:"max-h-[400px] overflow-y-auto",style:{width:l.width},children:[d.jsx(en.Ju,{children:"Screen types"}),d.jsx(en.VD,{}),d.jsx("div",{className:" max-h-[400px] overflow-y-auto",children:ei.map(a=>{let l=e.screensTypes.includes(a);return d.jsx(en.bO,{checked:l,onCheckedChange:()=>{t(e=>({screensTypes:l?e.screensTypes.filter(e=>e!==a):[...e.screensTypes,a]}))},children:d.jsx("div",{dangerouslySetInnerHTML:{__html:a}})},a)})})]})]})}),d.jsx("div",{children:(0,d.jsxs)(er._,{htmlFor:"withImagesOnly",className:"flex items-center",children:[d.jsx(eo.X,{id:"withImagesOnly",checked:e.withImagesOnly,onCheckedChange:()=>t({withImagesOnly:!e.withImagesOnly})}),"\xa0 With images only"]})})]})})}var ef=a(7027),eu=a(90434),ep=a(9162),em=a(77863),e_=a(71708),eN=a(41137),ey=a(7890),eb=a(79131);function eh({children:e,...t}){let{dataType:a,loadData:l}=t;return(0,d.jsxs)(d.Fragment,{children:[d.jsx("div",{className:"h-[60px]"}),(0,d.jsxs)("div",{className:" h-[60px] border-b fixed top-0 left-0 w-full px-4 flex items-center bg-white z-10 gap-x-4 ",children:[d.jsx("div",{className:"text-xl",children:(0,eb.Z)(a)}),d.jsx("div",{className:"ml-auto"}),e,(0,d.jsxs)(ey.yo,{children:[d.jsx(ey.aM,{asChild:!0,children:(0,d.jsxs)(i.z,{variant:"outline",children:[d.jsx(eN.Z,{className:"h-4 w-4 mr-2"}),"Filters"]})}),(0,d.jsxs)(ey.ue,{className:"p-0 flex flex-col",children:[(0,d.jsxs)(ey.Tu,{className:"p-4",children:[(0,d.jsxs)(ey.bC,{children:["Filter ",a]}),d.jsx(ey.Ei,{children:""})]}),d.jsx("div",{className:"flex-1 px-4 overflow-y-auto",children:d.jsx(ec,{...t})}),d.jsx(ey.FF,{className:"p-4 border-t",children:d.jsx(ey.sw,{asChild:!0,children:(0,d.jsxs)(i.z,{className:"w-full mt-6",onClick:()=>l(),children:["Load ",t.dataType]})})})]})]})]})]})}function eg(e){let{screens:t,screensColumns:a,setScreensColumns:l}=e,s=(0,n.useMemo)(()=>Object.keys({...t.data[0]}).map(e=>e),[t.data[0]]);return(0,d.jsxs)(d.Fragment,{children:[d.jsx(eh,{...e,children:(0,d.jsxs)(en.h_,{children:[d.jsx(en.$F,{asChild:!0,children:(0,d.jsxs)(i.z,{variant:"outline",children:["Columns",d.jsx(o.Z,{className:"ml-auto h-4 w-4"})]})}),(0,d.jsxs)(en.AW,{className:"max-h-[400px]",children:[d.jsx(en.Ju,{children:"Screens"}),d.jsx(en.VD,{}),d.jsx("div",{className:" max-h-[400px] overflow-y-auto",children:s.map(e=>{let t=a.includes(e);return d.jsx(en.bO,{checked:t,onCheckedChange:()=>{l(a=>t?a.filter(t=>t!==e):[...a,e])},children:e},e)})})]})]})}),d.jsx(ep.DataTable,{columns:[{name:"Screen",cellClassName:"w-10",cellRenderer:({value:e})=>d.jsx(eu.default,{target:"_blank",href:`${e}`,children:d.jsx(ef.Z,{className:"text-primary w-4 h-4"})})},...s.map(e=>({name:e,cellClassName:(0,em.cn)("truncate max-w-[200px]",!a.includes(e)&&"hidden"),cellRenderer({value:a,rowIndex:l}){let s=t.data[l],i=null;return("image1"===e&&(i=s.image1),"image2"===e&&(i=s.image2),"image3"===e&&(i=s.image3),i)?d.jsx("div",{className:"w-10 h-10",children:d.jsx(e_.E,{alt:s.screenId,src:i.data})}):"scriptTitle"===e?(0,d.jsxs)(eu.default,{target:"_blank",href:`/script/${s.scriptId}`,className:"flex items-center text-primary",children:[d.jsx(ef.Z,{className:"text-gray-400 w-4 h-4"}),"\xa0",a]}):a}}))],data:t.data.map(e=>[`/script/${e.scriptId}/screen/${e.screenId}`,...s.map(t=>{let a=e[t];return null!==a&&"object"==typeof a?typeof a:`${a}`})])})]})}function ex(e){let{diagnoses:t,diagnosesColumns:a,setDiagnosesColumns:l}=e,s=(0,n.useMemo)(()=>Object.keys({...t.data[0]}).map(e=>e),[t.data[0]]);return(0,d.jsxs)(d.Fragment,{children:[d.jsx(eh,{...e,children:(0,d.jsxs)(en.h_,{children:[d.jsx(en.$F,{asChild:!0,children:(0,d.jsxs)(i.z,{variant:"outline",children:["Columns",d.jsx(o.Z,{className:"ml-auto h-4 w-4"})]})}),(0,d.jsxs)(en.AW,{className:"max-h-[400px]",children:[d.jsx(en.Ju,{children:"Diagnoses"}),d.jsx(en.VD,{}),d.jsx("div",{className:" max-h-[400px] overflow-y-auto",children:s.map(e=>{let t=a.includes(e);return d.jsx(en.bO,{checked:t,onCheckedChange:()=>{l(a=>t?a.filter(t=>t!==e):[...a,e])},children:e},e)})})]})]})}),d.jsx(ep.DataTable,{columns:[{name:"Screen",cellClassName:"w-10",cellRenderer:({value:e})=>d.jsx(eu.default,{target:"_blank",href:`${e}`,children:d.jsx(ef.Z,{className:"text-primary w-4 h-4"})})},...s.map(e=>({name:e,cellClassName:(0,em.cn)("truncate max-w-[200px]",!a.includes(e)&&"hidden"),cellRenderer({value:a,rowIndex:l}){let s=t.data[l],i=null;return("image1"===e&&(i=s.image1),"image2"===e&&(i=s.image2),"image3"===e&&(i=s.image3),"scriptTitle"===e)?(0,d.jsxs)(eu.default,{target:"_blank",href:`/script/${s.scriptId}`,className:"flex items-center text-primary",children:[d.jsx(ef.Z,{className:"text-gray-400 w-4 h-4"}),"\xa0",a]}):i?d.jsx("div",{className:"w-10 h-10",children:d.jsx(e_.E,{alt:s.diagnosisId,src:i.data})}):a}}))],data:t.data.map(e=>[`/script/${e.scriptId}/diagnosis/${e.diagnosisId}`,...s.map(t=>{let a=e[t];return null!==a&&"object"==typeof a?typeof a:`${a}`})])})]})}function eI(e){let t=function(e){let[t,a]=(0,n.useState)(!1),[d,l]=(0,n.useState)(!1),[s,i]=(0,n.useState)({data:[]}),[o,c]=(0,n.useState)(["title"]),[f,u]=(0,n.useState)({data:[]}),[p,m]=(0,n.useState)(["title","image1","image2","image3","scriptTitle","hospitalName"]),[_,N]=(0,n.useState)({data:[]}),[y,b]=(0,n.useState)(["name","image1","image2","image3","scriptTitle","hospitalName"]),[h,g]=(0,n.useState)({screensIds:[],diagnosesIds:[],hospitalsIds:[],scriptsIds:[],screensTypes:[],scriptsTypes:[],withImagesOnly:!0,draftsOnly:!1}),[x,I]=(0,n.useState)(h),j=(0,n.useCallback)(e=>g(t=>({...t,..."function"==typeof e?e(t):e})),[]),v=(0,n.useMemo)(()=>!t||JSON.stringify(h)!==JSON.stringify(x),[h,x,t]),w=(0,n.useCallback)(async()=>{try{l(!0);let e={hospitalIds:h.hospitalsIds,returnDraftsIfExist:!0,scriptsIds:h.scriptsIds,withDeleted:!1},{errors:t,data:d}=(await r.Z.get(`/api/scripts?data=${JSON.stringify(e)}`)).data;if(t?.length)throw Error(t.join(", "));i({data:d}),I(h),a(!0)}catch(e){alert(e.message)}finally{l(!1)}},[h]),L=(0,n.useCallback)(async()=>{try{l(!0);let e={scriptsIds:h.scriptsIds,screensIds:h.screensIds,returnDraftsIfExist:!0,withDeleted:!1,withImagesOnly:h.withImagesOnly},{errors:t,data:d}=(await r.Z.get(`/api/screens?data=${JSON.stringify(e)}`)).data;if(t?.length)throw Error(t.join(", "));u({data:d}),I(h),a(!0)}catch(e){alert(e.message)}finally{l(!1)}},[h]),A=(0,n.useCallback)(async()=>{try{l(!0);let e={scriptsIds:h.scriptsIds,diagnosesIds:h.diagnosesIds,returnDraftsIfExist:!0,withDeleted:!1,withImagesOnly:h.withImagesOnly},{errors:t,data:d}=(await r.Z.get(`/api/diagnoses?data=${JSON.stringify(e)}`)).data;if(t?.length)throw Error(t.join(", "));N({data:d}),I(h),a(!0)}catch(e){alert(e.message)}finally{l(!1)}},[h]),D=(0,n.useCallback)(()=>{"diagnoses"===e.dataType?A():"screens"===e.dataType?L():w()},[e.dataType,A,L,w]);return{...e,loading:d,scripts:s,screens:f,diagnoses:_,filters:h,canLoadData:v,dataInitialised:t,scriptsColumns:o,screensColumns:p,diagnosesColumns:y,setScriptsColumns:c,setScreensColumns:m,setDiagnosesColumns:b,loadData:D,setLoading:l,setScripts:i,setScreens:u,setDiagnoses:N,_setFilters:g,setFilters:j,loadScripts:w,loadScreens:L,loadDiagnoses:A}}(e),{loading:a,dataInitialised:o,canLoadData:c,loadData:f}=t;return(0,d.jsxs)(d.Fragment,{children:[a&&d.jsx(s.a,{overlay:!0}),o?(0,d.jsxs)(d.Fragment,{children:["screens"===e.dataType&&d.jsx(eg,{...t}),"diagnoses"===e.dataType&&d.jsx(ex,{...t})]}):d.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex flex-col p-5 overflow-y-auto",children:d.jsx("div",{className:"m-auto w-full max-w-lg",children:d.jsx(l.Zb,{children:(0,d.jsxs)(l.aY,{children:[(0,d.jsxs)(l.Ol,{children:[d.jsx(l.ll,{children:"Filters"}),(0,d.jsxs)(l.SZ,{children:["Filter ",e.dataType]})]}),d.jsx(ec,{...e,...t}),(0,d.jsxs)(i.z,{className:"w-full mt-6",disabled:!c,onClick:()=>f(),children:["Load ",e.dataType]})]})})})})]})}},60097:(e,t,a)=>{"use strict";a.d(t,{$F:()=>f,AW:()=>u,Ju:()=>_,VD:()=>N,Xi:()=>p,bO:()=>m,h_:()=>c});var d=a(10326),l=a(17577),s=a(79313),i=a(39183),n=a(32933),r=a(53982),o=a(77863);let c=s.fC,f=s.xz;s.ZA,s.Uv,s.Tr,s.Ee,l.forwardRef(({className:e,inset:t,children:a,...l},n)=>(0,d.jsxs)(s.fF,{ref:n,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...l,children:[a,d.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=s.fF.displayName,l.forwardRef(({className:e,...t},a)=>d.jsx(s.tu,{ref:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=s.tu.displayName;let u=l.forwardRef(({className:e,sideOffset:t=4,...a},l)=>d.jsx(s.Uv,{children:d.jsx(s.VY,{ref:l,sideOffset:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));u.displayName=s.VY.displayName;let p=l.forwardRef(({className:e,inset:t,...a},l)=>d.jsx(s.ck,{ref:l,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));p.displayName=s.ck.displayName;let m=l.forwardRef(({className:e,children:t,checked:a,...l},i)=>(0,d.jsxs)(s.oC,{ref:i,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...l,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(s.wU,{children:d.jsx(n.Z,{className:"h-4 w-4"})})}),t]}));m.displayName=s.oC.displayName,l.forwardRef(({className:e,children:t,...a},l)=>(0,d.jsxs)(s.Rk,{ref:l,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(s.wU,{children:d.jsx(r.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=s.Rk.displayName;let _=l.forwardRef(({className:e,inset:t,...a},l)=>d.jsx(s.__,{ref:l,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));_.displayName=s.__.displayName;let N=l.forwardRef(({className:e,...t},a)=>d.jsx(s.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));N.displayName=s.Z0.displayName},31048:(e,t,a)=>{"use strict";a.d(t,{_:()=>o});var d=a(10326),l=a(17577),s=a(34478),i=a(28671),n=a(77863);let r=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef(({className:e,secondary:t,error:a,...l},i)=>d.jsx(s.f,{ref:i,className:(0,n.cn)(r(),t&&"text-xs",a?"text-danger":"",e),...l}));o.displayName=s.f.displayName},7890:(e,t,a)=>{"use strict";a.d(t,{Ei:()=>h,FF:()=>y,Tu:()=>N,aM:()=>c,bC:()=>b,sw:()=>f,ue:()=>_,yo:()=>o});var d=a(10326),l=a(17577),s=a(98958),i=a(28671),n=a(94019),r=a(77863);let o=s.fC,c=s.xz,f=s.x8,u=s.h_,p=l.forwardRef(({className:e,...t},a)=>d.jsx(s.aV,{className:(0,r.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));p.displayName=s.aV.displayName;let m=(0,i.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),_=l.forwardRef(({side:e="right",className:t,children:a,hideCloseButton:l,...i},o)=>(0,d.jsxs)(u,{children:[d.jsx(p,{}),(0,d.jsxs)(s.VY,{ref:o,className:(0,r.cn)(m({side:e}),t),...i,children:[a,!0!==l&&(0,d.jsxs)(s.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(n.Z,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_.displayName=s.VY.displayName;let N=({className:e,...t})=>d.jsx("div",{className:(0,r.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});N.displayName="SheetHeader";let y=({className:e,...t})=>d.jsx("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});y.displayName="SheetFooter";let b=l.forwardRef(({className:e,...t},a)=>d.jsx(s.Dx,{ref:a,className:(0,r.cn)("text-lg font-semibold text-foreground",e),...t}));b.displayName=s.Dx.displayName;let h=l.forwardRef(({className:e,...t},a)=>d.jsx(s.dk,{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));h.displayName=s.dk.displayName},58464:(e,t,a)=>{"use strict";a.d(t,{$7:()=>l,Tf:()=>n,_S:()=>d,m1:()=>i,ph:()=>r,uh:()=>s});let d="Example: ($key = true and $key2 = false) or $key3 = 'HD'",l={fontSize:{},fontWeight:{},fontStyle:{},textColor:{},backgroundColor:{},highlight:{}},s=[{value:"screens",label:"Screens"},{value:"diagnoses",label:"Diagnoses"},{value:"print",label:"Print"}],i=[{label:"Admission",value:"admission"},{label:"Discharge",value:"discharge"},{label:"Neolab",value:"neolab"},{label:"Daily Record",value:"drecord"}],n=[{value:"checklist",label:"Checklist"},{value:"form",label:"Form"},{value:"management",label:"Management"},{value:"multi_select",label:"Multiple choice list"},{value:"single_select",label:"Single choice list"},{value:"progress",label:"Progress"},{value:"timer",label:"Timer"},{value:"yesno",label:"Yes/No"},{value:"drugs",label:"Drugs"},{value:"fluids",label:"Fluids"},{value:"zw_edliz_summary_table",label:"EDLIZ summary table (ZW)"},{value:"mwi_edliz_summary_table",label:"EDLIZ summary table (MWI)"},{value:"diagnosis",label:"Diagnosis"}],r=[{value:"risk",label:"Risk factor"},{value:"sign",label:"Sign/Symptom"}]},79131:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});let d=e=>`${e||""}`.charAt(0).toUpperCase()+`${e||""}`.slice(1)},68584:(e,t,a)=>{"use strict";a.d(t,{V:()=>n});var d=a(68570);let l=(0,d.createProxy)(String.raw`/home/morris/Documents/NEOTREE/REPOS/neotree-editor/app/(ops)/components/content.tsx`),{__esModule:s,$$typeof:i}=l;l.default;let n=(0,d.createProxy)(String.raw`/home/morris/Documents/NEOTREE/REPOS/neotree-editor/app/(ops)/components/content.tsx#Content`)},91732:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var d=a(19510),l=a(58585),s=a(40801);async function i({children:e}){let[t]=await Promise.all([(0,s.getAuthenticatedUser)()]);return["admin","super_user"].includes(t?.role)||(0,l.redirect)("/"),d.jsx(d.Fragment,{children:e})}}};