"use strict";exports.id=1943,exports.ids=[1943],exports.modules={96948:(e,a,l)=>{l.d(a,{Alert:()=>r});var t=l(96221),s=l(35047);function r(e){(0,s.useRouter)();let{alert:a}=(0,t.s)();return null}l(17577)},16722:(e,a,l)=>{l.d(a,{Uv:()=>r,VO:()=>s,d4:()=>t,fR:()=>n});let t=[{value:"allSearches",label:"Found in all searches"},{value:"admissionSearches",label:"Found in admission searches"},{value:"twinSearches",label:"Found in twin searches"}],s=[{label:"Days & hours",value:"days_hours"},{label:"Years & Months",value:"years_months"}],r=[{name:"date",label:"Date"},{name:"datetime",label:"Date + Time"},{name:"dropdown",label:"Dropdown"},{name:"multi_select",label:"Multiple choice list"},{name:"number",label:"Number"},{name:"text",label:"Text"},{name:"time",label:"Time"},{name:"period",label:"Time period"}],i={calculation:null,condition:"",confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,refKey:null,label:null,minValue:null,maxValue:null,optional:!1,minDate:null,maxDate:null,minTime:null,maxTime:null,minDateKey:"",maxDateKey:"",minTimeKey:"",maxTimeKey:"",values:"",editable:!1},n={admission:[{...i,type:"dropdown",key:"BabyTransfered",values:"Y,Yes\nN,No",label:"Has the baby been transfered from another facility"},{...i,type:"text",key:"patientNUID",label:"Search patient's NUID",condition:"$BabyTransfered = 'Y'"},{...i,type:"dropdown",key:"BabyTwin",values:"Y,Yes\nN,No",label:"Does the baby have a twin?"},{...i,type:"text",key:"BabyTwinNUID",label:"Search twin's NUID",condition:"$BabyTwin = 'Y'"}],other:[{...i,type:"text",key:"patientNUID",values:"Y,Yes\nN,No",label:"Search patient's NUID"}]}},58464:(e,a,l)=>{l.d(a,{$7:()=>o,F4:()=>y,PU:()=>i,Tf:()=>u,UQ:()=>h,_S:()=>n,m1:()=>c,ph:()=>m,uh:()=>d,y0:()=>b});var t=l(16722),s=l(75743),r=l(20698);let i={headerFormat:"",headerFields:[],footerFields:[],sections:[]},n="Example: ($key = true and $key2 = false) or $key3 = 'HD'",o={fontSize:{},fontWeight:{},fontStyle:{},textColor:{},backgroundColor:{},highlight:{}},d=[{value:"screens",label:"Screens"},{value:"diagnoses",label:"Diagnoses"},{value:"print",label:"Print"}],c=[{label:"Admission",value:"admission"},{label:"Discharge",value:"discharge"},{label:"Neolab",value:"neolab"},{label:"Daily Record",value:"drecord"}],u=[{value:"checklist",label:"Checklist"},{value:"form",label:"Form"},{value:"management",label:"Management"},{value:"multi_select",label:"Multiple choice list"},{value:"single_select",label:"Single choice list"},{value:"progress",label:"Progress"},{value:"timer",label:"Timer"},{value:"yesno",label:"Yes/No"},{value:"drugs",label:"Drugs"},{value:"fluids",label:"Fluids"},{value:"zw_edliz_summary_table",label:"EDLIZ summary table (ZW)"},{value:"mwi_edliz_summary_table",label:"EDLIZ summary table (MWI)"},{value:"diagnosis",label:"Diagnosis"}],m=[{value:"risk",label:"Risk factor"},{value:"sign",label:"Sign/Symptom"}];({...u.reduce((e,a)=>{let l=a.value,t=a.value,s=[t,`${t}_option`];return"single_select"===l&&(s=[...s,"dropdown","dropdown_option"]),{...e,[t]:s}},{}),...t.Uv.reduce((e,a)=>{let l=a.name,t=a.name,s=[t,`${t}_option`];return"dropdown"===l&&(s=[...s,"single_select","single_select_option"]),{...e,[t]:s}},{})});let b=[{value:"checklist_option",label:"checklist_option",hasChildren:!1},{value:"multi_select",label:"multi_select",hasChildren:!0},{value:"multi_select_option",label:"multi_select_option",hasChildren:!1},{value:"single_select",label:"single_select",hasChildren:!0},{value:"single_select_option",label:"single_select_option",hasChildren:!1},{value:"yesno",label:"yesno",hasChildren:!1},{value:"zw_edliz_summary_table_option",label:"zw_edliz_summary_table_option",hasChildren:!1},{value:"mwi_edliz_summary_table_option",label:"mwi_edliz_summary_table_option",hasChildren:!1},{value:"diagnosis",label:"diagnosis",hasChildren:!1},{value:"diagnosis_symptom_sign",label:"diagnosis_symptom_sign",hasChildren:!1},{value:"diagnosis_symptom_risk",label:"diagnosis_symptom_risk",hasChildren:!1},{value:"date",label:"date",hasChildren:!1},{value:"datetime",label:"datetime",hasChildren:!1},{value:"dropdown",label:"dropdown",hasChildren:!0},{value:"dropdown_option",label:"dropdown_option",hasChildren:!1},{value:"number",label:"number",hasChildren:!1},{value:"text",label:"text",hasChildren:!1},{value:"timer",label:"timer",hasChildren:!1},{value:"period",label:"period",hasChildren:!1},{value:"ref_id",label:"ref_id",hasChildren:!1}],y=[{value:"label.asc",label:"Label (asc)",Icon:s.Z},{value:"label.desc",label:"Label (desc)",Icon:r.Z},{value:"key.asc",label:"Key (asc)",Icon:s.Z},{value:"key.desc",label:"Key (desc)",Icon:r.Z},{value:"type.asc",label:"Type (asc)",Icon:s.Z},{value:"type.desc",label:"Type (desc)",Icon:r.Z},{value:"refId.asc",label:"Ref ID (asc)",Icon:s.Z},{value:"refId.desc",label:"Ref ID (desc)",Icon:r.Z},{value:"createdAt.asc",label:"Date (asc)",Icon:s.Z},{value:"createdAt.desc",label:"Date (desc)",Icon:r.Z}],h=[{label:"Published",value:"published"},{label:"Drafts",value:"drafts"}]},49596:(e,a,l)=>{l.d(a,{DataKeysCtxProvider:()=>b,M:()=>m});var t=l(10326),s=l(17577),r=l(44099),i=l(93396),n=l(35047),o=l(96221),d=l(96948),c=l(58464);let u=(0,s.createContext)(null),m=()=>{let e=(0,s.useContext)(u);if(!e)throw Error("useChart must be used within a <DataKeysCtxProvider />");return e};function b({children:e,prefetchDataKeys:a=!0}){(0,s.useRef)(!1);let l=(0,n.useRouter)(),{alert:m}=(0,o.s)(),[b,h]=(0,i.v1)("uuid",{clearOnDefault:!0,shallow:!0,history:"push",defaultValue:""}),[v,p]=(0,s.useState)([]),[f,g]=(0,s.useState)(c.F4[0].value),[k,x]=(0,s.useState)(""),[_,w]=(0,s.useState)(!1),[D,C]=(0,s.useState)({data:[]}),[N,S]=(0,s.useState)(!1),I=(0,s.useCallback)(async()=>{w(!0),r.Z.get("/api/data-keys").then(e=>{e.data.data=y(e.data.data,f),C(e.data)}).catch(e=>{C({data:[],errors:[e.message]})}).finally(()=>w(!1))},[f]),[T,Z]=(0,s.useState)(!1),K=(0,s.useCallback)(async(e,a)=>{try{Z(!0);let t=(await r.Z.post("/api/data-keys/save",{data:e,broadcastAction:!0})).data;t.errors?.length?m({title:"Error",message:t.errors.join(", "),variant:"error"}):(await I(),l.refresh(),m({message:"Data key saved!",variant:"success",onClose:()=>a?.()}))}catch(e){m({title:"Error",message:"Failed to save data key: "+e.message,onClose:()=>a?.(e.message)})}finally{Z(!1)}},[m,l.refresh,I]),[F,R]=(0,s.useState)(!1),A=(0,s.useCallback)(async e=>{try{R(!0);let a=(await r.Z.delete("/api/data-keys?data="+JSON.stringify({dataKeysIds:e,broadcastAction:!0}))).data;if(a.errors?.length)throw Error(a.errors[0]);p([]),await I(),l.refresh(),m({title:"Success",message:"Data keys deleted successfully!",variant:"success"})}catch(e){m({title:"Error",message:e.message,variant:"error"})}finally{R(!1)}},[l.refresh,m,I]),[j,E]=(0,s.useState)(!1),P=(0,s.useCallback)(async e=>{try{E(!0);let a=(await r.Z.post("/api/data-keys/export",e)).data;if(a.errors?.length)throw Error(a.errors[0]);await I(),p([]),m({title:"Success",message:"Data exported successfully!",variant:"success"})}catch(e){m({title:"Error",message:e.message,variant:"error"})}finally{E(!1)}},[D.data,I,m]),Y=(0,s.useCallback)((e=c.F4[0].value)=>{g(e),p([]),C(a=>({...a,data:y(a.data,e)}))},[]),z=(0,s.useCallback)((e,a)=>{let l=e.map(e=>D.data.find(a=>a.uniqueKey===e||a.uuid===e)).filter(e=>e);return a?.withNested&&l.filter(e=>e.options.length).forEach(e=>{let t=z(e.options,a);l=[...l,...t]}),l.filter((e,a)=>l.map(e=>e.uniqueKey).indexOf(e.uniqueKey)===a)},[D]);return D?.errors?.length?t.jsx(d.Alert,{title:"Error",message:"Failed to load data keys: "+D?.errors?.join(", "),buttonLabel:"Try again",onClose:()=>I()}):t.jsx(t.Fragment,{children:t.jsx(u.Provider,{value:{loadingDataKeys:_,saving:T,exporting:j,deleting:F,dataKeys:D.data,errors:D.errors,selected:v,currentDataKeyUuid:b,sort:f,filter:k,extractDataKeys:z,deleteDataKeys:A,saveDataKeys:K,exportDataKeys:P,setCurrentDataKeyUuid:h,loadDataKeys:I,setSelected:p,setSort:g,onSort:Y,setFilter:x},children:e})})}function y(e,a=c.F4[0].value){let l=[...e],t=({key1:e,key2:a,sortDirection:l})=>{e=(e||"").trim().toLowerCase(),a=(a||"").trim().toLowerCase();let t=0;return"asc"===l?(e<a&&(t=-1),e>a&&(t=1)):(e>a&&(t=-1),e<a&&(t=1)),t};switch(a){case"refId.asc":l=e.sort((e,a)=>t({sortDirection:"asc",key1:(e.refId||"").trim(),key2:(a.refId||"").trim()}));break;case"refId.desc":l=e.sort((e,a)=>t({sortDirection:"desc",key1:(e.refId||"").trim(),key2:(a.refId||"").trim()}));break;case"key.desc":l=e.sort((e,a)=>t({sortDirection:"desc",key1:e.name,key2:a.name}));break;case"label.asc":l=e.sort((e,a)=>t({sortDirection:"asc",key1:(e.label||e.name||"").trim(),key2:(a.label||a.name||"").trim()}));break;case"label.desc":l=e.sort((e,a)=>t({sortDirection:"desc",key1:(e.label||e.name||"").trim(),key2:(a.label||a.name||"").trim()}));break;case"type.asc":l=e.sort((e,a)=>t({sortDirection:"asc",key1:(e.dataType||"").trim(),key2:(a.dataType||"").trim()}));break;case"type.desc":l=e.sort((e,a)=>t({sortDirection:"desc",key1:(e.dataType||"").trim(),key2:(a.dataType||"").trim()}));break;case"createdAt.asc":l=e.sort((e,a)=>t({sortDirection:"asc",key1:new Date(e.createdAt||"").getTime().toString(),key2:new Date(a.createdAt||"").getTime().toString()}));break;case"createdAt.desc":l=e.sort((e,a)=>t({sortDirection:"desc",key1:new Date(e.createdAt||"").getTime().toString(),key2:new Date(a.createdAt||"").getTime().toString()}));break;default:l=e.sort((e,a)=>t({sortDirection:"asc",key1:e.name,key2:a.name}))}return l}},24569:(e,a,l)=>{l.d(a,{V:()=>r});var t=l(19510),s=l(50650);function r({className:e,...a}){return t.jsx("div",{...a,className:(0,s.cn)("w-full max-w-screen-xl mx-auto p-5",e)})}},46697:(e,a,l)=>{l.d(a,{Zb:()=>i,aY:()=>n});var t=l(19510),s=l(71159),r=l(50650);let i=s.forwardRef(({className:e,...a},l)=>t.jsx("div",{ref:l,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card",s.forwardRef(({className:e,...a},l)=>t.jsx("div",{ref:l,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...a})).displayName="CardHeader",s.forwardRef(({className:e,...a},l)=>t.jsx("h3",{ref:l,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a})).displayName="CardTitle",s.forwardRef(({className:e,...a},l)=>t.jsx("p",{ref:l,className:(0,r.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let n=s.forwardRef(({className:e,...a},l)=>t.jsx("div",{ref:l,className:(0,r.cn)("p-6 pt-0",e),...a}));n.displayName="CardContent",s.forwardRef(({className:e,...a},l)=>t.jsx("div",{ref:l,className:(0,r.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},75644:(e,a,l)=>{l.d(a,{g2:()=>n});var t=l(68570);let s=(0,t.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor-master/contexts/data-keys/index.tsx`),{__esModule:r,$$typeof:i}=s;s.default,(0,t.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor-master/contexts/data-keys/index.tsx#DataKeysCtx`),(0,t.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor-master/contexts/data-keys/index.tsx#useDataKeysCtx`);let n=(0,t.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor-master/contexts/data-keys/index.tsx#DataKeysCtxProvider`)}};