exports.id=3118,exports.ids=[3118],exports.modules={48647:(e,s,t)=>{Promise.resolve().then(t.bind(t,33304)),Promise.resolve().then(t.bind(t,96948)),Promise.resolve().then(t.bind(t,10827)),Promise.resolve().then(t.t.bind(t,79404,23))},42954:(e,s,t)=>{"use strict";t.d(s,{M:()=>k});var a=t(10326),i=t(17577),l=t(83855),n=t(47035),r=t(2165),d=t(15491),o=t(44099),c=t(90772),m=t(46670),u=t(47463),x=t(63685),h=t(39572),p=t(2025),f=t(77863),y=t(11870),g=t(96221);async function j(e){return new Promise((s,t)=>{let a=new Image;a.onload=function(){s({width:a.width,height:a.height})},a.onerror=function(e,s,a,i,l){t(l||Error("Failed to load image"))},a.src=e})}var b=t(46226);function v({width:e=0,height:s=0,containerWidth:t,...i}){let l=i.sizes||"100vw",n={width:"100%",height:"auto"};if(s&&e&&t){l=void 0;let a=function({imageWidth:e,imageHeight:s,containerWidth:t}){return e>t&&(s=t/e*s,e=t),{imageWidth:e,imageHeight:s}}({imageWidth:e,imageHeight:s,containerWidth:t});n.width=a.imageWidth,n.height=a.imageHeight}return a.jsx(b.default,{...i,width:e,height:s,sizes:l,style:{...n,...i.style}})}function w({type:e,children:s,inputProps:t,fileDetails:l,onUpload:n,...d}){let[o,{width:m}]=(0,r.Z)(),[b,w]=(0,i.useState)(!1),[N,D]=(0,i.useState)([]),[k,S]=(0,i.useState)(!1),{alert:_}=(0,g.s)(),T=(0,i.useCallback)(async()=>{let e=t?.multiple?N:[N[0]];try{for(let{file:s,metadata:t,fileId:a}of(S(!0),e)){let e=new FormData;e.append("file",s),e.append("fileId",a||(0,u.Z)()),e.append("filename",s.name),e.append("contentType",s.type),e.append("size",`${s.size}`),e.append("metadata",JSON.stringify({...t})),l&&Object.keys(l).forEach(s=>{let t=l[s];e.append(s,JSON.stringify(t))}),await n(e)}w(!1),D([]),_({title:"Success",message:`File${e.length>1?"s":""} uploaded successfully!`,variant:"success"})}catch(s){_({title:"Error",message:`Failed to upload file${e.length>1?"s":""}: ${s.message}`,variant:"error"})}finally{S(!1)}},[n,_,N,t?.multiple,l]),I=(0,i.useCallback)(async e=>{try{let s=[];if(e.target.files?.length)for(let t=0;t<e.target.files.length;t++)s.push(e.target.files[t]);let t=[];for(let e of s){let s,a;let i=URL.createObjectURL(e),l={};if(`${e.type}`.includes("image"))try{let e=await j(i);l={...l,...e},s=i}catch(e){}t.push({fileId:(0,u.Z)(),file:e,url:i,imageURL:s,videoURL:a,metadata:l})}D(t)}catch(e){_({title:"Error",message:e.message})}},[_]);return(0,a.jsxs)(a.Fragment,{children:[k&&a.jsx(y.a,{overlay:!0}),a.jsx(p.u,{open:b,onOpenChange:e=>{w(e),D([])},title:"Upload file",trigger:s,...d,actions:(0,a.jsxs)(a.Fragment,{children:[!N.length&&a.jsx("div",{className:"flex-1"}),a.jsx(c.z,{variant:"ghost",onClick:()=>w(!1),children:"Cancel"}),!!N.length&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"flex-1"}),a.jsx(c.z,{variant:"destructive",onClick:()=>D([]),children:"Clear"}),(0,a.jsxs)(c.z,{disabled:!N.length,onClick:()=>T(),className:(0,f.cn)(!N.length&&"hidden"),children:[a.jsx(x.Z,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Upload"})]})]})]}),children:(0,a.jsxs)("div",{ref:o,children:[1===N.length&&N.map(e=>{let s=a.jsx(h.Z,{className:"w-20 h-20 text-muted-foreground"});return e.imageURL&&(s=a.jsx(v,{alt:"",width:e.metadata.width||0,height:e.metadata.height||0,containerWidth:m,src:e.imageURL||"/images/placeholder.png"})),(0,a.jsxs)("div",{className:(0,f.cn)(`
                                        flex
                                        flex-col
                                        gap-y-2
                                        w-full
                                        items-center
                                        justify-center
                                        text-xs
                                    `,!(e.imageURL||e.videoURL)&&""),children:[s,a.jsx("span",{children:e.file.name})]},e.fileId)}),!N.length&&(0,a.jsxs)("div",{className:(0,f.cn)(`
                                    relative
                                    w-full
                                    h-36
                                    bg-primary/20
                                    flex
                                    flex-col
                                    items-center
                                    justify-center
                                    text-primary
                                    uppercase
                                    font-bold
                                    rounded-md
                                    transition-colors
                                    hover:bg-primary/30
                                `,!!N.length&&"hidden"),children:[a.jsx("div",{children:t?.placeholder||"Choose file"}),a.jsx("input",{...t,type:"file",accept:e,value:"",className:(0,f.cn)(`
                                        absolute
                                        left-0
                                        top-0
                                        w-full
                                        h-full
                                        opacity-0
                                    `),onChange:I})]})]})})]})}var N=t(62288),D=t(82617);function k({image:e,disabled:s,onChange:t}){let[u,{width:x}]=(0,r.Z)(),{confirm:h}=(0,m.t)(),{uploadFile:p}=(0,D.h)(),f=(0,i.useCallback)(async e=>{let{file:s,errors:a}=(await o.Z.post("/api/files/upload",e)).data;if(a?.length)throw Error(a.join(", "));if(s){let e=d.Z.stringify({...s.metadata});e=e?`?${e}`:"",t({data:[process.env.NEXT_PUBLIC_APP_URL,`/files/${s.fileId}${e}`].join(""),fileId:s.fileId,filename:s.filename,size:s.size,contentType:s.contentType})}},[p,t]),y=`${e?.data||""}`.split("?").filter((e,s)=>s).join(""),{width:g,height:j}=d.Z.parse(y);return a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{ref:u,className:"flex flex-col gap-y-2 min-w-60 max-w-60",children:[a.jsx("div",{className:"w-full flex flex-col items-center justify-center min-h-28",children:a.jsx(v,{alt:"",width:Number(g||"0"),height:Number(j||"0"),containerWidth:x,src:e?.data||"/images/placeholder.png"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-x-4",children:[a.jsx(w,{type:"image/*",onUpload:f,children:a.jsx(N.hg,{asChild:!0,children:a.jsx(c.z,{size:"icon",className:"w-8 h-8 rounded-full",disabled:s,children:a.jsx(l.Z,{className:"h-4 w-4"})})})}),!!e&&a.jsx(c.z,{variant:"destructive",size:"icon",className:"w-8 h-8 rounded-full",disabled:s,onClick:()=>h(()=>t(null),{title:"Delete image",message:"Are you sure you want to delete this image?",danger:!0}),children:a.jsx(n.Z,{className:"h-4 w-4"})})]})]})})}},33304:(e,s,t)=>{"use strict";t.d(s,{ScreenForm:()=>G});var a=t(10326),i=t(17577),l=t(35047);/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(62881).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var r=t(34474),d=t(30811),o=t(88846),c=t(90772),m=t(54432),u=t(87673),x=t(31048),h=t(96655),p=t(53313),f=t(11870),y=t(3529),g=t(58464),j=t(77863),b=t(16722),v=t(8281);let w={zw_edliz_summary_table:[{label:"Confirmed sepsis or chorioamnionitis in mother",type:"Major criteria",subType:"Antenatal",id:"MAJC1"},{label:"Confirmed or suspected sepsis in twin",type:"Major criteria",subType:"Antenatal",id:"MAJC2"},{label:"Seizures",type:"Major criteria",subType:"Antenatal",id:"MAJC3"},{label:"Severe Respiratory Distress in a term infant",type:"Major criteria",subType:"Antenatal",id:"MAJC4"},{label:"Signs of shock",type:"Major criteria",subType:"Natal",id:"MAJC5"},{label:"ROM >18h",type:"Minor criteria",subType:"Antenatal",id:"MINC1"},{label:"Spontaneous Preterm Birth",type:"Minor criteria",subType:"Antenatal",id:"MINC2"},{label:"GBS sepsis in previous baby or documented GBS carriage in this pregnancy (urine or vaginal swab)",type:"Minor criteria",subType:"Antenatal",id:"MINC3"},{label:"Born Before Arrival",type:"Minor criteria",subType:"Natal",id:"MINC4"},{label:"Meconium Stained Liquor",type:"Minor criteria",subType:"Natal",id:"MINC5"},{label:"Respiratory distress that is not obviously related to:\n1. environmental hypothermia \n2. “delayed transition to extra-uterine life” i.e. mild to moderate respiratory distress apparent soon after birth that is improving with time. ",type:"Minor criteria",subType:"Postnatal",id:"MINC6"},{label:"Hypoxia",type:"Minor criteria",subType:"Postnatal",id:"MINC7"},{label:"Apnoea",type:"Minor criteria",subType:"Postnatal",id:"MINC8"},{label:"Hypoglycaemia/Hyperglycaemia not otherwise explained",type:"Minor criteria",subType:"Postnatal",id:"MINC9"},{label:"Temperature instability not explained by environmental factors",type:"Minor criteria",subType:"Postnatal",id:"MINC10"},{label:"Acidosis not obviously related to HIE",type:"Minor criteria",subType:"Postnatal",id:"MINC11"},{label:"Unexplained bleeding or thrombocytopenia",type:"Minor criteria",subType:"Postnatal",id:"MINC12"},{label:"Mild encephalopathy/Altered responsiveness",type:"Minor criteria",subType:"Postnatal",id:"MINC13"},{label:"Altered tone not otherwise explained",type:"Minor criteria",subType:"Postnatal",id:"MINC14"},{label:"Feed intolerance/feeding difficulty",type:"Minor criteria",subType:"Postnatal",id:"MINC15"},{label:"Abnormal heart rate (<90 or >160)",type:"Minor criteria",subType:"Postnatal",id:"MINC16"},{label:"Jaundice in first 24h",type:"Minor criteria",subType:"Postnatal",id:"MINC17"}],mwi_edliz_summary_table:[{label:"Fever >38 in mother",type:"Antenatal risk factors",subType:"",id:"ARF1"},{label:"Rupture of membranes >18h",type:"Antenatal risk factors",subType:"",id:"ARF2"},{label:"Offensive Liquor",type:"Antenatal risk factors",subType:"",id:"ARF3"},{label:"Temperature <35.5 or >37.5",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS1"},{label:"Bulging Fontanelle",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS2"},{label:"Grunting ",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS3"},{label:"nasal flaring",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS4"},{label:"fast breathing",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS5"},{label:"chest indrawing",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS6"},{label:"Crepitations in the lungs",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS7"},{label:"Umbilical redness extending to the periumbilical skin or umbilicus draining pus",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS8"},{label:"reduced movement of limbs",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS9"},{label:"Many skin pustules/big boil (abscess)",type:"Symptoms and Signs of Sepsis",subType:"",id:"SSS10"},{label:"Drowsiness",type:"Signs/symptoms of meningitis",subType:"",id:"SM1"},{label:"Lethargy/unconscious",type:"Signs/symptoms of meningitis",subType:"",id:"SM2"},{label:"Persistent irritability",type:"Signs/symptoms of meningitis",subType:"",id:"SM3"},{label:"High pitched cry",type:"Signs/symptoms of meningitis",subType:"",id:"SM4"},{label:"Convulsions",type:"Signs/symptoms of meningitis",subType:"",id:"SM5"},{label:"Cold hands and feet",type:"Shock (Danger signs)",subType:"",id:"SDS1"},{label:"Capillary refill time > 3 seconds",type:"Shock (Danger signs)",subType:"",id:"SDS2"},{label:"Fast and weak pulse",type:"Shock (Danger signs)",subType:"",id:"SDS3"}]};var N=t(69486),D=t(74723),k=t(47463),S=t(44099),_=t(82617),T=t(61892),I=t(96221),C=t(42954),F=t(61541),M=t(83855),R=t(39447),V=t(69508),P=t(47035),$=t(77228),z=t(62288),A=t(60097),Z=t(46670),L=t(29354);function K({disabled:e,selected:s,onDelete:t,onCopy:i}){return a.jsx(a.Fragment,{children:!!s.length&&a.jsx(L.h,{children:(0,a.jsxs)(c.z,{variant:"destructive",className:"h-auto w-auto",disabled:e,onClick:()=>t(),children:[a.jsx(P.Z,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:s.length>1?`Delete ${s.length} fields`:"Delete field"})]})})})}var U=t(2025),E=t(33153),Y=t(31949),H=t(48488);function q({children:e,field:s,form:t,disabled:l,...n}){let{data:d,index:f}={...s},[y,g]=(0,i.useState)(!!d),[v,w]=(0,i.useState)(!1),{getDefaultValues:k}=(0,H.U)(d),{reset:S,register:_,getValues:I,watch:C,setValue:F,handleSubmit:M}=(0,D.cI)({defaultValues:k()}),R=C("type"),V=C("key"),P=C("label"),$=C("optional"),A=C("printable"),Z=C("confidential"),L=C("maxDate"),K=C("minDate"),q=C("maxTime"),B=C("minTime"),O=C("prePopulate"),W=C("defaultValue"),X=C("values"),J=(0,i.useMemo)(()=>(0,Y.s)(X),[X]),G=(0,i.useMemo)(()=>"date"===R||"datetime"===R,[R]),Q=(0,i.useMemo)(()=>"time"===R,[R]),ee=(0,i.useMemo)(()=>"text"===R,[R]),es=(0,i.useMemo)(()=>"period"===R,[R]),et=(0,i.useMemo)(()=>"number"===R,[R]),ea=(0,i.useMemo)(()=>"dropdown"===R,[R]),ei=(0,i.useMemo)(()=>!!l,[l]),el=M(e=>{!(0,T.x)(f)&&d?t.setValue("fields",t.getValues("fields").map((s,t)=>({...s,...t===f?e:null}))):t.setValue("fields",[...t.getValues("fields"),e],{shouldDirty:!0}),w(!1)});return a.jsx(a.Fragment,{children:a.jsx(U.u,{open:v,title:d?"New field":"Edit field",trigger:"function"==typeof e?e({extraProps:n}):e,onOpenChange:e=>{w(e),S(k()),g(!!d)},actions:(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:(0,j.cn)("text-danger text-xs",ei&&"hidden"),children:"* Required"}),a.jsx("div",{className:"flex-1"}),a.jsx(z.GG,{asChild:!0,children:a.jsx(c.z,{variant:"ghost",children:"Cancel"})}),a.jsx(c.z,{disabled:ei||!R,onClick:()=>{y?el():(g(!0),S({...k(),type:R}))},children:y?"Save":"Continue"})]}),children:y?(0,a.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.D,{children:"Field type"}),(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"type",children:"Type *"}),(0,a.jsxs)(r.Ph,{value:R,required:!0,name:"type",disabled:!0,onValueChange:e=>{F("type",e,{shouldDirty:!0})},children:[a.jsx(r.i4,{children:a.jsx(r.ki,{placeholder:"Select type"})}),a.jsx(r.Bw,{children:(0,a.jsxs)(r.DI,{children:[a.jsx(r.n5,{children:"User role"}),b.Uv.map(e=>a.jsx(r.Ql,{value:e.name,children:e.label},e.name))]})})]})]})]}),(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.D,{children:"Flow control"}),(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"condition",children:"Conditional expression"}),a.jsx(m.I,{..._("condition",{disabled:ei}),name:"condition",noRing:!1}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Example: ($key = true and $key2 = false) or $key3 = 'HD'"})]})]}),(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.D,{children:"Properties"}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:gap-y-0 sm:flex-row sm:gap-x-2 sm:items-center",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{error:!ei&&!V,htmlFor:"key",children:"Key *"}),a.jsx(m.I,{..._("key",{disabled:ei,required:!0}),name:"key",error:!ei&&!V})]}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(x._,{error:!ei&&!P,htmlFor:"label",children:"Label *"}),a.jsx(m.I,{..._("label",{disabled:ei}),name:"label",error:!ei&&!P})]})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"refKey",children:"Reference Key"}),a.jsx(m.I,{..._("refKey",{disabled:ei}),name:"refKey",noRing:!1}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Link this field to ",a.jsx("b",{children:"another field with this key"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:gap-y-0 sm:flex-row sm:gap-x-2 sm:items-center",children:[(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(h.r,{id:"confidential",disabled:ei,checked:Z,onCheckedChange:e=>F("confidential",e,{shouldDirty:!0})}),a.jsx(x._,{htmlFor:"confidential",children:"Confidential"})]}),(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(h.r,{id:"optional",disabled:ei,checked:$,onCheckedChange:e=>F("optional",e,{shouldDirty:!0})}),a.jsx(x._,{htmlFor:"optional",children:"Optional"})]})]}),ea&&a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"values",className:(0,j.cn)(J.length?"text-danger":""),children:"Values"}),a.jsx(u.g,{..._("values",{disabled:ei}),name:"values",rows:5,noRing:!1,className:(0,j.cn)(J.length?"border-danger":"")}),a.jsx("span",{className:"text-xs text-danger",children:J.join(", ")})]})}),(es||et)&&a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"calculation",children:"Reference expression"}),a.jsx(m.I,{..._("calculation",{disabled:ei}),name:"calculation",noRing:!1}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Example: $key or SUM($key1,$key2...) or DIVIDE($key1,$key2...) or MULTIPLY($key1,$key2...) or SUBTRACT($key1,$key2...)"})]})}),et&&a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:gap-y-0 sm:flex-row sm:gap-x-2 sm:items-center",children:[(0,a.jsxs)("div",{className:"sm:flex-1",children:[a.jsx(x._,{htmlFor:"minValue",children:"Min value"}),a.jsx(m.I,{..._("minValue",{disabled:ei}),name:"minValue",noRing:!1})]}),(0,a.jsxs)("div",{className:"sm:flex-1",children:[a.jsx(x._,{htmlFor:"maxValue",children:"Max value"}),a.jsx(m.I,{..._("maxValue",{disabled:ei}),name:"maxValue",noRing:!1})]}),(0,a.jsxs)("div",{className:"sm:flex-1",children:[a.jsx(x._,{htmlFor:"format",children:"Format"}),a.jsx(m.I,{..._("format",{disabled:ei}),name:"format",noRing:!1})]})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Format: Add as many # as the number of decimal digits or leave empty"})]})}),G&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:gap-y-0 sm:flex-row sm:gap-x-2 sm:items-center",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-y-5",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{children:"Min date"}),a.jsx(E.x,{disabled:ei||"date_now"===K,type:"datetime",value:K,onChange:({date:e})=>F("minDate",e?.toISOString()||"",{shouldDirty:!0})})]}),(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(p.X,{id:"minDate",disabled:ei,checked:"date_now"===K,onCheckedChange:e=>F("minDate",e?"date_now":"",{shouldDirty:!0})}),a.jsx(x._,{htmlFor:"minDate",children:"Current date"})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"minDateKey",children:"Min Date Key e.g $DateOfBirth"}),a.jsx(m.I,{..._("minDateKey",{disabled:ei}),name:"minDateKey",noRing:!1})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-y-5",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{children:"Max date"}),a.jsx(E.x,{disabled:ei||"date_now"===L,type:"datetime",value:L,onChange:({date:e})=>F("maxDate",e?.toISOString()||"",{shouldDirty:!0})})]}),(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(p.X,{id:"maxDate",disabled:ei,checked:"date_now"===L,onCheckedChange:e=>F("maxDate",e?"date_now":"",{shouldDirty:!0})}),a.jsx(x._,{htmlFor:"maxDate",children:"Current date"})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{htmlFor:"maxDateKey",children:"Max Date Key e.g $DateOfBirth"}),a.jsx(m.I,{..._("maxDateKey",{disabled:ei}),name:"maxDateKey",noRing:!1})]})]})]}),a.jsx(N.D,{children:"Default"}),a.jsx(o.E,{disabled:ei,defaultValue:W||"empty",onValueChange:e=>F("defaultValue",("empty"===e?"":e)||"",{shouldDirty:!0}),className:"flex flex-col gap-y-4",children:[{label:"Empty",name:"empty"},{label:"Current time",name:"date_now"},{label:"Today at noon",name:"date_noon"},{label:"Today at midnight",name:"date_midnight"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(o.m,{value:e.name,id:e.name}),a.jsx(x._,{htmlFor:e.name,children:e.label})]},e.name))})]}),Q&&a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:gap-y-0 sm:flex-row sm:gap-x-2 sm:items-center",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-y-5",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{children:"Min time"}),a.jsx(E.x,{disabled:ei||"time_now"===B,type:"time",value:B,onChange:({time:e})=>F("minTime",e||"",{shouldDirty:!0})})]}),(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(p.X,{id:"minTime",disabled:ei,checked:"time_now"===B,onCheckedChange:e=>F("minTime",e?"time_now":"",{shouldDirty:!0})}),a.jsx(x._,{htmlFor:"minTime",children:"Current time"})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-y-5",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{children:"Max time"}),a.jsx(E.x,{disabled:ei||"time_now"===q,type:"time",value:q,onChange:({time:e})=>F("maxTime",e||"",{shouldDirty:!0})})]}),(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(p.X,{id:"maxTime",disabled:ei,checked:"time_now"===q,onCheckedChange:e=>F("maxTime",e?"time_now":"",{shouldDirty:!0})}),a.jsx(x._,{htmlFor:"maxTime",children:"Current time"})]})]})]})})]}),ee&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.D,{children:"Default"}),a.jsx(o.E,{disabled:ei,defaultValue:W||"empty",onValueChange:e=>F("defaultValue",("empty"===e?"":e)||"",{shouldDirty:!0}),className:"flex flex-col gap-y-4",children:[{label:"Empty",name:"empty"},{label:"Generated ID",name:"uid"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(o.m,{value:e.name,id:e.name}),a.jsx(x._,{htmlFor:e.name,children:e.label})]},e.name))})]}),(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.D,{children:"Neotree ID Search"}),a.jsx("div",{className:"flex flex-col gap-y-4",children:b.d4.map(e=>{let s=`prePopulate_${e.value}`,t=b.d4.filter(e=>e.value!==b.d4[0].value).map(e=>e.value),i=O.includes(e.value)||O.length===t.length;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(p.X,{id:s,checked:i,disabled:ei,onCheckedChange:s=>{let a=[];s?(a=[...O,e.value],e.value===b.d4[0].value&&(a=t)):(a=O.filter(s=>s!==e.value),e.value===b.d4[0].value&&(a=[])),F("prePopulate",a,{shouldDirty:!0})}}),a.jsx(x._,{htmlFor:s,children:e.label})]},s)})})]}),(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.D,{children:"Print"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(p.X,{id:"printable",disabled:ei,checked:A,onCheckedChange:()=>F("printable",!A,{shouldDirty:!0})}),a.jsx(x._,{htmlFor:"printable",children:"Print"})]}),a.jsx("span",{className:"text-muted-foreground text-xs",children:"If not checked, data will not be display on the session summary and the printout."})]})]})]}):a.jsx(o.E,{defaultValue:R,onValueChange:e=>F("type",e,{shouldDirty:!0}),className:"flex flex-col gap-y-4",children:b.Uv.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(o.m,{value:e.name,id:e.name}),a.jsx(x._,{htmlFor:e.name,children:e.label})]},e.name))})})})}function B({form:e,disabled:s}){let[t,l]=(0,i.useState)([]),{confirm:n}=(0,Z.t)(),r=e.watch("fields"),d=(0,i.useCallback)((s,t)=>{let a=(0,F.q)([...r],s,t);e.setValue("fields",a.map((e,s)=>({...e,position:s+1})),{shouldDirty:!0})},[e,r]),o=(0,i.useCallback)(s=>{let t=r.filter((e,t)=>s.includes(t)).map(e=>`<div class="font-bold text-danger">${e.label}</div>`).join("");n(()=>{let t=r.filter((e,t)=>!s.includes(t));e.setValue("fields",t.map((e,s)=>({...e,position:s+1})),{shouldDirty:!0}),l([])},{title:"Delete",message:`<p>Are you sure you want to delete ${s.length>1?`${s.length} fields: `:"field: "}</p> ${t}`,danger:!0,positiveLabel:"Delete"})},[e,r,n]),m=(0,i.useCallback)(s=>{let t=r.filter((e,t)=>s.includes(t)).map(e=>`<div class="font-bold">${e.label}</div>`).join("");n(()=>{let t=[...r,...r.filter((e,t)=>s.includes(t)).map((e,s)=>({...e,position:r.length+1+s}))];e.setValue("fields",t.map((e,s)=>({...e,position:s+1})),{shouldDirty:!0}),l([])},{title:"Duplicate",message:`<p>Are you sure you want to duplicate ${s.length>1?`${s.length} fields: `:"field: "}</p> ${t}`,positiveLabel:"Duplicate"})},[e,r,n]);return(0,a.jsxs)(a.Fragment,{children:[a.jsx($.DataTable,{title:"Fields",sortable:!s,selectable:!s,onSort:d,selectedIndexes:t,onSelect:l,search:{inputPlaceholder:"Search fields"},headerActions:a.jsx(a.Fragment,{children:a.jsx(q,{form:e,disabled:s,children:!s&&a.jsx(z.hg,{asChild:!0,children:(0,a.jsxs)(c.z,{className:"text-primary border-primary",variant:"outline",children:[a.jsx(M.Z,{className:"h-4 w-4 mr-1"}),"New field"]})})})}),columns:[{name:"Type"},{name:"Key"},{name:"Label"},{name:"Action",align:"right",cellRenderer({rowIndex:t}){let i=r[t];return(0,a.jsxs)(A.h_,{children:[a.jsx(A.$F,{asChild:!0,children:a.jsx(c.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:a.jsx(R.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(A.AW,{children:[a.jsx(A.Xi,{asChild:!0,children:a.jsx(q,{disabled:s,form:e,field:{data:i,index:t},children:({extraProps:e})=>(0,a.jsxs)(z.hg,{...e,className:(0,j.cn)(e?.className,"w-full"),children:[a.jsx(V.Z,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:s?"View":"Edit"})]})})}),(0,a.jsxs)(A.Xi,{onClick:()=>o([t]),className:(0,j.cn)("text-danger focus:bg-danger focus:text-danger-foreground"),disabled:s,children:[a.jsx(P.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Delete"})]})]})]})}}],data:r.map(e=>[e.type,e.key,e.label,""])}),!s&&a.jsx(K,{disabled:s,selected:t,onDelete:()=>o(t),onCopy:()=>m(t)})]})}function O({disabled:e,selected:s,onDelete:t,onCopy:i}){return a.jsx(a.Fragment,{children:!!s.length&&a.jsx(L.h,{children:(0,a.jsxs)(c.z,{variant:"destructive",className:"h-auto w-auto",disabled:e,onClick:()=>t(),children:[a.jsx(P.Z,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:s.length>1?`Delete ${s.length} items`:"Delete item"})]})})})}function W({children:e,item:s,form:t,disabled:l,...n}){let{data:r,index:d}={...s},[o,u]=(0,i.useState)(!1),h=(0,i.useCallback)(()=>({itemId:r?.itemId||(0,k.Z)(),id:r?.id||"",label:r?.label||"",position:r?.position||1,subType:r?.subType||"",type:r?.type||"",...r}),[r]),{reset:p,watch:f,register:y,handleSubmit:g}=(0,D.cI)({defaultValues:h()}),b=f("id"),v=f("label"),w=(0,i.useMemo)(()=>!!l,[l]),N=g(e=>{!(0,T.x)(d)&&r?t.setValue("items",t.getValues("items").map((s,t)=>({...s,...t===d?e:null}))):t.setValue("items",[...t.getValues("items"),e],{shouldDirty:!0}),u(!1)});return a.jsx(a.Fragment,{children:a.jsx(U.u,{open:o,title:r?"New item":"Edit item",trigger:"function"==typeof e?e({extraProps:n}):e,onOpenChange:e=>{u(e),p(h())},actions:(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:(0,j.cn)("text-danger text-xs",w&&"hidden"),children:"* Required"}),a.jsx("div",{className:"flex-1"}),a.jsx(z.GG,{asChild:!0,children:a.jsx(c.z,{variant:"ghost",children:"Cancel"})}),a.jsx(c.z,{disabled:w,onClick:()=>N(),children:"Save"})]}),children:a.jsx("div",{className:"flex flex-col gap-y-5",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:gap-y-0 sm:flex-row sm:gap-x-2 sm:items-center",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{error:!w&&!b,htmlFor:"id",children:"ID *"}),a.jsx(m.I,{...y("id",{disabled:w,required:!0}),name:"id",error:!w&&!b})]}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(x._,{error:!w&&!v,htmlFor:"label",children:"Label *"}),a.jsx(m.I,{...y("label",{disabled:w,required:!0}),name:"label",error:!w&&!v})]})]})})})})}function X({form:e,disabled:s}){let[t,l]=(0,i.useState)([]),{confirm:n}=(0,Z.t)(),r=e.watch("items"),d=(0,i.useCallback)((s,t)=>{let a=(0,F.q)([...r],s,t);e.setValue("items",a.map((e,s)=>({...e,position:s+1})),{shouldDirty:!0})},[e,r]),o=(0,i.useCallback)(s=>{let t=r.filter((e,t)=>s.includes(t)).map(e=>`<div class="font-bold text-danger">${e.label}</div>`).join("");n(()=>{let t=r.filter((e,t)=>!s.includes(t));e.setValue("items",t.map((e,s)=>({...e,position:s+1})),{shouldDirty:!0}),l([])},{title:"Delete",message:`<p>Are you sure you want to delete ${s.length>1?`${s.length} items: `:"item: "}</p> ${t}`,danger:!0,positiveLabel:"Delete"})},[e,r,n]),m=(0,i.useCallback)(s=>{let t=r.filter((e,t)=>s.includes(t)).map(e=>`<div class="font-bold">${e.label}</div>`).join("");n(()=>{let t=[...r,...r.filter((e,t)=>s.includes(t)).map((e,s)=>({...e,position:r.length+1+s}))];e.setValue("items",t.map((e,s)=>({...e,position:s+1})),{shouldDirty:!0}),l([])},{title:"Duplicate",message:`<p>Are you sure you want to duplicate ${s.length>1?`${s.length} items: `:"item: "}</p> ${t}`,positiveLabel:"Duplicate"})},[e,r,n]);return(0,a.jsxs)(a.Fragment,{children:[a.jsx($.DataTable,{title:"Items",sortable:!s,selectable:!s,onSort:d,selectedIndexes:t,onSelect:l,search:{inputPlaceholder:"Search items"},headerActions:a.jsx(a.Fragment,{children:a.jsx(W,{form:e,disabled:s,children:!s&&a.jsx(z.hg,{asChild:!0,children:(0,a.jsxs)(c.z,{className:"text-primary border-primary",variant:"outline",children:[a.jsx(M.Z,{className:"h-4 w-4 mr-1"}),"New item"]})})})}),columns:[{name:"Key"},{name:"Label"},{name:"Action",align:"right",cellRenderer({rowIndex:t}){let i=r[t];return(0,a.jsxs)(A.h_,{children:[a.jsx(A.$F,{asChild:!0,children:a.jsx(c.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:a.jsx(R.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(A.AW,{children:[a.jsx(A.Xi,{asChild:!0,children:a.jsx(W,{disabled:s,form:e,item:{data:i,index:t},children:({extraProps:e})=>(0,a.jsxs)(z.hg,{...e,className:(0,j.cn)(e?.className,"w-full"),children:[a.jsx(V.Z,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:s?"View":"Edit"})]})})}),(0,a.jsxs)(A.Xi,{onClick:()=>o([t]),className:(0,j.cn)("text-danger focus:bg-danger focus:text-danger-foreground"),disabled:s,children:[a.jsx(P.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Delete"})]})]})]})}}],data:r.map(e=>[e.id,e.label,""])}),!s&&a.jsx(O,{disabled:s,selected:t,onDelete:()=>o(t),onCopy:()=>m(t)})]})}function J({form:{watch:e}}){let s=e("items"),t=(0,i.useMemo)(()=>s.reduce((e,s)=>(s.type&&(e[s.type]=e[s.type]||[],e[s.type].push(s)),e),{}),[s]);return a.jsx(a.Fragment,{children:Object.keys(t).map(e=>{let s=t[e];return(0,a.jsxs)("div",{children:[a.jsx(v.Z,{}),a.jsx("div",{className:"mt-5",children:a.jsx($.DataTable,{title:e,columns:[{name:"ID",cellClassName:"w-[150px]"},{name:"Sub type",cellClassName:"w-[150px]"},{name:"Label"}],data:s.map(e=>[e.id||"",e.subType||"",e.label||""])})})]},e)})})}function G({formData:e,scriptId:s,countDiagnosesScreens:t}){let F=(0,l.useRouter)(),[M,R]=(0,i.useState)(!!e),{viewOnly:V}=(0,y.b)(),P=function({formData:e,scriptId:s}){let t=(0,l.useRouter)(),[a,n]=(0,i.useState)(!1),{saveScreens:r}=(0,_.h)(),{alert:d}=(0,I.s)(),{viewOnly:o}=(0,y.b)(),c=(0,i.useMemo)(()=>`/script/${s}?section=screens`,[s]),m=(0,i.useCallback)(()=>({version:e?.version||1,scriptId:e?.scriptId||s,screenId:e?.screenId||(0,k.Z)(),type:e?.type||"",sectionTitle:e?.sectionTitle||"",previewTitle:e?.previewTitle||"",previewPrintTitle:e?.previewPrintTitle||"",condition:e?.condition||"",epicId:e?.epicId||"",storyId:e?.storyId||"",refId:e?.refId||"",refKey:e?.refKey||"",step:e?.step||"",actionText:e?.actionText||"",contentText:e?.contentText||"",title:e?.title||"",title1:e?.title1||"",title2:e?.title2||"",title3:e?.title3||"",title4:e?.title4||"",text1:e?.text1||"",text2:e?.text2||"",text3:e?.text3||"",image1:e?.image1||null,image2:e?.image2||null,image3:e?.image3||null,instructions:e?.instructions||"",instructions2:e?.instructions2||"",instructions3:e?.instructions3||"",instructions4:e?.instructions4||"",hcwDiagnosesInstructions:e?.hcwDiagnosesInstructions||"",suggestedDiagnosesInstructions:e?.suggestedDiagnosesInstructions||"",notes:e?.notes||"",dataType:e?.dataType||"",key:e?.key||"",label:e?.label||"",negativeLabel:e?.negativeLabel||"",positiveLabel:e?.positiveLabel||"",timerValue:e?.timerValue||"",multiplier:e?.multiplier||"",minValue:e?.minValue||"",maxValue:e?.maxValue||"",exportable:!!(0,T.x)(e?.exportable)||e?.exportable,skippable:!(0,T.x)(e?.skippable)&&e?.skippable,confidential:!(0,T.x)(e?.confidential)&&e?.confidential,printable:(0,T.x)(e?.printable)?null:e?.printable,prePopulate:e?.prePopulate||[],fields:e?.fields||[],items:e?.items||[]}),[e,s]),u=(0,D.cI)({defaultValues:m()}),{formState:{dirtyFields:x},handleSubmit:h}=u,p=(0,i.useMemo)(()=>!!Object.keys(x).length,[x]),f=h(async e=>{try{n(!0);let s={...e,timerValue:e.timerValue?Number(e.timerValue):null,multiplier:e.multiplier?Number(e.multiplier):null,minValue:e.minValue?Number(e.minValue):null,maxValue:e.maxValue?Number(e.maxValue):null};if(!s.scriptId)throw Error("Screen is missing script reference!");let a=(await S.Z.post("/api/screens/save",{data:[s],broadcastAction:!0})).data;if(a.errors?.length)throw Error(a.errors.join(", "));t.refresh(),d({variant:"success",message:"Screen draft was saved successfully!",onClose:()=>t.push(c)})}catch(e){d({title:"Error",variant:"error",message:"Failed to save draft: "+e.message})}finally{n(!1)}}),g=(0,i.useMemo)(()=>a||o,[a,o]);return{...u,formIsDirty:p,saving:a,scriptPageHref:c,disabled:g,save:f,getDefaultValues:m}}({formData:e,scriptId:s}),{formIsDirty:$,saving:z,scriptPageHref:A,disabled:Z,register:L,watch:K,setValue:U,save:E}=P,Y=K("type"),H=K("skippable"),q=K("printable"),O=K("confidential"),W=K("prePopulate"),G=K("image1"),Q=K("image2"),ee=K("image3"),es=(0,i.useCallback)(()=>{F.push(A)},[F,A]);if(!M)return a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-4 [&>*]:px-4",children:[a.jsx(N.D,{children:"Type"}),a.jsx("div",{children:a.jsx(o.E,{disabled:Z,defaultValue:Y,onValueChange:e=>{if(U("type",e,{shouldDirty:!0}),U("items",[],{shouldDirty:!0}),"mwi_edliz_summary_table"===e||"zw_edliz_summary_table"===e){let s=w[e];console.log(s),U("items",s,{shouldDirty:!0})}},className:"flex flex-col gap-y-4",children:g.Tf.map(e=>{let s=!1,i="";return"diagnosis"===e.value&&(i=(s=!!t)?"Diagnosis is disabled because this script already contains a diagnosis script (Script can only have one diagnosis screen).":""),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(o.m,{value:e.value,id:e.value,disabled:s}),a.jsx(x._,{secondary:!0,htmlFor:e.value,"aria-disabled":s,className:s?"opacity-70 cursor-not-allowed":"",children:e.label}),!!i&&(0,a.jsxs)(d.J2,{children:[a.jsx(d.xo,{children:a.jsx(n,{className:"text-primary h-4 w-4"})}),a.jsx(d.yk,{className:"max-w-[200px] bg-primary text-primary-foreground",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:i}})})]})]},e.value)})})}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-x-2 py-6",children:[a.jsx(c.z,{variant:"ghost",onClick:()=>es(),children:"Cancel"}),a.jsx(c.z,{disabled:!Y&&!$||Z,onClick:()=>{U("dataType",function(e){switch(e){case"yesno":return"boolean";case"timer":return"number";case"management":case"edliz_summary_table":case"mwi_edliz_summary_table":case"zw_edliz_summary_table":default:return"";case"multi_select":return"set<id>";case"single_select":return"id"}}(Y)),"management"===Y&&U("printable",!1),R(!0)},children:"Continue"})]})]})});let et="diagnosis"===Y,ea="progress"===Y,ei="form"===Y,el="checklist"===Y,en="management"===Y,er="zw_edliz_summary_table"===Y,ed="mwi_edliz_summary_table"===Y,eo="yesno"===Y,ec="timer"===Y,em="multi_select"===Y,eu="single_select"===Y,ex=em||eu,eh=eo||ex||ec,ep=eo||ex||ec||en||et;return(0,a.jsxs)(a.Fragment,{children:[z&&a.jsx(f.a,{overlay:!0}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 [&>*]:px-4",children:[a.jsx(N.D,{children:"Type"}),a.jsx("div",{children:(0,a.jsxs)(r.Ph,{value:Y||"",disabled:!0,name:"type",onValueChange:e=>{let s=e||g.Tf[0].value;U("type",s,{shouldDirty:!0}),U("items",[],{shouldDirty:!0}),("mwi_edliz_summary_table"===s||"zw_edliz_summary_table"===s)&&U("items",[],{shouldDirty:!0}),"management"===s&&U("printable",!1)},children:[a.jsx(r.i4,{children:a.jsx(r.ki,{placeholder:"Select hospital"})}),a.jsx(r.Bw,{children:(0,a.jsxs)(r.DI,{children:[a.jsx(r.n5,{children:"Screen types"}),g.Tf.map(e=>a.jsx(r.Ql,{value:e.value,children:e.label},e.value))]})})]})}),a.jsx(N.D,{children:"Flow control"}),(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(h.r,{id:"skippable",checked:H,disabled:Z,onCheckedChange:e=>U("skippable",e,{shouldDirty:!0})}),a.jsx(x._,{secondary:!0,htmlFor:"skippable",children:"Allow user to skip this screen"})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"condition",children:"Conditional expression"}),a.jsx(m.I,{...L("condition",{disabled:Z}),name:"condition",noRing:!1}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Example: ($key = true and $key2 = false) or $key3 = 'HD'"})]}),a.jsx(N.D,{children:"Properties"}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:flex-row sm:gap-y-0 sm:gap-x-2 sm:[&>*]:flex-1",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"epicId",children:"Epic ID"}),a.jsx(m.I,{...L("epicId",{disabled:Z}),name:"epicId",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"storyId",children:"Story ID"}),a.jsx(m.I,{...L("storyId",{disabled:Z}),name:"storyId",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"refId",children:"Ref"}),a.jsx(m.I,{...L("refId",{disabled:Z}),name:"refId",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"step",children:"Step"}),a.jsx(m.I,{...L("step",{disabled:Z}),name:"step",noRing:!1})]})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"title",children:"Title *"}),a.jsx(m.I,{...L("title",{disabled:Z,required:!0}),name:"title",noRing:!1})]}),et&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"title2",children:"Title 2 *"}),a.jsx(m.I,{...L("title2",{disabled:Z,required:!0}),name:"title2",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"title3",children:"Title 3 *"}),a.jsx(m.I,{...L("title3",{disabled:Z,required:!0}),name:"title3",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"previewTitle",children:"Preview title *"}),a.jsx(m.I,{...L("previewTitle",{disabled:Z,required:!0}),name:"previewTitle",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"previewPrintTitle",children:"Preview print title *"}),a.jsx(m.I,{...L("previewPrintTitle",{disabled:Z,required:!0}),name:"previewPrintTitle",noRing:!1})]})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"sectionTitle",children:"Print section title *"}),a.jsx(m.I,{...L("sectionTitle",{disabled:Z,required:!0}),name:"sectionTitle",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"actionText",children:"Action"}),a.jsx(m.I,{...L("actionText",{disabled:Z}),name:"actionText",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"contentText",children:"Content"}),a.jsx(u.g,{...L("contentText",{disabled:Z}),name:"contentText",noRing:!1,rows:5})]}),en&&a.jsx(a.Fragment,{children:[["title1","text1",G],["title2","text2",Q],["title3","text3",ee]].map(([e,s,t],l)=>{let n=`image${l+1}`;return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(x._,{secondary:!0,htmlFor:`imageTextFields.${l}.title`,children:["Title ",l+1]}),a.jsx(m.I,{...L(e,{disabled:Z}),name:`title${l}`,noRing:!1})]}),(0,a.jsxs)("div",{className:"flex gap-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(x._,{htmlFor:`imageTextFields.${l}.text`,children:["Text ",l+1]}),a.jsx(u.g,{...L(s,{disabled:Z}),name:`text${l}`,noRing:!1,rows:5})]}),a.jsx(C.M,{disabled:Z,image:t,onChange:e=>U(n,e,{shouldDirty:!0})})]})]},`imageTextFields.${l}`)})}),(ec||eo||ex)&&(0,a.jsxs)("div",{className:(0,j.cn)("flex flex-col gap-y-5",ec&&"sm:flex-row sm:gap-y-0 sm:gap-x-2 sm:[&>*]:flex-1"),children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(x._,{secondary:!0,htmlFor:"key",children:["Input key",ec?"":" *"]}),a.jsx(m.I,{...L("key",{disabled:Z,required:!ec}),name:"key",noRing:!1})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x._,{secondary:!0,htmlFor:"label",children:["Input label",ec?"":" *"]}),a.jsx(m.I,{...L("label",{disabled:Z,required:!ec}),name:"label",noRing:!1})]})]}),eo&&a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:flex-row sm:gap-y-0 sm:gap-x-2 sm:[&>*]:flex-1",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"negativeLabel",children:"Negative label *"}),a.jsx(m.I,{...L("negativeLabel",{disabled:Z,required:!0}),name:"negativeLabel",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"positiveLabel",children:"Positive label *"}),a.jsx(m.I,{...L("positiveLabel",{disabled:Z,required:!0}),name:"positiveLabel",noRing:!1})]})]})}),ec&&a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:flex-row sm:gap-y-0 sm:gap-x-2 sm:[&>*]:flex-1",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"timerValue",children:"Timer value"}),a.jsx(m.I,{...L("timerValue",{disabled:Z}),name:"timerValue",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"multiplier",children:"Multiplier"}),a.jsx(m.I,{...L("multiplier",{disabled:Z}),name:"multiplier",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"minValue",children:"Input value min."}),a.jsx(m.I,{...L("minValue",{disabled:Z}),name:"minValue",noRing:!1})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"maxValue",children:"Input value max."}),a.jsx(m.I,{...L("maxValue",{disabled:Z}),name:"maxValue",noRing:!1})]})]})}),(eo||ec||ex)&&a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(h.r,{id:"confidential",checked:O,disabled:Z,onCheckedChange:e=>U("confidential",e,{shouldDirty:!0})}),a.jsx(x._,{secondary:!0,htmlFor:"confidential",children:"Confidential"})]})}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"instructions",children:"Instructions"}),a.jsx(u.g,{...L("instructions",{disabled:Z}),name:"instructions",noRing:!1,rows:5})]}),et&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"instructions2",children:"Instructions 2"}),a.jsx(u.g,{...L("instructions2",{disabled:Z}),name:"instructions2",noRing:!1,rows:5})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"instructions3",children:"Instructions 3"}),a.jsx(u.g,{...L("instructions3",{disabled:Z}),name:"instructions3",noRing:!1,rows:5})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 sm:flex-row sm:gap-y-0 sm:gap-x-2 sm:[&>*]:flex-1",children:[(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"hcwDiagnosesInstructions",children:"HCW diagnoses instructions"}),a.jsx(u.g,{...L("hcwDiagnosesInstructions",{disabled:Z}),name:"hcwDiagnosesInstructions",noRing:!1,rows:5})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"suggestedDiagnosesInstructions",children:"Suggested diagnoses instructions"}),a.jsx(u.g,{...L("suggestedDiagnosesInstructions",{disabled:Z}),name:"suggestedDiagnosesInstructions",noRing:!1,rows:5})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(x._,{secondary:!0,htmlFor:"notes",children:"Notes"}),a.jsx(u.g,{...L("notes",{disabled:Z}),name:"notes",noRing:!1,rows:5})]}),eh&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.D,{children:"Neotree ID Search"}),a.jsx("div",{className:"flex flex-col gap-y-4",children:b.d4.map(e=>{let s=`prePopulate_${e.value}`,t=b.d4.filter(e=>e.value!==b.d4[0].value).map(e=>e.value),i=W.includes(e.value)||W.length===t.length;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(p.X,{id:s,checked:i,disabled:Z,onCheckedChange:s=>{let a=[];s?(a=[...W,e.value],e.value===b.d4[0].value&&(a=t)):(a=W.filter(s=>s!==e.value),e.value===b.d4[0].value&&(a=[])),U("prePopulate",a,{shouldDirty:!0})}}),a.jsx(x._,{htmlFor:s,children:e.label})]},s)})})]}),ep&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.D,{children:"Print"}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-5 items-end sm:flex-row sm:gap-y-0 sm:gap-x-2 sm:[&>*]:flex-1",children:[en&&(0,a.jsxs)("div",{className:"max-w-64",children:[a.jsx(x._,{secondary:!0,htmlFor:"refKey",children:"Reference key"}),a.jsx(m.I,{...L("refKey",{disabled:Z}),name:"refKey",placeholder:"$refKey",noRing:!1})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[a.jsx(p.X,{id:"printable",checked:q,disabled:Z,onCheckedChange:()=>U("printable",!q,{shouldDirty:!0})}),a.jsx(x._,{htmlFor:"printable",children:"Print"})]}),a.jsx("span",{className:"text-muted-foreground text-xs",children:"If not checked, data will not be display on the session summary and the printout."})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-x-2 py-6 px-4",children:[a.jsx("span",{className:(0,j.cn)("text-danger text-xs",Z&&"hidden"),children:"* Required"}),a.jsx("div",{className:"flex-1"}),a.jsx(c.z,{variant:"ghost",onClick:()=>es(),children:"Cancel"}),a.jsx(c.z,{disabled:!$||Z,onClick:()=>E(),children:"Save Draft"})]}),(er||ed)&&a.jsx(J,{form:P,disabled:Z}),ei&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(v.Z,{className:"my-20"}),a.jsx(B,{form:P,disabled:Z})]}),(eu||em||el||ea||et)&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(v.Z,{className:"my-20"}),a.jsx(X,{form:P,disabled:Z})]})]})}},69486:(e,s,t)=>{"use strict";t.d(s,{D:()=>l});var a=t(10326),i=t(77863);function l({children:e,className:s}){return a.jsx("div",{className:(0,i.cn)("pb-1 border-b border-b-primary",s),children:a.jsx("span",{className:"uppercase text-primary text-sm",children:e})})}},48488:(e,s,t)=>{"use strict";t.d(s,{U:()=>l});var a=t(17577),i=t(47463);function l(e){return{getDefaultValues:(0,a.useCallback)(()=>({fieldId:e?.fieldId||(0,i.Z)(),type:e?.type||"",key:e?.key||"",label:e?.label||"",refKey:e?.refKey||"",calculation:e?.calculation||"",condition:e?.condition||"",dataType:e?.dataType||"",defaultValue:e?.defaultValue||"",format:e?.format||"",minValue:e?.minValue||"",maxValue:e?.maxValue||"",minDate:e?.minDate||"",maxDate:e?.maxDate||"",minTime:e?.minTime||"",maxTime:e?.maxTime||"",minDateKey:e?.minDateKey||"",maxDateKey:e?.maxDateKey||"",minTimeKey:e?.minTimeKey||"",maxTimeKey:e?.maxTimeKey||"",values:e?.values||"",confidential:e?.confidential||!1,optional:e?.optional||!1,printable:e?.printable||!1,prePopulate:e?.prePopulate||[],...e}),[e])}}},96948:(e,s,t)=>{"use strict";t.d(s,{Alert:()=>l});var a=t(96221),i=t(35047);function l(e){(0,i.useRouter)();let{alert:s}=(0,a.s)();return null}t(17577)},33153:(e,s,t)=>{"use strict";t.d(s,{x:()=>T});var a=t(10326),i=t(17577),l=t.n(i),n=t(98181),r=t(48998),d=t(37358),o=t(57967),c=t.n(o),m=t(77863),u=t(90772),x=t(11890),h=t(39183),p=t(98109);function f({className:e,classNames:s,showOutsideDays:t=!0,...i}){return a.jsx(p._W,{showOutsideDays:t,className:(0,m.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,m.cn)((0,u.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,m.cn)((0,u.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-primary/20",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({...e})=>a.jsx(x.Z,{className:"h-4 w-4"}),IconRight:({...e})=>a.jsx(h.Z,{className:"h-4 w-4"})},...i})}f.displayName="Calendar";var y=t(30811),g=t(31048),j=t(54432);function b(e,{max:s,min:t=0,loop:a=!1}){let i=parseInt(e,10);return isNaN(i)?"00":(a?(i>s&&(i=t),i<t&&(i=s)):(i>s&&(i=s),i<t&&(i=t)),i.toString().padStart(2,"0"))}function v(e){return/^(0[0-9]|1[0-9]|2[0-3])$/.test(e)?e:b(e,{max:23})}function w(e){return/^(0[1-9]|1[0-2])$/.test(e)?e:b(e,{min:1,max:12})}function N(e){return/^[0-5][0-9]$/.test(e)?e:b(e,{max:59})}function D(e,{min:s,max:t,step:a}){let i=parseInt(e,10);return isNaN(i)?"00":b(String(i+=a),{min:s,max:t,loop:!0})}function k(e,s,t,a){switch(t){case"minutes":return function(e,s){let t=N(s);return e.setMinutes(parseInt(t,10)),e}(e,s);case"seconds":return function(e,s){let t=N(s);return e.setSeconds(parseInt(t,10)),e}(e,s);case"hours":return function(e,s){let t=v(s);return e.setHours(parseInt(t,10)),e}(e,s);case"12hours":if(!a)return e;return function(e,s,t){let a=function(e,s){if("PM"===s){if(e<=11)return e+12}else if("AM"===s&&12===e)return 0;return e}(parseInt(w(s),10),t);return e.setHours(a),e}(e,s,a);default:return e}}let S=l().forwardRef(({className:e,type:s="tel",value:t,id:i,name:n,date:r=new Date(new Date().setHours(0,0,0,0)),picker:d,period:o,setDate:c,onChange:u,onKeyDown:x,onLeftFocus:h,onRightFocus:p,...f},y)=>{let[g,b]=l().useState(!1),[S,_]=l().useState("0");l().useEffect(()=>{if(g){let e=setTimeout(()=>{b(!1)},2e3);return()=>clearTimeout(e)}},[g]);let T=l().useMemo(()=>(function(e,s){switch(s){case"minutes":return N(String(e.getMinutes()));case"seconds":return N(String(e.getSeconds()));case"hours":return v(String(e.getHours()));case"12hours":var t;return w(String(0===(t=e.getHours())||12===t?"12":t>=22?`${t-12}`:t%12>9?`${t}`:`0${t%12}`));default:return"00"}})(r,d),[r,d]),I=e=>"12hours"===d&&g&&"1"===T.slice(1,2)&&"0"===S?"0"+e:g?T.slice(1,2)+e:"0"+e,C=e=>{if("Tab"!==e.key){if(e.preventDefault(),"ArrowRight"===e.key&&p?.(),"ArrowLeft"===e.key&&h?.(),["ArrowUp","ArrowDown"].includes(e.key)){let s=function(e,s,t){switch(t){case"minutes":case"seconds":return D(e,{min:0,max:59,step:s});case"hours":return D(e,{min:0,max:23,step:s});case"12hours":return D(e,{min:1,max:12,step:s});default:return"00"}}(T,"ArrowUp"===e.key?1:-1,d);g&&b(!1),c(k(new Date(r),s,d,o))}if(e.key>="0"&&e.key<="9"){"12hours"===d&&_(e.key);let s=I(e.key);g&&p?.(),b(e=>!e),c(k(new Date(r),s,d,o))}}};return a.jsx(j.I,{ref:y,id:i||d,name:n||d,noRing:!0,className:(0,m.cn)("w-[48px] text-center font-mono text-base tabular-nums caret-transparent focus:bg-primary/20 [&::-webkit-inner-spin-button]:appearance-none",e),value:t||T,onChange:e=>{e.preventDefault(),u?.(e)},type:s,inputMode:"decimal",onKeyDown:e=>{x?.(e),C(e)},...f})});function _({date:e,setDate:s}){let t=(0,i.useRef)(null),l=(0,i.useRef)(null),n=(0,i.useRef)(null);return(0,a.jsxs)("div",{className:"flex items-end gap-2",children:[(0,a.jsxs)("div",{className:"grid gap-1 text-center",children:[a.jsx(g._,{htmlFor:"hours",className:"text-xs",children:"Hours"}),a.jsx(S,{picker:"hours",date:e,setDate:s,ref:l,onRightFocus:()=>t.current?.focus()})]}),(0,a.jsxs)("div",{className:"grid gap-1 text-center",children:[a.jsx(g._,{htmlFor:"minutes",className:"text-xs",children:"Minutes"}),a.jsx(S,{picker:"minutes",date:e,setDate:s,ref:t,onLeftFocus:()=>l.current?.focus(),onRightFocus:()=>n.current?.focus()})]}),(0,a.jsxs)("div",{className:"grid gap-1 text-center",children:[a.jsx(g._,{htmlFor:"seconds",className:"text-xs",children:"Seconds"}),a.jsx(S,{picker:"seconds",date:e,setDate:s,ref:n,onLeftFocus:()=>t.current?.focus()})]}),a.jsx("div",{className:"flex h-10 items-center",children:a.jsx(r.Z,{className:"ml-2 h-4 w-4"})})]})}function T({type:e="date",value:s,disabled:t,min:l,max:o,onChange:x}){let{date:h}=(0,i.useMemo)(()=>{let t;if("time"===e){let e=c()().format("YYYY-MM-DD");t=s?new Date(`${e} ${s}`):void 0,t=c()(t).isValid()?t:void 0}else{if(t=s?new Date(s):void 0,(t=c()(t).isValid()?t:void 0)&&l){let e=c()(t).format("YYYY-MM-DD"),s=c()(l).format("YYYY-MM-DD");t=new Date(e).getTime()>=new Date(s).getTime()?t:void 0}if(t&&o){let e=c()(t).format("YYYY-MM-DD"),s=c()(o).format("YYYY-MM-DD");t=new Date(e).getTime()<=new Date(s).getTime()?t:void 0}}return{date:t,isDirty:!!t&&!!s&&t.toDateString()!==new Date(s).toDateString()}},[s,l,o,e]),p=(0,i.useMemo)(()=>{switch(e){case"date":return"PPP";case"time":return"HH:mm:ss";default:return"PPP HH:mm:ss"}},[e]);return(0,a.jsxs)(y.J2,{children:[a.jsx(y.xo,{asChild:!0,children:(0,a.jsxs)(u.z,{disabled:t,variant:"outline",className:(0,m.cn)("w-full justify-start text-left font-normal",!h&&"text-muted-foreground"),children:["time"===e?a.jsx(r.Z,{className:"mr-2 h-4 w-4"}):a.jsx(d.Z,{className:"mr-2 h-4 w-4"}),h?(0,n.WU)(h,p):(0,a.jsxs)("span",{children:["Pick ","time"===e?"time":"a date"]})]})}),(0,a.jsxs)(y.yk,{className:"w-auto p-0",children:["time"!==e&&a.jsx(f,{mode:"single",selected:h,onSelect:e=>x({date:e||null,time:e?c()(e).format("HH:mm:ss"):null}),initialFocus:!0,fromDate:l,toDate:o}),("datetime"===e||"time"===e)&&a.jsx("div",{className:"p-3 border-t border-border",children:a.jsx(_,{setDate:e=>{x({date:e||null,time:e?c()(e).format("HH:mm:ss"):null})},date:h})})]})]})}S.displayName="TimePickerInput"},88846:(e,s,t)=>{"use strict";t.d(s,{E:()=>d,m:()=>o});var a=t(10326),i=t(17577),l=t(18623),n=t(53982),r=t(77863);let d=i.forwardRef(({className:e,...s},t)=>a.jsx(l.fC,{className:(0,r.cn)("grid gap-2",e),...s,ref:t}));d.displayName=l.fC.displayName;let o=i.forwardRef(({className:e,...s},t)=>a.jsx(l.ck,{ref:t,className:(0,r.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:a.jsx(l.z$,{className:"flex items-center justify-center",children:a.jsx(n.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));o.displayName=l.ck.displayName},34474:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>f,DI:()=>m,Ph:()=>c,Ql:()=>g,i4:()=>x,ki:()=>u,n5:()=>y});var a=t(10326),i=t(17577),l=t(18792),n=t(941),r=t(96633),d=t(32933),o=t(77863);let c=l.fC,m=l.ZA,u=l.B4,x=i.forwardRef(({className:e,children:s,error:t,...i},r)=>(0,a.jsxs)(l.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t&&"border-danger",e),...i,children:[s,a.jsx(l.JO,{asChild:!0,children:a.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=l.xz.displayName;let h=i.forwardRef(({className:e,...s},t)=>a.jsx(l.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(r.Z,{className:"h-4 w-4"})}));h.displayName=l.u_.displayName;let p=i.forwardRef(({className:e,...s},t)=>a.jsx(l.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(n.Z,{className:"h-4 w-4"})}));p.displayName=l.$G.displayName;let f=i.forwardRef(({className:e,children:s,position:t="popper",...i},n)=>a.jsx(l.h_,{children:(0,a.jsxs)(l.VY,{ref:n,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...i,children:[a.jsx(h,{}),a.jsx(l.l_,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),a.jsx(p,{})]})}));f.displayName=l.VY.displayName;let y=i.forwardRef(({className:e,...s},t)=>a.jsx(l.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s}));y.displayName=l.__.displayName;let g=i.forwardRef(({className:e,children:s,...t},i)=>(0,a.jsxs)(l.ck,{ref:i,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(l.wU,{children:a.jsx(d.Z,{className:"h-4 w-4"})})}),a.jsx(l.eT,{children:s})]}));g.displayName=l.ck.displayName,i.forwardRef(({className:e,...s},t)=>a.jsx(l.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=l.Z0.displayName},8281:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(10326),i=t(17577),l=t(90220),n=t(77863);let r=i.forwardRef(({className:e,orientation:s="horizontal",decorative:t=!0,...i},r)=>a.jsx(l.f,{ref:r,decorative:t,orientation:s,className:(0,n.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...i}));r.displayName=l.f.displayName},96655:(e,s,t)=>{"use strict";t.d(s,{r:()=>N});var a=t(10326),i=t(17577),l=t(82561),n=t(48051),r=t(93095),d=t(52067),o=t(53405),c=t(2566),m=t(45226),u="Switch",[x,h]=(0,r.b)(u),[p,f]=x(u),y=i.forwardRef((e,s)=>{let{__scopeSwitch:t,name:r,checked:o,defaultChecked:c,required:u,disabled:x,value:h="on",onCheckedChange:f,...y}=e,[g,j]=i.useState(null),w=(0,n.e)(s,e=>j(e)),N=i.useRef(!1),D=!g||!!g.closest("form"),[k=!1,S]=(0,d.T)({prop:o,defaultProp:c,onChange:f});return(0,a.jsxs)(p,{scope:t,checked:k,disabled:x,children:[(0,a.jsx)(m.WV.button,{type:"button",role:"switch","aria-checked":k,"aria-required":u,"data-state":v(k),"data-disabled":x?"":void 0,disabled:x,value:h,...y,ref:w,onClick:(0,l.M)(e.onClick,e=>{S(e=>!e),D&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),D&&(0,a.jsx)(b,{control:g,bubbles:!N.current,name:r,value:h,checked:k,required:u,disabled:x,style:{transform:"translateX(-100%)"}})]})});y.displayName=u;var g="SwitchThumb",j=i.forwardRef((e,s)=>{let{__scopeSwitch:t,...i}=e,l=f(g,t);return(0,a.jsx)(m.WV.span,{"data-state":v(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:s})});j.displayName=g;var b=e=>{let{control:s,checked:t,bubbles:l=!0,...n}=e,r=i.useRef(null),d=(0,o.D)(t),m=(0,c.t)(s);return i.useEffect(()=>{let e=r.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==t&&s){let a=new Event("click",{bubbles:l});s.call(e,t),e.dispatchEvent(a)}},[d,t,l]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:r,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function v(e){return e?"checked":"unchecked"}var w=t(77863);let N=i.forwardRef(({className:e,...s},t)=>a.jsx(y,{className:(0,w.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:a.jsx(j,{className:(0,w.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));N.displayName=y.displayName},87673:(e,s,t)=>{"use strict";t.d(s,{g:()=>n});var a=t(10326),i=t(17577),l=t(77863);let n=i.forwardRef(({className:e,noRing:s,...t},i)=>a.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s&&"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",e),ref:i,...t}));n.displayName="Textarea"},16722:(e,s,t)=>{"use strict";t.d(s,{Uv:()=>i,d4:()=>a,fR:()=>n});let a=[{value:"allSearches",label:"Found in all searches"},{value:"admissionSearches",label:"Found in admission searches"},{value:"twinSearches",label:"Found in twin searches"}],i=[{name:"date",label:"Date"},{name:"datetime",label:"Date + Time"},{name:"dropdown",label:"Dropdown"},{name:"number",label:"Number"},{name:"text",label:"Text"},{name:"time",label:"Time"},{name:"period",label:"Time period"}],l={calculation:null,condition:"",confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,refKey:null,label:null,minValue:null,maxValue:null,optional:!1,minDate:null,maxDate:null,minTime:null,maxTime:null,minDateKey:"",maxDateKey:"",minTimeKey:"",maxTimeKey:"",values:""},n={admission:[{...l,type:"dropdown",key:"BabyTransfered",values:"Y,Yes\nN,No",label:"Has the baby been transfered from another facility"},{...l,type:"text",key:"patientNUID",label:"Search patient's NUID",condition:"$BabyTransfered = 'Y'"},{...l,type:"dropdown",key:"BabyTwin",values:"Y,Yes\nN,No",label:"Does the baby have a twin?"},{...l,type:"text",key:"BabyTwinNUID",label:"Search twin's NUID",condition:"$BabyTwin = 'Y'"}],other:[{...l,type:"text",key:"patientNUID",values:"Y,Yes\nN,No",label:"Search patient's NUID"}]}},58464:(e,s,t)=>{"use strict";t.d(s,{Tf:()=>i,m1:()=>a,ph:()=>l});let a=[{label:"Admission",value:"admission"},{label:"Discharge",value:"discharge"},{label:"Neolab",value:"neolab"}],i=[{value:"checklist",label:"Checklist"},{value:"form",label:"Form"},{value:"management",label:"Management"},{value:"multi_select",label:"Multiple choice list"},{value:"single_select",label:"Single choice list"},{value:"progress",label:"Progress"},{value:"timer",label:"Timer"},{value:"yesno",label:"Yes/No"},{value:"zw_edliz_summary_table",label:"EDLIZ summary table (ZW)"},{value:"mwi_edliz_summary_table",label:"EDLIZ summary table (MWI)"},{value:"diagnosis",label:"Diagnosis"}],l=[{value:"risk",label:"Risk factor"},{value:"sign",label:"Sign/Symptom"}]},61892:(e,s,t)=>{"use strict";function a(e){return null==e||""===e}t.d(s,{x:()=>a})},31949:(e,s,t)=>{"use strict";function a(e){let s=[],t=(e||"").split("\n").map((e="")=>e.trim()).map(e=>{let s=e.split(",");return{value:s[0],label:s[1]}}),a=t.map(e=>e.value),i=t.map(e=>e.label),l=t.filter(e=>!e.value||!e.label),n=a.filter((e,s)=>a.indexOf(e)!==s);return(i.filter((e,s)=>i.indexOf(e)!==s).length||n.length)&&s.push("Dropdown values contain duplicate data"),l.length&&s.push("Incorrect dropdown values format"),s}t.d(s,{s:()=>a})},41236:(e,s,t)=>{"use strict";t.d(s,{_:()=>d});var a=t(19510),i=t(57371),l=t(39755),n=t(24569),r=t(46697);function d({title:e,backLink:s,children:t}){return a.jsx("div",{className:"pb-20",children:a.jsx(n.V,{className:"flex flex-col gap-y-4",children:a.jsx(r.Zb,{children:(0,a.jsxs)(r.aY,{className:"p-0",children:[!!e&&(0,a.jsxs)("div",{className:"text-xl flex items-center gap-x-4 mb-4 p-4",children:[!!s&&a.jsx(i.default,{href:s,children:a.jsx(l.Z,{className:"h-5 w-5"})}),a.jsx("span",{children:e})]}),t]})})})})}},70305:(e,s,t)=>{"use strict";t.d(s,{J:()=>r});var a=t(68570);let i=(0,a.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(dashboard)/(scripts)/components/screens/form.tsx`),{__esModule:l,$$typeof:n}=i;i.default;let r=(0,a.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(dashboard)/(scripts)/components/screens/form.tsx#ScreenForm`)},49246:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(19510),i=t(62553);function l(){return a.jsx(i.a,{overlay:!0})}},57890:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(19510),i=t(62553);function l(){return a.jsx(i.a,{overlay:!0})}},86098:(e,s,t)=>{"use strict";t.d(s,{b:()=>r});var a=t(68570);let i=(0,a.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/components/alert.tsx`),{__esModule:l,$$typeof:n}=i;i.default;let r=(0,a.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/components/alert.tsx#Alert`)}};