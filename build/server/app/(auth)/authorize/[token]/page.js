(()=>{var e={};e.id=8024,e.ids=[8024],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},86556:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>c.a,__next_app__:()=>u,originalPathname:()=>l,pages:()=>f,routeModule:()=>b,tree:()=>o}),r(16052),r(44713),r(99985),r(96560);var a=r(23191),n=r(88716),d=r(37922),c=r.n(d),s=r(95231),i={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>s[e]);r.d(t,i);let o=["",{children:["(auth)",{children:["authorize",{children:["[token]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,16052)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(auth)\\authorize\\[token]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,44713)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(auth)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,99985)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,96560)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\not-found.tsx"]}],f=["C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(auth)\\authorize\\[token]\\page.tsx"],l="/(auth)/authorize/[token]/page",u={require:r,loadChunk:()=>Promise.resolve()},b=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(auth)/authorize/[token]/page",pathname:"/authorize/[token]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},64611:(e,t,r)=>{let a={"14e2ee76ca3e4bfc1bcd04b0f04936c04f3ef9a1":()=>Promise.resolve().then(r.bind(r,40801)).then(e=>e.getAuthenticatedUser),"6eaf0e526707ea7fe2cf08669e9ccfb4701bff82":()=>Promise.resolve().then(r.bind(r,40801)).then(e=>e.getAuthenticatedUserWithRoles),a69365ec9584c5ac5f833b8f58460ae666c0c724:()=>Promise.resolve().then(r.bind(r,40801)).then(e=>e.getSession),"504b47065818979b01d9ea192aa893511e98df40":()=>Promise.resolve().then(r.bind(r,60563)).then(e=>e.updateSys),bd359f817196f265511cbda0108d8c55e3f5000b:()=>Promise.resolve().then(r.bind(r,60563)).then(e=>e.$$ACTION_0),bf07f47a0b3f93f6c9e28a48bf4d6728c4d544bc:()=>Promise.resolve().then(r.bind(r,60563)).then(e=>e.$$ACTION_1),e8c35cfc4816dc340b04f96cc2d82cc38dcf54cc:()=>Promise.resolve().then(r.bind(r,60563)).then(e=>e.getSys),"08819fd80dbabf1032ea3d5742547f4d116fbf46":()=>Promise.resolve().then(r.bind(r,82065)).then(e=>e.getSitesWithoutConfidentialData),"66f4466938616393f7dc119bdf6f97e18e426c7e":()=>Promise.resolve().then(r.bind(r,82065)).then(e=>e.getSite),bf6ab908d57c92b0ae3efbac6b0b724bd23822b4:()=>Promise.resolve().then(r.bind(r,82065)).then(e=>e.$$ACTION_0),e60d11ab1bcc422ca65e1e8853c6ecfe0d6fd31b:()=>Promise.resolve().then(r.bind(r,82065)).then(e=>e.saveSites),f8109569475a5f6ec2d3763d9fe6847fb6b8fcaa:()=>Promise.resolve().then(r.bind(r,82065)).then(e=>e.getSites),"1258ba61386eb4d720fa34dd752ebbc33df297ae":()=>Promise.resolve().then(r.bind(r,66267)).then(e=>e.isAllowed),b101e093ad697b04228a470ee9001be8e031cf18:()=>Promise.resolve().then(r.bind(r,66267)).then(e=>e.canAccessPage),"11026d34fb6d547dd737a66f7dba323c72484a3a":()=>Promise.resolve().then(r.bind(r,71271)).then(e=>e.discardDrafts),"16bccb008954f0b8eb6edc82e3630151cae804c5":()=>Promise.resolve().then(r.bind(r,71271)).then(e=>e.$$ACTION_0),"3e26759f3cbd8bef562081904cd2dd0819f0bdd7":()=>Promise.resolve().then(r.bind(r,71271)).then(e=>e.revalidatePath),"3e2890ac69272701a0c8aa97627933c4122c2d98":()=>Promise.resolve().then(r.bind(r,71271)).then(e=>e.publishData),a9f930f7f8e5bc28032c14285e0f5d644e7ada51:()=>Promise.resolve().then(r.bind(r,71271)).then(e=>e.getEditorDetails),e5b8162fb8957d04ed4165e51884476733aaa0b3:()=>Promise.resolve().then(r.bind(r,71271)).then(e=>e.$$ACTION_1),f072aab2d1312ff00c5b72bd303974180f455eea:()=>Promise.resolve().then(r.bind(r,71271)).then(e=>e.countAllDrafts),"0df91a61585a44e382358b467fe8fde07ae4179b":()=>Promise.resolve().then(r.bind(r,94136)).then(e=>e.saveDataKeysUpdateIfExist),"10e06fe35a4d32ac922ac0f09759f026193ad57a":()=>Promise.resolve().then(r.bind(r,94136)).then(e=>e.saveDataKeys),"28599db0021a4eedd4778629a4cba46fe01740e5":()=>Promise.resolve().then(r.bind(r,94136)).then(e=>e.$$ACTION_0),"65a933d528e11a71d8f7e4f8b055d8c6ca644816":()=>Promise.resolve().then(r.bind(r,94136)).then(e=>e.$$ACTION_2),"74faa79fd496f7c008435c4d42eb114ef20cee2c":()=>Promise.resolve().then(r.bind(r,94136)).then(e=>e.saveDataKeysIfNotExist),"8954f7bb916c7bc71c2a5dcace3fd2d594f13118":()=>Promise.resolve().then(r.bind(r,94136)).then(e=>e.exportDataKeys),"9283f807b952487d022c9914e83bda887f40e4fc":()=>Promise.resolve().then(r.bind(r,94136)).then(e=>e.$$ACTION_1),f1d743094e3be1ae5b9959c4bdf78ea2e045be49:()=>Promise.resolve().then(r.bind(r,94136)).then(e=>e.getDataKeys)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={"14e2ee76ca3e4bfc1bcd04b0f04936c04f3ef9a1":n.bind(null,"14e2ee76ca3e4bfc1bcd04b0f04936c04f3ef9a1"),"6eaf0e526707ea7fe2cf08669e9ccfb4701bff82":n.bind(null,"6eaf0e526707ea7fe2cf08669e9ccfb4701bff82"),a69365ec9584c5ac5f833b8f58460ae666c0c724:n.bind(null,"a69365ec9584c5ac5f833b8f58460ae666c0c724"),"504b47065818979b01d9ea192aa893511e98df40":n.bind(null,"504b47065818979b01d9ea192aa893511e98df40"),bd359f817196f265511cbda0108d8c55e3f5000b:n.bind(null,"bd359f817196f265511cbda0108d8c55e3f5000b"),bf07f47a0b3f93f6c9e28a48bf4d6728c4d544bc:n.bind(null,"bf07f47a0b3f93f6c9e28a48bf4d6728c4d544bc"),e8c35cfc4816dc340b04f96cc2d82cc38dcf54cc:n.bind(null,"e8c35cfc4816dc340b04f96cc2d82cc38dcf54cc"),"08819fd80dbabf1032ea3d5742547f4d116fbf46":n.bind(null,"08819fd80dbabf1032ea3d5742547f4d116fbf46"),"66f4466938616393f7dc119bdf6f97e18e426c7e":n.bind(null,"66f4466938616393f7dc119bdf6f97e18e426c7e"),bf6ab908d57c92b0ae3efbac6b0b724bd23822b4:n.bind(null,"bf6ab908d57c92b0ae3efbac6b0b724bd23822b4"),e60d11ab1bcc422ca65e1e8853c6ecfe0d6fd31b:n.bind(null,"e60d11ab1bcc422ca65e1e8853c6ecfe0d6fd31b"),f8109569475a5f6ec2d3763d9fe6847fb6b8fcaa:n.bind(null,"f8109569475a5f6ec2d3763d9fe6847fb6b8fcaa"),"1258ba61386eb4d720fa34dd752ebbc33df297ae":n.bind(null,"1258ba61386eb4d720fa34dd752ebbc33df297ae"),b101e093ad697b04228a470ee9001be8e031cf18:n.bind(null,"b101e093ad697b04228a470ee9001be8e031cf18"),"11026d34fb6d547dd737a66f7dba323c72484a3a":n.bind(null,"11026d34fb6d547dd737a66f7dba323c72484a3a"),"16bccb008954f0b8eb6edc82e3630151cae804c5":n.bind(null,"16bccb008954f0b8eb6edc82e3630151cae804c5"),"3e26759f3cbd8bef562081904cd2dd0819f0bdd7":n.bind(null,"3e26759f3cbd8bef562081904cd2dd0819f0bdd7"),"3e2890ac69272701a0c8aa97627933c4122c2d98":n.bind(null,"3e2890ac69272701a0c8aa97627933c4122c2d98"),a9f930f7f8e5bc28032c14285e0f5d644e7ada51:n.bind(null,"a9f930f7f8e5bc28032c14285e0f5d644e7ada51"),e5b8162fb8957d04ed4165e51884476733aaa0b3:n.bind(null,"e5b8162fb8957d04ed4165e51884476733aaa0b3"),f072aab2d1312ff00c5b72bd303974180f455eea:n.bind(null,"f072aab2d1312ff00c5b72bd303974180f455eea"),"0df91a61585a44e382358b467fe8fde07ae4179b":n.bind(null,"0df91a61585a44e382358b467fe8fde07ae4179b"),"10e06fe35a4d32ac922ac0f09759f026193ad57a":n.bind(null,"10e06fe35a4d32ac922ac0f09759f026193ad57a"),"28599db0021a4eedd4778629a4cba46fe01740e5":n.bind(null,"28599db0021a4eedd4778629a4cba46fe01740e5"),"65a933d528e11a71d8f7e4f8b055d8c6ca644816":n.bind(null,"65a933d528e11a71d8f7e4f8b055d8c6ca644816"),"74faa79fd496f7c008435c4d42eb114ef20cee2c":n.bind(null,"74faa79fd496f7c008435c4d42eb114ef20cee2c"),"8954f7bb916c7bc71c2a5dcace3fd2d594f13118":n.bind(null,"8954f7bb916c7bc71c2a5dcace3fd2d594f13118"),"9283f807b952487d022c9914e83bda887f40e4fc":n.bind(null,"9283f807b952487d022c9914e83bda887f40e4fc"),f1d743094e3be1ae5b9959c4bdf78ea2e045be49:n.bind(null,"f1d743094e3be1ae5b9959c4bdf78ea2e045be49")}},70308:(e,t,r)=>{Promise.resolve().then(r.bind(r,33088)),Promise.resolve().then(r.bind(r,10827))},33088:(e,t,r)=>{"use strict";r.d(t,{Form:()=>f});var a=r(10326),n=r(17577),d=r(77109),c=r(35047),s=r(85999),i=r(11870),o=r(33071);function f({token:e}){let t=(0,c.useRouter)();return(0,n.useCallback)(()=>{if(e?.user?.email){let r=(e,r)=>{e&&s.Am.error(e.message||e),r&&t.replace("/")};(0,d.signIn)("credentials",{email:e?.user?.email,code:e.token,redirect:!1}).then(e=>r(e?.error,e?.ok)).catch(r)}},[e,t]),(0,n.useRef)(0),a.jsx(a.Fragment,{children:e?a.jsx("div",{children:a.jsx(i.a,{overlay:!1})}):a.jsx(o.Zb,{className:"border-danger bg-danger/20 text-center",children:a.jsx(o.aY,{className:"p-4 flex flex-col gap-y-4",children:a.jsx("div",{className:"text-danger",children:"Could not verify link, it may have expired"})})})})}},10827:(e,t,r)=>{"use strict";function a({children:e}){return null}r.d(t,{Title:()=>a}),r(17577)},16052:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,dynamic:()=>o});var a=r(19510),n=r(17530),d=r(57435);let c=async e=>{try{return await (0,n.y)(e)}catch(e){return d.Z.error("getToken ERROR",e),null}};var s=r(85431);let i=(0,r(68570).createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\app\(auth)\authorize\[token]\components\form.tsx#Form`),o="force-dynamic";async function f({params:{token:e}}){let[t]=await Promise.all([...isNaN(Number(e))?[]:[c(Number(e))]]);return(0,a.jsxs)(a.Fragment,{children:[a.jsx(s.D,{children:"Sign in"}),a.jsx(i,{token:t})]})}},44713:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>i});var a=r(19510),n=r(58585),d=r(40801),c=r(84101),s=r(46697);let i={title:`${process.env.NEXT_PUBLIC_APP_NAME} - Sign In`};async function o({children:e}){let[t]=await Promise.all([(0,d.getAuthenticatedUser)()]);return t&&(0,n.redirect)("/"),a.jsx(a.Fragment,{children:a.jsx("div",{className:"   h-full   w-full   flex   flex-col   items-center   justify-center   ",children:a.jsx("div",{className:"w-full max-w-[350px]",children:a.jsx(s.Zb,{children:a.jsx(s.aY,{className:"p-0",children:(0,a.jsxs)("div",{className:"py-6 p-4 flex flex-col gap-y-12",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(c.T,{})}),a.jsx("div",{children:e})]})})})})})})}},85431:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});let a=(0,r(68570).createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\components\title.tsx#Title`)},46697:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>s,Zb:()=>c,aY:()=>o,ll:()=>i});var a=r(19510),n=r(71159),d=r(50650);let c=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));c.displayName="Card";let s=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",e),...t}));s.displayName="CardHeader";let i=n.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle",n.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,d.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,d.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,d.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},17530:(e,t,r)=>{"use strict";r.d(t,{E:()=>c,y:()=>s});var a=r(57745),n=r(10413),d=r(93567);async function c(e,t){let r=[];return t&&r.push((0,a.eq)(d.tokens.userId,t)),await n.Z.query.tokens.findFirst({where:(0,a.xD)((0,a.eg)(d.tokens.validUntil,new Date),(0,a.or)((0,a.xD)((0,a.eq)(d.tokens.id,Number(e)),...r),(0,a.xD)((0,a.eq)(d.tokens.token,Number(e)),...r)))})}async function s(e,t){let r=[];return t&&r.push((0,a.eq)(d.tokens.userId,t)),await n.Z.query.tokens.findFirst({where:(0,a.xD)((0,a.eg)(d.tokens.validUntil,new Date),(0,a.or)((0,a.xD)((0,a.eq)(d.tokens.id,Number(e)),...r),(0,a.xD)((0,a.eq)(d.tokens.token,Number(e)),...r))),with:{user:{columns:{userId:!0,email:!0,displayName:!0}}}})}},58585:(e,t,r)=>{"use strict";var a=r(61085);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return c},RedirectType:function(){return a.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(83953),n=r(16399);class d extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class c extends URLSearchParams{append(){throw new d}delete(){throw new d}set(){throw new d}sort(){throw new d}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return n},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return i},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return b},getURLFromRedirectError:function(){return u},isRedirectError:function(){return l},permanentRedirect:function(){return f},redirect:function(){return o}});let n=r(54580),d=r(72934),c=r(8586),s="NEXT_REDIRECT";function i(e,t,r){void 0===r&&(r=c.RedirectStatusCode.TemporaryRedirect);let a=Error(s);a.digest=s+";"+t+";"+e+";"+r+";";let d=n.requestAsyncStorage.getStore();return d&&(a.mutableCookies=d.mutableCookies),a}function o(e,t){void 0===t&&(t="replace");let r=d.actionAsyncStorage.getStore();throw i(e,t,(null==r?void 0:r.isAction)?c.RedirectStatusCode.SeeOther:c.RedirectStatusCode.TemporaryRedirect)}function f(e,t){void 0===t&&(t="replace");let r=d.actionAsyncStorage.getStore();throw i(e,t,(null==r?void 0:r.isAction)?c.RedirectStatusCode.SeeOther:c.RedirectStatusCode.PermanentRedirect)}function l(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,n]=e.digest.split(";",4),d=Number(n);return t===s&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(d)&&d in c.RedirectStatusCode}function u(e){return l(e)?e.digest.split(";",3)[2]:null}function b(e){if(!l(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!l(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9380,1744,1337,3788,2758,9092,4901,4263,1121,264,413,6267,5002,6741,8781,1162,7939,5241,2418,8778,1271,9011],()=>r(86556));module.exports=a})();