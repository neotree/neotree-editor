(()=>{var e={};e.id=4665,e.ids=[4665],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},7314:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(99458),t(44713),t(69684),t(96560);var s=t(23191),i=t(88716),a=t(37922),o=t.n(a),n=t(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let c=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,99458)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(auth)/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,44713)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(auth)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,69684)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/not-found.tsx"]}],d=["/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(auth)/login/page.tsx"],u="/(auth)/login/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},15532:(e,r,t)=>{Promise.resolve().then(t.bind(t,58874)),Promise.resolve().then(t.bind(t,10827))},58874:(e,r,t)=>{"use strict";t.d(r,{Form:()=>m});var s=t(10326),i=t(17577),a=t(74723),o=t(54432),n=t(90772),l=t(96221);function c({email:e,sendAuthCode:r,onAuthCode:t}){let{alert:c}=(0,l.s)(),[d,u]=(0,i.useState)(!1),{register:p,handleSubmit:x}=(0,a.cI)({shouldUnregister:!1,defaultValues:{email:e||""}}),h=x(async({email:e})=>{try{u(!0);let{tokenId:s}=await r({email:e});t({tokenId:s,email:e})}catch(e){c({title:"Error",message:e.message,variant:"error"})}finally{u(!1)}});return s.jsx(s.Fragment,{children:(0,s.jsxs)("form",{className:" flex flex-col gap-y-4 ",onSubmit:e=>{e.preventDefault(),h()},children:[s.jsx("div",{children:s.jsx(o.I,{type:"email",placeholder:"Email address",...p("email",{required:!0,disabled:d})})}),s.jsx("div",{className:"flex flex-col gap-y-2",children:s.jsx(n.z,{type:"submit",disabled:d,className:"w-full",children:d?"Please wait...":"Send verification code"})})]})})}var d=t(77109),u=t(35047),p=t(13737),x=t(77863);function h({email:e,onSendCode:r}){let{alert:t}=(0,l.s)(),c=(0,u.useRouter)(),[h,m]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!0),[q,y]=(0,i.useState)(!1),{watch:j,setValue:v,register:b,handleSubmit:w}=(0,a.cI)({shouldUnregister:!1,defaultValues:{email:e,code:"",password:""}}),S=j("code"),P=w(async r=>{try{m(!0);let t=await (0,d.signIn)("credentials",{...r,email:e,redirect:!1});if(t?.ok)c.replace("/");else throw Error(t?.error||"Failed to sign in")}catch(e){t({title:"Error",message:e.message,variant:"error"})}finally{m(!1)}});return s.jsx(s.Fragment,{children:(0,s.jsxs)("form",{className:" flex flex-col gap-y-4 ",onSubmit:e=>{e.preventDefault(),P()},children:[s.jsx("div",{children:s.jsx(o.I,{type:"email",placeholder:"Email address",...b("email",{disabled:!0})})}),s.jsx("div",{className:(0,x.cn)("flex justify-center",f?"":"hidden"),children:s.jsx(p.Zn,{maxLength:6,value:S,required:f,onChange:e=>{v("code",e),6===e.length&&P()},children:s.jsx(p.hf,{children:(()=>{let e=[];for(let r=0;r<6;r++)e.push(s.jsx(p.cY,{index:r,className:"w-14"},r));return e})()})})}),s.jsx("div",{className:(0,x.cn)(q?"":"hidden"),children:s.jsx(o.I,{type:"password",placeholder:"Password",...b("password",{required:q,disabled:h})})}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-2",children:[s.jsx(n.z,{type:"submit",disabled:h,className:"w-full",children:h?"Please wait...":"Sign in"}),(0,s.jsxs)("div",{className:"flex flex-col items-end gap-y-1",children:[s.jsx("a",{href:"#",className:(0,x.cn)("text text-sm transition-colors text-secondary/60 hover:text-secondary",h&&"opacity-20"),onClick:e=>{e.preventDefault(),h||(v("code",""),v("password",""),q?(y(!1),g(!0)):(y(!0),g(!1)))},children:q?"Sign in with code":"Sign in with password"}),f&&s.jsx("a",{href:"#",className:(0,x.cn)("text text-sm transition-colors text-secondary/60 hover:text-secondary",h&&"opacity-20"),onClick:e=>{e.preventDefault(),h||r()},children:"Resend code"})]})]})]})})}function m({sendAuthCode:e}){let[r,t]=(0,i.useState)("sendCodeForm"),[a,o]=(0,i.useState)("");return(0,s.jsxs)(s.Fragment,{children:["sendCodeForm"===r&&s.jsx(c,{email:a,sendAuthCode:e,onAuthCode:({email:e})=>{o(e),t("signInForm")}}),"signInForm"===r&&s.jsx(h,{email:a,onSendCode:()=>t("sendCodeForm")})]})}},99458:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(19510),i=t(15215),a=t(85431),o=t(68570);let n=(0,o.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(auth)/login/components/form.tsx`),{__esModule:l,$$typeof:c}=n;n.default;let d=(0,o.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(auth)/login/components/form.tsx#Form`);function u(){return(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.D,{children:"Sign in"}),s.jsx(d,{sendAuthCode:i.sendAuthCode})]})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[5822,3788,1744,1490,5802,4084,7025,4723,5245,9321,413,2814,3856,2312],()=>t(7314));module.exports=s})();