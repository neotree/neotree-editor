(()=>{var e={};e.id=7297,e.ids=[7297],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},83569:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c}),t(13005),t(84232),t(56367),t(12699),t(77482),t(96560);var s=t(23191),a=t(88716),n=t(37922),o=t.n(n),i=t(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let c=["",{children:["(dashboard)",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,13005)),"/home/farai/Workbench/Neotree/neotree-editor-master/app/(dashboard)/users/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,84232)),"/home/farai/Workbench/Neotree/neotree-editor-master/app/(dashboard)/users/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,56367)),"/home/farai/Workbench/Neotree/neotree-editor-master/app/(dashboard)/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,12699)),"/home/farai/Workbench/Neotree/neotree-editor-master/app/(dashboard)/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,77482)),"/home/farai/Workbench/Neotree/neotree-editor-master/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/home/farai/Workbench/Neotree/neotree-editor-master/app/not-found.tsx"]}],u=["/home/farai/Workbench/Neotree/neotree-editor-master/app/(dashboard)/users/page.tsx"],d="/(dashboard)/users/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},61619:(e,r,t)=>{Promise.resolve().then(t.bind(t,97614)),Promise.resolve().then(t.bind(t,10827))},97614:(e,r,t)=>{"use strict";t.d(r,{UsersTable:()=>ex});var s=t(10326),a=t(17577),n=t(85999);/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,t(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var i=t(57967),l=t.n(i),c=t(44099),u=t(82561),d=t(48051),p=t(93095),h=t(825),m=t(88957),f=t(93835),x=(t(83078),t(9815)),g=t(45226),y=t(34214),b=t(52067),v=t(6009),[j,w]=(0,p.b)("Tooltip",[f.D7]),k=(0,f.D7)(),C="TooltipProvider",N="tooltip.open",[E,P]=j(C),R=e=>{let{__scopeTooltip:r,delayDuration:t=700,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:i}=e,l=a.useRef(!0),c=a.useRef(!1),u=a.useRef(0);return a.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,s.jsx)(E,{scope:r,isOpenDelayedRef:l,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:a.useCallback(e=>{c.current=e},[]),disableHoverableContent:o,children:i})};R.displayName=C;var T="Tooltip",[S,F]=j(T),q=e=>{let{__scopeTooltip:r,children:t,open:n,defaultOpen:o,onOpenChange:i,disableHoverableContent:l,delayDuration:c}=e,u=P(T,e.__scopeTooltip),d=k(r),[p,h]=a.useState(null),x=(0,m.M)(),g=a.useRef(0),y=l??u.disableHoverableContent,v=c??u.delayDuration,j=a.useRef(!1),[w,C]=(0,b.T)({prop:n,defaultProp:o??!1,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(N))):u.onClose(),i?.(e)},caller:T}),E=a.useMemo(()=>w?j.current?"delayed-open":"instant-open":"closed",[w]),R=a.useCallback(()=>{window.clearTimeout(g.current),g.current=0,j.current=!1,C(!0)},[C]),F=a.useCallback(()=>{window.clearTimeout(g.current),g.current=0,C(!1)},[C]),q=a.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{j.current=!0,C(!0),g.current=0},v)},[v,C]);return a.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),(0,s.jsx)(f.fC,{...d,children:(0,s.jsx)(S,{scope:r,contentId:x,open:w,stateAttribute:E,trigger:p,onTriggerChange:h,onTriggerEnter:a.useCallback(()=>{u.isOpenDelayedRef.current?q():R()},[u.isOpenDelayedRef,q,R]),onTriggerLeave:a.useCallback(()=>{y?F():(window.clearTimeout(g.current),g.current=0)},[F,y]),onOpen:R,onClose:F,disableHoverableContent:y,children:t})})};q.displayName=T;var L="TooltipTrigger",U=a.forwardRef((e,r)=>{let{__scopeTooltip:t,...n}=e,o=F(L,t),i=P(L,t),l=k(t),c=a.useRef(null),p=(0,d.e)(r,c,o.onTriggerChange),h=a.useRef(!1),m=a.useRef(!1),x=a.useCallback(()=>h.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),(0,s.jsx)(f.ee,{asChild:!0,...l,children:(0,s.jsx)(g.WV.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:p,onPointerMove:(0,u.M)(e.onPointerMove,e=>{"touch"===e.pointerType||m.current||i.isPointerInTransitRef.current||(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:(0,u.M)(e.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:(0,u.M)(e.onPointerDown,()=>{o.open&&o.onClose(),h.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:(0,u.M)(e.onFocus,()=>{h.current||o.onOpen()}),onBlur:(0,u.M)(e.onBlur,o.onClose),onClick:(0,u.M)(e.onClick,o.onClose)})})});U.displayName=L;var[I,A]=j("TooltipPortal",{forceMount:void 0}),O="TooltipContent",D=a.forwardRef((e,r)=>{let t=A(O,e.__scopeTooltip),{forceMount:a=t.forceMount,side:n="top",...o}=e,i=F(O,e.__scopeTooltip);return(0,s.jsx)(x.z,{present:a||i.open,children:i.disableHoverableContent?(0,s.jsx)(z,{side:n,...o,ref:r}):(0,s.jsx)(M,{side:n,...o,ref:r})})}),M=a.forwardRef((e,r)=>{let t=F(O,e.__scopeTooltip),n=P(O,e.__scopeTooltip),o=a.useRef(null),i=(0,d.e)(r,o),[l,c]=a.useState(null),{trigger:u,onClose:p}=t,h=o.current,{onPointerInTransitChange:m}=n,f=a.useCallback(()=>{c(null),m(!1)},[m]),x=a.useCallback((e,r)=>{let t=e.currentTarget,s={x:e.clientX,y:e.clientY},a=function(e,r){let t=Math.abs(r.top-e.y),s=Math.abs(r.bottom-e.y),a=Math.abs(r.right-e.x),n=Math.abs(r.left-e.x);switch(Math.min(t,s,a,n)){case n:return"left";case a:return"right";case t:return"top";case s:return"bottom";default:throw Error("unreachable")}}(s,t.getBoundingClientRect());c(function(e){let r=e.slice();return r.sort((e,r)=>e.x<r.x?-1:e.x>r.x?1:e.y<r.y?-1:e.y>r.y?1:0),function(e){if(e.length<=1)return e.slice();let r=[];for(let t=0;t<e.length;t++){let s=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(s.y-t.y)>=(e.y-t.y)*(s.x-t.x))r.pop();else break}r.push(s)}r.pop();let t=[];for(let r=e.length-1;r>=0;r--){let s=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(s.y-r.y)>=(e.y-r.y)*(s.x-r.x))t.pop();else break}t.push(s)}return(t.pop(),1===r.length&&1===t.length&&r[0].x===t[0].x&&r[0].y===t[0].y)?r:r.concat(t)}(r)}([...function(e,r,t=5){let s=[];switch(r){case"top":s.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":s.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":s.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":s.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t})}return s}(s,a),...function(e){let{top:r,right:t,bottom:s,left:a}=e;return[{x:a,y:r},{x:t,y:r},{x:t,y:s},{x:a,y:s}]}(r.getBoundingClientRect())])),m(!0)},[m]);return a.useEffect(()=>()=>f(),[f]),a.useEffect(()=>{if(u&&h){let e=e=>x(e,h),r=e=>x(e,u);return u.addEventListener("pointerleave",e),h.addEventListener("pointerleave",r),()=>{u.removeEventListener("pointerleave",e),h.removeEventListener("pointerleave",r)}}},[u,h,x,f]),a.useEffect(()=>{if(l){let e=e=>{let r=e.target,t={x:e.clientX,y:e.clientY},s=u?.contains(r)||h?.contains(r),a=!function(e,r){let{x:t,y:s}=e,a=!1;for(let e=0,n=r.length-1;e<r.length;n=e++){let o=r[e],i=r[n],l=o.x,c=o.y,u=i.x,d=i.y;c>s!=d>s&&t<(u-l)*(s-c)/(d-c)+l&&(a=!a)}return a}(t,l);s?f():a&&(f(),p())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,h,l,p,f]),(0,s.jsx)(z,{...e,ref:i})}),[_,$]=j(T,{isInside:!1}),Z=(0,y.sA)("TooltipContent"),z=a.forwardRef((e,r)=>{let{__scopeTooltip:t,children:n,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:l,...c}=e,u=F(O,t),d=k(t),{onClose:p}=u;return a.useEffect(()=>(document.addEventListener(N,p),()=>document.removeEventListener(N,p)),[p]),a.useEffect(()=>{if(u.trigger){let e=e=>{let r=e.target;r?.contains(u.trigger)&&p()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,p]),(0,s.jsx)(h.XB,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:p,children:(0,s.jsxs)(f.VY,{"data-state":u.stateAttribute,...d,...c,ref:r,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,s.jsx)(Z,{children:n}),(0,s.jsx)(_,{scope:t,isInside:!0,children:(0,s.jsx)(v.fC,{id:u.contentId,role:"tooltip",children:o||n})})]})})});D.displayName=O;var V="TooltipArrow";a.forwardRef((e,r)=>{let{__scopeTooltip:t,...a}=e,n=k(t);return $(V,t).isInside?null:(0,s.jsx)(f.Eh,{...n,...a,ref:r})}).displayName=V;var B=t(77863);let W=a.forwardRef(({className:e,sideOffset:r=4,...t},a)=>s.jsx(D,{ref:a,sideOffset:r,className:(0,B.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));W.displayName=D.displayName;var X=t(7636),Q=t(58879),Y=t(8281),G=t(11870),H=t(12260),J=t(46670),K=t(3529),ee=t(77109),er=t(39447),et=t(47035),es=t(90434),ea=t(60097),en=t(90772);function eo({email:e,userId:r,userName:t,isActivated:a,onDelete:n,onResetPasswords:o}){let i=(0,ee.useSession)();return(0,H.l)(),s.jsx(s.Fragment,{children:(0,s.jsxs)(ea.h_,{children:[s.jsx(ea.$F,{asChild:!0,children:s.jsx(en.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:s.jsx(er.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(ea.AW,{children:[s.jsx(ea.Ju,{children:t}),s.jsx(ea.VD,{}),s.jsx(ea.Xi,{asChild:!0,children:s.jsx(es.default,{href:`/users/edit/${r}`,children:"Edit"})}),s.jsx(ea.Xi,{disabled:a,children:"Send activation code"}),s.jsx(ea.Xi,{onClick:()=>setTimeout(()=>o(),0),className:"text-danger focus:bg-danger focus:text-danger-foreground",children:"Reset password"}),s.jsx(ea.VD,{}),(0,s.jsxs)(ea.Xi,{onClick:()=>setTimeout(()=>n(),0),className:"text-danger focus:bg-danger focus:text-danger-foreground",disabled:e===i.data?.user?.email,children:[s.jsx(et.Z,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Delete"})]})]})]})})}var ei=t(83855),el=t(34474);let ec=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}];function eu({selected:e,roles:r,getUsers:t,onDelete:n,searchUsers:o}){let i=(0,H.l)(),[l,c]=(0,a.useState)(i.parsed.role||"all"),[u,d]=(0,a.useState)(i.parsed.status||"all");return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{children:(0,s.jsxs)(el.Ph,{value:u,onValueChange:e=>{let r="all"===e?void 0:e;d(e),t({status:r},e=>!e&&i.push({status:r}))},children:[s.jsx(el.i4,{children:s.jsx(el.ki,{placeholder:"Filter by status"})}),s.jsx(el.Bw,{children:(0,s.jsxs)(el.DI,{children:[s.jsx(el.n5,{children:"User status"}),s.jsx(el.Ql,{value:"all",children:"All statuses"}),ec.map(e=>s.jsx(el.Ql,{value:e.value,children:e.label},e.value))]})})]})}),s.jsx("div",{children:(0,s.jsxs)(el.Ph,{value:l,onValueChange:e=>{let r="all"===e?[]:[e];c(e),t({roles:r},e=>!e&&i.push({role:r[0]}))},children:[s.jsx(el.i4,{children:s.jsx(el.ki,{placeholder:"Filter by role"})}),s.jsx(el.Bw,{children:(0,s.jsxs)(el.DI,{children:[s.jsx(el.n5,{children:"User roles"}),s.jsx(el.Ql,{value:"all",children:"All roles"}),r.map(e=>s.jsx(el.Ql,{value:e.name,children:e.description},e.name))]})})]})}),s.jsx("div",{children:s.jsx(en.z,{variant:"outline",className:"w-auto h-auto border-primary text-primary",asChild:!0,children:(0,s.jsxs)(es.default,{href:"/users/add",children:[s.jsx(ei.Z,{className:"w-4 h-4 mr-1"}),"New User"]})})})]})}var ed=t(74723),ep=t(7890),eh=t(31048),em=t(96221);function ef({open:e,userIds:r,roles:t,onOpenChange:n,updateUsers:o,onSaveSuccess:i}){let{alert:l}=(0,em.s)(),{parsed:u,replace:d}=(0,H.l)(),[p,h]=(0,a.useState)(!1),{watch:m,setValue:f,handleSubmit:x}=(0,ed.cI)({defaultValues:{role:""}}),g=(0,a.useCallback)(()=>{d({bulkEdit:void 0}),f("role","")},[n,d,f]),y=x(e=>{(async()=>{try{h(!0),r.length&&(await c.Z.post("/api/users/update",{data:r.map(r=>({userId:r,data:e}))}),i&&await i()),l({variant:"success",message:"Users updated",onClose:g})}catch(e){l({title:"",message:"Failed to update users: "+e.message,variant:"error"})}finally{h(!1)}})()}),b=m("role");return s.jsx(s.Fragment,{children:s.jsx(ep.yo,{open:e,onOpenChange:e=>{e||g(),n?.(e)},children:(0,s.jsxs)(ep.ue,{side:"right",className:"p-0 m-0 flex flex-col",children:[s.jsx(ep.Tu,{className:"py-2 px-4 border-b border-b-border",children:s.jsx(ep.bC,{children:"Bulk edit users"})}),s.jsx("div",{className:"flex-1 flex flex-col py-2 px-4 gap-y-4 overflow-y-auto",children:(0,s.jsxs)("div",{children:[s.jsx(eh._,{htmlFor:"role",children:"Role"}),(0,s.jsxs)(el.Ph,{value:b,required:!0,name:"role",disabled:p,onValueChange:e=>{f("role",e)},children:[s.jsx(el.i4,{children:s.jsx(el.ki,{placeholder:"-- select role --"})}),s.jsx(el.Bw,{children:(0,s.jsxs)(el.DI,{children:[s.jsx(el.n5,{children:"User role"}),t.map(e=>s.jsx(el.Ql,{value:e.name,children:e.description},e.name))]})})]})]})}),(0,s.jsxs)("div",{className:"border-t border-t-border px-4 py-2 flex justify-end gap-x-2",children:[s.jsx(ep.sw,{asChild:!0,children:s.jsx(en.z,{variant:"outline",children:"Cancel"})}),s.jsx(en.z,{onClick:y,disabled:!b,children:"Save"})]})]})})})}function ex({users:e,roles:r,user:t,getUsers:i,deleteUsers:u,getUser:d,updateUsers:p,createUsers:h,searchUsers:m,resetUsersPasswords:f}){let x=(0,H.l)(),{mode:g}=(0,K.b)(),[y,b]=(0,a.useState)(e),[v,j]=(0,a.useState)(!1),[w,k]=(0,a.useState)([]),{confirm:C}=(0,J.t)(),N=(0,a.useCallback)(async(r,t)=>{j(!0);let s=(await c.Z.get("/api/users?data="+JSON.stringify({...x.parsed,roles:x.parsed.role?[x.parsed.role]:void 0,page:1,limit:e.limit,...r}))).data;s.error?n.Am.error(s.error):(b(s),k([])),t?.(s.error,s),j(!1)},[i,x,e]),E=(0,a.useCallback)((e,r)=>{let t=y.data.filter(r=>e.includes(r.userId)).map(e=>e.displayName);C(()=>{(async()=>{try{j(!0),await c.Z.delete("/api/users?data="+JSON.stringify(e)),await N(),r?.()}catch(e){n.Am.error(e.message)}finally{j(!1)}})()},{title:"Delete "+(t.length>1?"users":"user"),message:`<p>Are you sure you want to delete:</p> ${t.map(e=>`<div class="font-bold text-danger">${e}</div>`).join("")}`,negativeLabel:"Cancel",positiveLabel:"Delete",danger:!0})},[C,u,N,y]),P=(0,a.useCallback)((e,r)=>{let t=y.data.filter(r=>e.includes(r.userId)).map(e=>e.displayName);C(()=>{(async()=>{try{j(!0),await c.Z.post("/api/users/reset-passwords",{usersIds:e}),n.Am.success("Passwords reset successful!"),r?.()}catch(e){n.Am.error(e.message)}finally{j(!1)}})()},{title:"Reset "+(t.length>1?"users passwords":"user password"),message:`<p>Are you sure you want to reset users passwords:</p> ${t.map(e=>`<div class="font-bold text-danger">${e}</div>`).join("")}`,negativeLabel:"Cancel",positiveLabel:"Reset",danger:!0})},[C,f,y]),T=(0,a.useMemo)(()=>"view"===g,[g]),S=s.jsx(ef,{roles:r,open:!!w.length,userIds:w.map(e=>y.data[e].userId),updateUsers:p,onSaveSuccess:()=>N({page:y.page}),onOpenChange:e=>!e&&k([])});return(0,s.jsxs)(s.Fragment,{children:[v&&s.jsx(G.a,{overlay:!0}),S,(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx(X.DataTable,{title:"Users",selectable:!T,selectedIndexes:w,onSelect:k,search:{inputPlaceholder:"Search users"},headerActions:s.jsx(eu,{users:y,roles:r,selected:w.map(e=>y.data[e].userId),onDelete:E,getUsers:N,searchUsers:m}),columns:[{name:"Display name"},{name:"Email"},{name:"Role"},{name:"Last login date"},{name:"Active",align:"right",cellRenderer(e){let r=y.data[e.rowIndex];return s.jsx(R,{delayDuration:0,children:(0,s.jsxs)(q,{children:[s.jsx(U,{asChild:!0,children:s.jsx(o,{className:(0,B.cn)(r.activationDate?"text-green-400":"text-gray-400","w-4 h-4")})}),!!r.activationDate&&s.jsx(W,{children:(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Activation date: ",l()(r.activationDate).format("LLL")]})})]})})}},{name:"Action",align:"right",cellRenderer(e){let r=y.data[e.rowIndex];return s.jsx(eo,{email:r.email,userId:r.userId,userName:r.displayName,isActivated:!!r.activationDate,onDelete:()=>E([r.userId]),onResetPasswords:()=>P([r.userId])})}}],data:y.data.map(e=>[e.displayName,e.email,r.filter(r=>r.name===e.role)[0]?.description||e.role,e.lastLoginDate?l()(e.lastLoginDate).format("LLL"):"",""])}),s.jsx(Y.Z,{}),s.jsx("div",{className:"p-2",children:s.jsx(Q.t,{currentPage:y.page,totalPages:y.totalPages,disabled:v,limit:y.limit||y.totalRows,totalRows:y.totalRows,collectionName:"users",onPaginate:e=>N({page:e},(e,r)=>!e&&x.push({page:r?.page||y.page})),hideControls:!1,hideSummary:!1})})]})]})}},8281:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var s=t(10326),a=t(17577),n=t(90220),o=t(77863);let i=a.forwardRef(({className:e,orientation:r="horizontal",decorative:t=!0,...a},i)=>s.jsx(n.f,{ref:i,decorative:t,orientation:r,className:(0,o.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...a}));i.displayName=n.f.displayName},12260:(e,r,t)=>{"use strict";t.d(r,{l:()=>o});var s=t(35047),a=t(15491),n=t(17577);function o(){let e=(0,s.useRouter)(),r=(0,s.useSearchParams)(),t=(0,n.useMemo)(()=>r.toString(),[r]),o=(0,n.useMemo)(()=>a.Z.parse(r.toString()),[r]),i=(0,n.useCallback)(e=>a.Z.stringify({...o,...e}),[o]),l=(0,n.useCallback)(r=>{e.push(`?${i(r)}`)},[i,e]);return{parsed:o,stringified:t,replace:(0,n.useCallback)(r=>{e.replace(`?${i(r)}`)},[i,e]),push:l,toSearchParams:i}}},39447:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62881).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},83855:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},47035:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62881).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},13005:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f,dynamic:()=>m});var s=t(19510),a=t(73508),n=t(43767),o=t(24569),i=t(85431),l=t(46697),c=t(68570);let u=(0,c.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor-master/app/(dashboard)/users/components/table.tsx`),{__esModule:d,$$typeof:p}=u;u.default;let h=(0,c.createProxy)(String.raw`/home/farai/Workbench/Neotree/neotree-editor-master/app/(dashboard)/users/components/table.tsx#UsersTable`),m="force-dynamic";async function f({searchParams:e}){let{page:r,role:t,status:c,userId:u}=await e,[d,p,m]=await Promise.all([(0,a.getUsers)({limit:25,page:r?Number(r):void 0,roles:t?[t]:void 0,status:c}),(0,n.getRoles)(),u?await (0,a.getUser)(u):null]);return(0,s.jsxs)(s.Fragment,{children:[s.jsx(i.D,{children:"Users"}),s.jsx(o.V,{children:d.error?s.jsx(l.Zb,{className:"border-danger bg-danger/20 text-center",children:s.jsx(l.aY,{children:s.jsx("div",{className:"text-danger",children:d.error})})}):s.jsx(l.Zb,{children:s.jsx(l.aY,{className:"p-0",children:s.jsx(h,{user:m,users:d,roles:p,getUsers:a.getUsers,deleteUsers:a.deleteUsers,getUser:a.getUser,updateUsers:a.updateUsers,createUsers:a.createUsers,searchUsers:a.searchUsers,resetUsersPasswords:a.resetUsersPasswords})})})})]})}},90220:(e,r,t)=>{"use strict";t.d(r,{f:()=>c});var s=t(17577),a=t(45226),n=t(10326),o="horizontal",i=["horizontal","vertical"],l=s.forwardRef((e,r)=>{let{decorative:t,orientation:s=o,...l}=e,c=i.includes(s)?s:o;return(0,n.jsx)(a.WV.div,{"data-orientation":c,...t?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...l,ref:r})});l.displayName="Separator";var c=l},15491:(e,r,t)=>{"use strict";t.d(r,{Z:()=>k});var s={};t.r(s),t.d(s,{exclude:()=>w,extract:()=>x,parse:()=>g,parseUrl:()=>b,pick:()=>j,stringify:()=>y,stringifyUrl:()=>v});let a="%[a-f0-9]{2}",n=RegExp("("+a+")|([^%]+?)","gi"),o=RegExp("("+a+")+","gi");function i(e,r){if(!("string"==typeof e&&"string"==typeof r))throw TypeError("Expected the arguments to be of type `string`");if(""===e||""===r)return[];let t=e.indexOf(r);return -1===t?[]:[e.slice(0,t),e.slice(t+r.length)]}let l=e=>null==e,c=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),u=Symbol("encodeFragmentIdentifier");function d(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function p(e,r){return r.encode?r.strict?c(e):encodeURIComponent(e):e}function h(e,r){return r.decode?function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function(e){let r={"%FE%FF":"��","%FF%FE":"��"},t=o.exec(e);for(;t;){try{r[t[0]]=decodeURIComponent(t[0])}catch{let e=function(e){try{return decodeURIComponent(e)}catch{let r=e.match(n)||[];for(let t=1;t<r.length;t++)r=(e=(function e(r,t){try{return[decodeURIComponent(r.join(""))]}catch{}if(1===r.length)return r;t=t||1;let s=r.slice(0,t),a=r.slice(t);return Array.prototype.concat.call([],e(s),e(a))})(r,t).join("")).match(n)||[];return e}}(t[0]);e!==t[0]&&(r[t[0]]=e)}t=o.exec(e)}for(let t of(r["%C2"]="�",Object.keys(r)))e=e.replace(RegExp(t,"g"),r[t]);return e}(e)}}(e):e}function m(e){let r=e.indexOf("#");return -1!==r&&(e=e.slice(0,r)),e}function f(e,r,t){return"string"===t&&"string"==typeof e?e:"function"==typeof t&&"string"==typeof e?t(e):"boolean"===t&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())?"true"===e.toLowerCase():"boolean"===t&&null!==e&&("1"===e.toLowerCase()||"0"===e.toLowerCase())?"1"===e.toLowerCase():"string[]"===t&&"none"!==r.arrayFormat&&"string"==typeof e?[e]:"number[]"!==t||"none"===r.arrayFormat||Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?"number"!==t||Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?r.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())?"true"===e.toLowerCase():r.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?Number(e):e:Number(e):[Number(e)]}function x(e){let r=(e=m(e)).indexOf("?");return -1===r?"":e.slice(r+1)}function g(e,r){d((r={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...r}).arrayFormatSeparator);let t=function(e){let r;switch(e.arrayFormat){case"index":return(e,t,s)=>{if(r=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),!r){s[e]=t;return}void 0===s[e]&&(s[e]={}),s[e][r[1]]=t};case"bracket":return(e,t,s)=>{if(r=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),!r){s[e]=t;return}if(void 0===s[e]){s[e]=[t];return}s[e]=[...s[e],t]};case"colon-list-separator":return(e,t,s)=>{if(r=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!r){s[e]=t;return}if(void 0===s[e]){s[e]=[t];return}s[e]=[...s[e],t]};case"comma":case"separator":return(r,t,s)=>{let a="string"==typeof t&&t.includes(e.arrayFormatSeparator),n="string"==typeof t&&!a&&h(t,e).includes(e.arrayFormatSeparator);t=n?h(t,e):t;let o=a||n?t.split(e.arrayFormatSeparator).map(r=>h(r,e)):null===t?t:h(t,e);s[r]=o};case"bracket-separator":return(r,t,s)=>{let a=/(\[])$/.test(r);if(r=r.replace(/\[]$/,""),!a){s[r]=t?h(t,e):t;return}let n=null===t?[]:h(t,e).split(e.arrayFormatSeparator);if(void 0===s[r]){s[r]=n;return}s[r]=[...s[r],...n]};default:return(e,r,t)=>{if(void 0===t[e]){t[e]=r;return}t[e]=[...[t[e]].flat(),r]}}}(r),s=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return s;for(let a of e.split("&")){if(""===a)continue;let e=r.decode?a.replaceAll("+"," "):a,[n,o]=i(e,"=");void 0===n&&(n=e),o=void 0===o?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?o:h(o,r),t(h(n,r),o,s)}for(let[e,t]of Object.entries(s))if("object"==typeof t&&null!==t&&"string"!==r.types[e])for(let[s,a]of Object.entries(t)){let n=r.types[e]?r.types[e].replace("[]",""):void 0;t[s]=f(a,r,n)}else"object"==typeof t&&null!==t&&"string"===r.types[e]?s[e]=Object.values(t).join(r.arrayFormatSeparator):s[e]=f(t,r,r.types[e]);return!1===r.sort?s:(!0===r.sort?Object.keys(s).sort():Object.keys(s).sort(r.sort)).reduce((e,r)=>{let t=s[r];return e[r]=t&&"object"==typeof t&&!Array.isArray(t)?function e(r){return Array.isArray(r)?r.sort():"object"==typeof r?e(Object.keys(r)).sort((e,r)=>Number(e)-Number(r)).map(e=>r[e]):r}(t):t,e},Object.create(null))}function y(e,r){if(!e)return"";d((r={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...r}).arrayFormatSeparator);let t=t=>r.skipNull&&l(e[t])||r.skipEmptyString&&""===e[t],s=function(e){switch(e.arrayFormat){case"index":return r=>(t,s)=>{let a=t.length;return void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?t:null===s?[...t,[p(r,e),"[",a,"]"].join("")]:[...t,[p(r,e),"[",p(a,e),"]=",p(s,e)].join("")]};case"bracket":return r=>(t,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?t:null===s?[...t,[p(r,e),"[]"].join("")]:[...t,[p(r,e),"[]=",p(s,e)].join("")];case"colon-list-separator":return r=>(t,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?t:null===s?[...t,[p(r,e),":list="].join("")]:[...t,[p(r,e),":list=",p(s,e)].join("")];case"comma":case"separator":case"bracket-separator":{let r="bracket-separator"===e.arrayFormat?"[]=":"=";return t=>(s,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?s:(a=null===a?"":a,0===s.length)?[[p(t,e),r,p(a,e)].join("")]:[[s,p(a,e)].join(e.arrayFormatSeparator)]}default:return r=>(t,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?t:null===s?[...t,p(r,e)]:[...t,[p(r,e),"=",p(s,e)].join("")]}}(r),a={};for(let[r,s]of Object.entries(e))t(r)||(a[r]=s);let n=Object.keys(a);return!1!==r.sort&&n.sort(r.sort),n.map(t=>{let a=e[t];return void 0===a?"":null===a?p(t,r):Array.isArray(a)?0===a.length&&"bracket-separator"===r.arrayFormat?p(t,r)+"[]":a.reduce(s(t),[]).join("&"):p(t,r)+"="+p(a,r)}).filter(e=>e.length>0).join("&")}function b(e,r){r={decode:!0,...r};let[t,s]=i(e,"#");return void 0===t&&(t=e),{url:t?.split("?")?.[0]??"",query:g(x(e),r),...r&&r.parseFragmentIdentifier&&s?{fragmentIdentifier:h(s,r)}:{}}}function v(e,r){r={encode:!0,strict:!0,[u]:!0,...r};let t=m(e.url).split("?")[0]||"",s=y({...g(x(e.url),{sort:!1}),...e.query},r);s&&=`?${s}`;let a=function(e){let r="",t=e.indexOf("#");return -1!==t&&(r=e.slice(t)),r}(e.url);if("string"==typeof e.fragmentIdentifier){let s=new URL(t);s.hash=e.fragmentIdentifier,a=r[u]?s.hash:`#${e.fragmentIdentifier}`}return`${t}${s}${a}`}function j(e,r,t){let{url:s,query:a,fragmentIdentifier:n}=b(e,t={parseFragmentIdentifier:!0,[u]:!1,...t});return v({url:s,query:function(e,r){let t={};if(Array.isArray(r))for(let s of r){let r=Object.getOwnPropertyDescriptor(e,s);r?.enumerable&&Object.defineProperty(t,s,r)}else for(let s of Reflect.ownKeys(e)){let a=Object.getOwnPropertyDescriptor(e,s);if(a.enumerable){let n=e[s];r(s,n,e)&&Object.defineProperty(t,s,a)}}return t}(a,r),fragmentIdentifier:n},t)}function w(e,r,t){return j(e,Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t),t)}let k=s}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1633,1744,1337,3788,2758,4901,9712,1121,7938,3631,5358,4723,8628,7967,413,6267,927,6555,4997,3883,1271,7429,1717,7636,5829],()=>t(83569));module.exports=s})();