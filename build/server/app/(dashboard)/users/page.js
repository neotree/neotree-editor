(()=>{var e={};e.id=7297,e.ids=[7297],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},99697:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(13005),t(17872),t(56367),t(12699),t(99985),t(96560);var s=t(23191),a=t(88716),i=t(37922),o=t.n(i),n=t(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let c=["",{children:["(dashboard)",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,13005)),"/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/users/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,17872)),"/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/users/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,56367)),"/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,12699)),"/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,99985)),"/home/watkay/ReactProjects/neotree-editor/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/home/watkay/ReactProjects/neotree-editor/app/not-found.tsx"]}],d=["/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/users/page.tsx"],u="/(dashboard)/users/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},86621:(e,r,t)=>{Promise.resolve().then(t.bind(t,83243)),Promise.resolve().then(t.bind(t,10827))},83243:(e,r,t)=>{"use strict";t.d(r,{UsersTable:()=>L});var s=t(10326),a=t(17577),i=t(85999);let o=(0,t(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var n=t(57967),l=t.n(n),c=t(94464),d=t(68232),u=t(77863),p=t(7636),m=t(3756),h=t(8281),f=t(11870),x=t(12260),g=t(46670),y=t(3529),j=t(77109),b=t(39447),v=t(47035),w=t(90434),N=t(60097),k=t(90772);function C({email:e,userId:r,userName:t,isActivated:a,onDelete:i,onResetPasswords:o}){let n=(0,j.useSession)();return(0,x.l)(),s.jsx(s.Fragment,{children:(0,s.jsxs)(N.h_,{children:[s.jsx(N.$F,{asChild:!0,children:s.jsx(k.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:s.jsx(b.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(N.AW,{children:[s.jsx(N.Ju,{children:t}),s.jsx(N.VD,{}),s.jsx(N.Xi,{asChild:!0,children:s.jsx(w.default,{href:`/users/edit/${r}`,children:"Edit"})}),s.jsx(N.Xi,{disabled:a,children:"Send activation code"}),s.jsx(N.Xi,{onClick:()=>setTimeout(()=>o(),0),className:"text-danger focus:bg-danger focus:text-danger-foreground",children:"Reset password"}),s.jsx(N.VD,{}),(0,s.jsxs)(N.Xi,{onClick:()=>setTimeout(()=>i(),0),className:"text-danger focus:bg-danger focus:text-danger-foreground",disabled:e===n.data?.user?.email,children:[s.jsx(v.Z,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Delete"})]})]})]})})}var P=t(83855),U=t(34474);let S=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}];function F({selected:e,roles:r,getUsers:t,onDelete:i,searchUsers:o}){let n=(0,x.l)(),[l,c]=(0,a.useState)(n.parsed.role||"all"),[d,u]=(0,a.useState)(n.parsed.status||"all");return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{children:(0,s.jsxs)(U.Ph,{value:d,onValueChange:e=>{let r="all"===e?void 0:e;u(e),t({status:r},e=>!e&&n.push({status:r}))},children:[s.jsx(U.i4,{children:s.jsx(U.ki,{placeholder:"Filter by status"})}),s.jsx(U.Bw,{children:(0,s.jsxs)(U.DI,{children:[s.jsx(U.n5,{children:"User status"}),s.jsx(U.Ql,{value:"all",children:"All statuses"}),S.map(e=>s.jsx(U.Ql,{value:e.value,children:e.label},e.value))]})})]})}),s.jsx("div",{children:(0,s.jsxs)(U.Ph,{value:l,onValueChange:e=>{let r="all"===e?[]:[e];c(e),t({roles:r},e=>!e&&n.push({role:r[0]}))},children:[s.jsx(U.i4,{children:s.jsx(U.ki,{placeholder:"Filter by role"})}),s.jsx(U.Bw,{children:(0,s.jsxs)(U.DI,{children:[s.jsx(U.n5,{children:"User roles"}),s.jsx(U.Ql,{value:"all",children:"All roles"}),r.map(e=>s.jsx(U.Ql,{value:e.name,children:e.description},e.name))]})})]})}),s.jsx("div",{children:s.jsx(k.z,{variant:"outline",className:"w-auto h-auto border-primary text-primary",asChild:!0,children:(0,s.jsxs)(w.default,{href:"/users/add",children:[s.jsx(P.Z,{className:"w-4 h-4 mr-1"}),"New User"]})})})]})}var q=t(74723),R=t(7890),A=t(31048),I=t(96221);function O({open:e,userIds:r,roles:t,onOpenChange:i,updateUsers:o,onSaveSuccess:n}){let{alert:l}=(0,I.s)(),{parsed:d,replace:u}=(0,x.l)(),[p,m]=(0,a.useState)(!1),{watch:h,setValue:f,handleSubmit:g}=(0,q.cI)({defaultValues:{role:""}}),y=(0,a.useCallback)(()=>{u({bulkEdit:void 0}),f("role","")},[i,u,f]),j=g(e=>{(async()=>{try{m(!0),r.length&&(await c.Z.post("/api/users/update",{data:r.map(r=>({userId:r,data:e}))}),n&&await n()),l({variant:"success",message:"Users updated",onClose:y})}catch(e){l({title:"",message:"Failed to update users: "+e.message,variant:"error"})}finally{m(!1)}})()}),b=h("role");return s.jsx(s.Fragment,{children:s.jsx(R.yo,{open:e,onOpenChange:e=>{e||y(),i?.(e)},children:(0,s.jsxs)(R.ue,{side:"right",className:"p-0 m-0 flex flex-col",children:[s.jsx(R.Tu,{className:"py-2 px-4 border-b border-b-border",children:s.jsx(R.bC,{children:"Bulk edit users"})}),s.jsx("div",{className:"flex-1 flex flex-col py-2 px-4 gap-y-4 overflow-y-auto",children:(0,s.jsxs)("div",{children:[s.jsx(A._,{htmlFor:"role",children:"Role"}),(0,s.jsxs)(U.Ph,{value:b,required:!0,name:"role",disabled:p,onValueChange:e=>{f("role",e)},children:[s.jsx(U.i4,{children:s.jsx(U.ki,{placeholder:"-- select role --"})}),s.jsx(U.Bw,{children:(0,s.jsxs)(U.DI,{children:[s.jsx(U.n5,{children:"User role"}),t.map(e=>s.jsx(U.Ql,{value:e.name,children:e.description},e.name))]})})]})]})}),(0,s.jsxs)("div",{className:"border-t border-t-border px-4 py-2 flex justify-end gap-x-2",children:[s.jsx(R.sw,{asChild:!0,children:s.jsx(k.z,{variant:"outline",children:"Cancel"})}),s.jsx(k.z,{onClick:j,disabled:!b,children:"Save"})]})]})})})}function L({users:e,roles:r,user:t,getUsers:n,deleteUsers:j,getUser:b,updateUsers:v,createUsers:w,searchUsers:N,resetUsersPasswords:k}){let P=(0,x.l)(),{mode:U}=(0,y.b)(),[S,q]=(0,a.useState)(e),[R,A]=(0,a.useState)(!1),[I,L]=(0,a.useState)([]),{confirm:$}=(0,g.t)(),E=(0,a.useCallback)(async(r,t)=>{A(!0);let s=(await c.Z.get("/api/users?data="+JSON.stringify({...P.parsed,roles:P.parsed.role?[P.parsed.role]:void 0,page:1,limit:e.limit,...r}))).data;s.error?i.Am.error(s.error):(q(s),L([])),t?.(s.error,s),A(!1)},[n,P,e]),D=(0,a.useCallback)((e,r)=>{let t=S.data.filter(r=>e.includes(r.userId)).map(e=>e.displayName);$(()=>{(async()=>{try{A(!0),await c.Z.delete("/api/users?data="+JSON.stringify(e)),await E(),r?.()}catch(e){i.Am.error(e.message)}finally{A(!1)}})()},{title:"Delete "+(t.length>1?"users":"user"),message:`<p>Are you sure you want to delete:</p> ${t.map(e=>`<div class="font-bold text-danger">${e}</div>`).join("")}`,negativeLabel:"Cancel",positiveLabel:"Delete",danger:!0})},[$,j,E,S]),_=(0,a.useCallback)((e,r)=>{let t=S.data.filter(r=>e.includes(r.userId)).map(e=>e.displayName);$(()=>{(async()=>{try{A(!0),await c.Z.post("/api/users/reset-passwords",{usersIds:e}),i.Am.success("Passwords reset successful!"),r?.()}catch(e){i.Am.error(e.message)}finally{A(!1)}})()},{title:"Reset "+(t.length>1?"users passwords":"user password"),message:`<p>Are you sure you want to reset users passwords:</p> ${t.map(e=>`<div class="font-bold text-danger">${e}</div>`).join("")}`,negativeLabel:"Cancel",positiveLabel:"Reset",danger:!0})},[$,k,S]),Z=(0,a.useMemo)(()=>"view"===U,[U]),z=s.jsx(O,{roles:r,open:!!I.length,userIds:I.map(e=>S.data[e].userId),updateUsers:v,onSaveSuccess:()=>E({page:S.page}),onOpenChange:e=>!e&&L([])});return(0,s.jsxs)(s.Fragment,{children:[R&&s.jsx(f.a,{overlay:!0}),z,(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx(p.DataTable,{title:"Users",selectable:!Z,selectedIndexes:I,onSelect:L,search:{inputPlaceholder:"Search users"},headerActions:s.jsx(F,{users:S,roles:r,selected:I.map(e=>S.data[e].userId),onDelete:D,getUsers:E,searchUsers:N}),columns:[{name:"Display name"},{name:"Email"},{name:"Role"},{name:"Last login date"},{name:"Active",align:"right",cellRenderer(e){let r=S.data[e.rowIndex];return s.jsx(d.pn,{delayDuration:0,children:(0,s.jsxs)(d.u,{children:[s.jsx(d.aJ,{asChild:!0,children:s.jsx(o,{className:(0,u.cn)(r.activationDate?"text-green-400":"text-gray-400","w-4 h-4")})}),!!r.activationDate&&s.jsx(d._v,{children:(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Activation date: ",l()(r.activationDate).format("LLL")]})})]})})}},{name:"Action",align:"right",cellRenderer(e){let r=S.data[e.rowIndex];return s.jsx(C,{email:r.email,userId:r.userId,userName:r.displayName,isActivated:!!r.activationDate,onDelete:()=>D([r.userId]),onResetPasswords:()=>_([r.userId])})}}],data:S.data.map(e=>[e.displayName,e.email,r.filter(r=>r.name===e.role)[0]?.description||e.role,e.lastLoginDate?l()(e.lastLoginDate).format("LLL"):"",""])}),s.jsx(h.Separator,{}),s.jsx("div",{className:"p-2",children:s.jsx(m.t,{currentPage:S.page,totalPages:S.totalPages,disabled:R,limit:S.limit||S.totalRows,totalRows:S.totalRows,collectionName:"users",onPaginate:e=>E({page:e},(e,r)=>!e&&P.push({page:r?.page||S.page})),hideControls:!1,hideSummary:!1})})]})]})}},68232:(e,r,t)=>{"use strict";t.d(r,{_v:()=>d,aJ:()=>c,pn:()=>n,u:()=>l});var s=t(10326),a=t(17577),i=t(6218),o=t(77863);let n=i.zt,l=i.fC,c=i.xz,d=a.forwardRef(({className:e,sideOffset:r=4,...t},a)=>s.jsx(i.VY,{ref:a,sideOffset:r,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));d.displayName=i.VY.displayName},12260:(e,r,t)=>{"use strict";t.d(r,{l:()=>o});var s=t(35047),a=t(15491),i=t(17577);function o(){let e=(0,s.useRouter)(),r=(0,s.useSearchParams)(),t=(0,i.useMemo)(()=>r.toString(),[r]),o=(0,i.useMemo)(()=>a.Z.parse(r.toString()),[r]),n=(0,i.useCallback)(e=>a.Z.stringify({...o,...e}),[o]),l=(0,i.useCallback)(r=>{e.push(`?${n(r)}`)},[n,e]);return{parsed:o,stringified:t,replace:(0,i.useCallback)(r=>{e.replace(`?${n(r)}`)},[n,e]),push:l,toSearchParams:n}}},13005:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u,dynamic:()=>d});var s=t(19510),a=t(73508),i=t(43767),o=t(24569),n=t(85431),l=t(46697);let c=(0,t(68570).createProxy)(String.raw`/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/users/components/table.tsx#UsersTable`),d="force-dynamic";async function u({searchParams:e}){let{page:r,role:t,status:d,userId:u}=await e,[p,m,h]=await Promise.all([(0,a.getUsers)({limit:25,page:r?Number(r):void 0,roles:t?[t]:void 0,status:d}),(0,i.getRoles)(),u?await (0,a.getUser)(u):null]);return(0,s.jsxs)(s.Fragment,{children:[s.jsx(n.D,{children:"Users"}),s.jsx(o.V,{children:p.error?s.jsx(l.Zb,{className:"border-danger bg-danger/20 text-center",children:s.jsx(l.aY,{children:s.jsx("div",{className:"text-danger",children:p.error})})}):s.jsx(l.Zb,{children:s.jsx(l.aY,{className:"p-0",children:s.jsx(c,{user:h,users:p,roles:m,getUsers:a.getUsers,deleteUsers:a.deleteUsers,getUser:a.getUser,updateUsers:a.updateUsers,createUsers:a.createUsers,searchUsers:a.searchUsers,resetUsersPasswords:a.resetUsersPasswords})})})})]})}},15491:(e,r,t)=>{"use strict";t.d(r,{Z:()=>N});var s={};t.r(s),t.d(s,{exclude:()=>w,extract:()=>x,parse:()=>g,parseUrl:()=>j,pick:()=>v,stringify:()=>y,stringifyUrl:()=>b});let a="%[a-f0-9]{2}",i=RegExp("("+a+")|([^%]+?)","gi"),o=RegExp("("+a+")+","gi");function n(e,r){if(!("string"==typeof e&&"string"==typeof r))throw TypeError("Expected the arguments to be of type `string`");if(""===e||""===r)return[];let t=e.indexOf(r);return -1===t?[]:[e.slice(0,t),e.slice(t+r.length)]}let l=e=>null==e,c=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),d=Symbol("encodeFragmentIdentifier");function u(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function p(e,r){return r.encode?r.strict?c(e):encodeURIComponent(e):e}function m(e,r){return r.decode?function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function(e){let r={"%FE%FF":"��","%FF%FE":"��"},t=o.exec(e);for(;t;){try{r[t[0]]=decodeURIComponent(t[0])}catch{let e=function(e){try{return decodeURIComponent(e)}catch{let r=e.match(i)||[];for(let t=1;t<r.length;t++)r=(e=(function e(r,t){try{return[decodeURIComponent(r.join(""))]}catch{}if(1===r.length)return r;t=t||1;let s=r.slice(0,t),a=r.slice(t);return Array.prototype.concat.call([],e(s),e(a))})(r,t).join("")).match(i)||[];return e}}(t[0]);e!==t[0]&&(r[t[0]]=e)}t=o.exec(e)}for(let t of(r["%C2"]="�",Object.keys(r)))e=e.replace(RegExp(t,"g"),r[t]);return e}(e)}}(e):e}function h(e){let r=e.indexOf("#");return -1!==r&&(e=e.slice(0,r)),e}function f(e,r,t){return"string"===t&&"string"==typeof e?e:"function"==typeof t&&"string"==typeof e?t(e):"boolean"===t&&null===e||("boolean"===t&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())?"true"===e.toLowerCase():"boolean"===t&&null!==e&&("1"===e.toLowerCase()||"0"===e.toLowerCase())?"1"===e.toLowerCase():"string[]"===t&&"none"!==r.arrayFormat&&"string"==typeof e?[e]:"number[]"!==t||"none"===r.arrayFormat||Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?"number"!==t||Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?r.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())?"true"===e.toLowerCase():r.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?Number(e):e:Number(e):[Number(e)])}function x(e){let r=(e=h(e)).indexOf("?");return -1===r?"":e.slice(r+1)}function g(e,r){u((r={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...r}).arrayFormatSeparator);let t=function(e){let r;switch(e.arrayFormat){case"index":return(e,t,s)=>{if(r=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),!r){s[e]=t;return}void 0===s[e]&&(s[e]={}),s[e][r[1]]=t};case"bracket":return(e,t,s)=>{if(r=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),!r){s[e]=t;return}if(void 0===s[e]){s[e]=[t];return}s[e]=[...s[e],t]};case"colon-list-separator":return(e,t,s)=>{if(r=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!r){s[e]=t;return}if(void 0===s[e]){s[e]=[t];return}s[e]=[...s[e],t]};case"comma":case"separator":return(r,t,s)=>{let a="string"==typeof t&&t.includes(e.arrayFormatSeparator)?t.split(e.arrayFormatSeparator).map(r=>m(r,e)):null===t?t:m(t,e);s[r]=a};case"bracket-separator":return(r,t,s)=>{let a=/(\[])$/.test(r);if(r=r.replace(/\[]$/,""),!a){s[r]=t?m(t,e):t;return}let i=null===t?[]:m(t,e).split(e.arrayFormatSeparator);if(void 0===s[r]){s[r]=i;return}s[r]=[...s[r],...i]};default:return(e,r,t)=>{if(void 0===t[e]){t[e]=r;return}t[e]=[...[t[e]].flat(),r]}}}(r),s=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return s;for(let a of e.split("&")){if(""===a)continue;let e=r.decode?a.replaceAll("+"," "):a,[i,o]=n(e,"=");void 0===i&&(i=e),o=void 0===o?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?o:m(o,r),t(m(i,r),o,s)}for(let[e,t]of Object.entries(s))if("object"==typeof t&&null!==t&&"string"!==r.types[e])for(let[s,a]of Object.entries(t)){let i=r.types[e],o="function"==typeof i?i:i?i.replace("[]",""):void 0;t[s]=f(a,r,o)}else"object"==typeof t&&null!==t&&"string"===r.types[e]?s[e]=Object.values(t).join(r.arrayFormatSeparator):s[e]=f(t,r,r.types[e]);return!1===r.sort?s:(!0===r.sort?Object.keys(s).sort():Object.keys(s).sort(r.sort)).reduce((e,r)=>{let t=s[r];return e[r]=t&&"object"==typeof t&&!Array.isArray(t)?function e(r){return Array.isArray(r)?r.sort():"object"==typeof r?e(Object.keys(r)).sort((e,r)=>Number(e)-Number(r)).map(e=>r[e]):r}(t):t,e},Object.create(null))}function y(e,r){if(!e)return"";u((r={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...r}).arrayFormatSeparator);let t=t=>r.skipNull&&l(e[t])||r.skipEmptyString&&""===e[t],s=function(e){switch(e.arrayFormat){case"index":return r=>(t,s)=>{let a=t.length;return void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?t:null===s?[...t,[p(r,e),"[",a,"]"].join("")]:[...t,[p(r,e),"[",p(a,e),"]=",p(s,e)].join("")]};case"bracket":return r=>(t,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?t:null===s?[...t,[p(r,e),"[]"].join("")]:[...t,[p(r,e),"[]=",p(s,e)].join("")];case"colon-list-separator":return r=>(t,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?t:null===s?[...t,[p(r,e),":list="].join("")]:[...t,[p(r,e),":list=",p(s,e)].join("")];case"comma":case"separator":case"bracket-separator":{let r="bracket-separator"===e.arrayFormat?"[]=":"=";return t=>(s,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?s:(a=null===a?"":a,0===s.length)?[[p(t,e),r,p(a,e)].join("")]:[[s,p(a,e)].join(e.arrayFormatSeparator)]}default:return r=>(t,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?t:null===s?[...t,p(r,e)]:[...t,[p(r,e),"=",p(s,e)].join("")]}}(r),a={};for(let[r,s]of Object.entries(e))t(r)||(a[r]=s);let i=Object.keys(a);return!1!==r.sort&&i.sort(r.sort),i.map(t=>{let a=e[t];if(r.replacer&&void 0===(a=r.replacer(t,a))||void 0===a)return"";if(null===a)return p(t,r);if(Array.isArray(a)){if(0===a.length&&"bracket-separator"===r.arrayFormat)return p(t,r)+"[]";let e=a;return r.replacer&&(e=a.map((e,s)=>r.replacer(`${t}[${s}]`,e)).filter(e=>void 0!==e)),e.reduce(s(t),[]).join("&")}return p(t,r)+"="+p(a,r)}).filter(e=>e.length>0).join("&")}function j(e,r){r={decode:!0,...r};let[t,s]=n(e,"#");return void 0===t&&(t=e),{url:t?.split("?")?.[0]??"",query:g(x(e),r),...r&&r.parseFragmentIdentifier&&s?{fragmentIdentifier:m(s,r)}:{}}}function b(e,r){r={encode:!0,strict:!0,[d]:!0,...r};let t=h(e.url).split("?")[0]||"",s=y({...g(x(e.url),{sort:!1,...r}),...e.query},r);s&&=`?${s}`;let a=function(e){let r="",t=e.indexOf("#");return -1!==t&&(r=e.slice(t)),r}(e.url);if("string"==typeof e.fragmentIdentifier){let s=new URL(t);s.hash=e.fragmentIdentifier,a=r[d]?s.hash:`#${e.fragmentIdentifier}`}return`${t}${s}${a}`}function v(e,r,t){let{url:s,query:a,fragmentIdentifier:i}=j(e,t={parseFragmentIdentifier:!0,[d]:!1,...t});return b({url:s,query:function(e,r){let t={};if(Array.isArray(r))for(let s of r){let r=Object.getOwnPropertyDescriptor(e,s);r?.enumerable&&Object.defineProperty(t,s,r)}else for(let s of Reflect.ownKeys(e)){let a=Object.getOwnPropertyDescriptor(e,s);if(a.enumerable){let i=e[s];r(s,i,e)&&Object.defineProperty(t,s,a)}}return t}(a,r),fragmentIdentifier:i},t)}function w(e,r,t){return v(e,Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t),t)}let N=s}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[9380,1744,1337,3788,2758,9092,4901,4263,1121,3579,6360,1098,9944,4723,7157,7967,7496,413,6267,5002,6741,8781,1162,7939,5241,2418,8778,1271,3173,7645,6645],()=>t(99697));module.exports=s})();