(()=>{var e={};e.id=1417,e.ids=[1417],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},42383:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>s.a,__next_app__:()=>o,originalPathname:()=>l,pages:()=>i,routeModule:()=>u,tree:()=>f}),t(48339),t(49246),t(57890),t(95602),t(17162),t(56367),t(12699),t(99985),t(96560);var d=t(23191),r=t(88716),c=t(37922),s=t.n(c),n=t(95231),b={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(b[e]=()=>n[e]);t.d(a,b);let f=["",{children:["(dashboard)",{children:["(scripts)",{children:["script",{children:["[scriptId]",{children:["data-keys",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,48339)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\(scripts)\\script\\[scriptId]\\data-keys\\page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(t.bind(t,49246)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\(scripts)\\script\\[scriptId]\\loading.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,57890)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\(scripts)\\script\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,95602)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\(scripts)\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,17162)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\(scripts)\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,56367)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,12699)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,99985)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\not-found.tsx"]}],i=["C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\(scripts)\\script\\[scriptId]\\data-keys\\page.tsx"],l="/(dashboard)/(scripts)/script/[scriptId]/data-keys/page",o={require:t,loadChunk:()=>Promise.resolve()},u=new d.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/(scripts)/script/[scriptId]/data-keys/page",pathname:"/script/[scriptId]/data-keys",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:f}})},28088:(e,a,t)=>{let d={"02744e6953a4041d59ac09f5b59784e6ee0cd5e7":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.deleteScreens),"1217b3e46b65c529de7ea5eb83efb75515abdf98":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.deleteDiagnoses),"1db7dbb0154628c1042c4a352bffd0b09bd00a61":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.getScriptsWithItems),"1f4357298e15280ecabcbf50580054ff772a5475":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_14),"22e0b54ba70667093990e72bc73af45ac5bf78f7":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.getScripts),"2505d436074ee4652085d1c10cb7249985a8b480":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_7),"2568946b417186fccca9f03e3ae3bd4c69ab15bc":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_8),"2c6049bddc14a3c36c75d61a218c530ac372e213":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_11),"328664c139eba96f09b0bd61a3f9a24b0e0d0202":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_0),"335b8db853fc1affb06f2555ad528d8a96eeb18c":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_4),"3a86a2c75a8ab95fa5f9098f1e752ee555df6660":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_5),"3d6112203302948b6016e5757ed1b3adf94b1e4d":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.deleteScripts),"436b5e294e22c32b06c85cf0959bff5c8a84ed50":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.saveDiagnoses),"49041aeb749c5252590bb5bddc315863ff210886":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.countDiagnoses),"52d050911e508f61004c7e35c75243ae466e3bae":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.getDiagnosis),"62d4af3740d2241294a4c89403a3b03a799d3690":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.countScripts),"636677c81c875bd79e74d6bd42f3c381418c2a54":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_1),"64e41ab1100f4fd17895406fd950bc1194a9da21":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_15),"6a6a565b02b3dd502674fa248db86c729751be4c":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_12),"6e98f8f67b1e2dff4cd884860c611688bff8b990":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.copyDiagnoses),"745afadac7701fade1cd0954e061875c47501460":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.copyScripts),"9561dacd3778c87809fa9f6c56fac0c0e65783d2":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_2),"95d9f5454bc60e4e15bae23246f9d5fb5c967d72":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.saveScreens),"96069e8826fb5b814afcf469cdf6e10ef46966ea":()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_9),a1d4f41d0dd8db4d752e224814a53f96540a9978:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.saveScriptDiagnoses),a79b8039004e19b4739f16aa192d26d09adf3cab:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_6),b0e2bf2554e54768fc6f24635fe4bc07e77d9f58:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.getScriptsMetadata),b4c8ee61c14c214a3d17fbcda5965833b004ebad:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.saveScriptScreens),b8cfef6bc380c58cd1013bbe45ea227f67b7016e:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.listScreens),bf5b0029d8fcb3d2284e50cfc0d42e640efb06b4:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_3),c2b48608ec23aebd27f2da7897d06e65264000bb:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.countScreens),c4194abe09f9b0e2339c2f0bb6edde729c120836:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_13),cad028c15ef4b3301bb969b1538a7119da8a0d49:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.copyScreens),d14d5303e48ac4bc8b7f03fd4d24c96e5fd532ed:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.deleteScriptsItems),d5f565a64b93442840b93242e5abca8d047a8d48:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.$$ACTION_10),d9ccf67b67fa133a4197ca7c24f9e6f998293ae6:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.saveScriptsWithItems),e7f61782276694299806a7a5bab49181b93d5430:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.getScreens),ef08c238c7b5013b4e4531edbc890b5c468581ba:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.saveScripts),f52f8af6a9a9258cd32c2305e9ef78ad4f134547:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.getScript),f672a0e3bdc49e0f820f8ff2c14858f120a6c462:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.getDiagnoses),fcebab7489fd62a2ca3357fd3e0b02e669c47e50:()=>Promise.resolve().then(t.bind(t,85576)).then(e=>e.getScreen),"1258ba61386eb4d720fa34dd752ebbc33df297ae":()=>Promise.resolve().then(t.bind(t,66267)).then(e=>e.isAllowed),b101e093ad697b04228a470ee9001be8e031cf18:()=>Promise.resolve().then(t.bind(t,66267)).then(e=>e.canAccessPage),"14e2ee76ca3e4bfc1bcd04b0f04936c04f3ef9a1":()=>Promise.resolve().then(t.bind(t,40801)).then(e=>e.getAuthenticatedUser),"6eaf0e526707ea7fe2cf08669e9ccfb4701bff82":()=>Promise.resolve().then(t.bind(t,40801)).then(e=>e.getAuthenticatedUserWithRoles),a69365ec9584c5ac5f833b8f58460ae666c0c724:()=>Promise.resolve().then(t.bind(t,40801)).then(e=>e.getSession),"6ad8143291b4914488d2f9bb3a4fff3ffd097559":()=>Promise.resolve().then(t.bind(t,47080)).then(e=>e.uploadFileFromSite),"718bdfd7bbe55e1a5fb5f44f6855f46d3c874214":()=>Promise.resolve().then(t.bind(t,47080)).then(e=>e.getFiles),fb8668e6af71e09883f0641ae2e9e349e465a79d:()=>Promise.resolve().then(t.bind(t,47080)).then(e=>e.uploadFile),"0cdd8f5b7719b52451fa16d8ad133f0f2507727c":()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.getHospital),"29c5faae5a16955eb0d51d3fd1823ccbbaa0ef05":()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.$$ACTION_4),"43d0037c602e6e44d9b4683e862d53f43a281d8e":()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.$$ACTION_2),"45fc9b73f0105a3c01c0105233b9dcee848c1014":()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.$$ACTION_0),acd2c8889e9493daaf7221816633f7db8d969ae5:()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.getHospitals),ae6eaff80f0ec9ee8fd62c0f6f86427986b90aab:()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.$$ACTION_3),d1f1ab626300d54aa052d5cb14835767258da9df:()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.saveHospitals),e85d0a973a0b1f327c8afd1ca0ee6d4d489ccd40:()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.countHospitals),f7d5033ed07f08e193f6f9961ae50955c4b5f78e:()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.$$ACTION_1),fab009e6e702ae5024ee0d907e2cdc4cf7f48755:()=>Promise.resolve().then(t.bind(t,57848)).then(e=>e.deleteHospitals),"504b47065818979b01d9ea192aa893511e98df40":()=>Promise.resolve().then(t.bind(t,60563)).then(e=>e.updateSys),bd359f817196f265511cbda0108d8c55e3f5000b:()=>Promise.resolve().then(t.bind(t,60563)).then(e=>e.$$ACTION_0),bf07f47a0b3f93f6c9e28a48bf4d6728c4d544bc:()=>Promise.resolve().then(t.bind(t,60563)).then(e=>e.$$ACTION_1),e8c35cfc4816dc340b04f96cc2d82cc38dcf54cc:()=>Promise.resolve().then(t.bind(t,60563)).then(e=>e.getSys),"08819fd80dbabf1032ea3d5742547f4d116fbf46":()=>Promise.resolve().then(t.bind(t,82065)).then(e=>e.getSitesWithoutConfidentialData),"66f4466938616393f7dc119bdf6f97e18e426c7e":()=>Promise.resolve().then(t.bind(t,82065)).then(e=>e.getSite),bf6ab908d57c92b0ae3efbac6b0b724bd23822b4:()=>Promise.resolve().then(t.bind(t,82065)).then(e=>e.$$ACTION_0),e60d11ab1bcc422ca65e1e8853c6ecfe0d6fd31b:()=>Promise.resolve().then(t.bind(t,82065)).then(e=>e.saveSites),f8109569475a5f6ec2d3763d9fe6847fb6b8fcaa:()=>Promise.resolve().then(t.bind(t,82065)).then(e=>e.getSites),"11026d34fb6d547dd737a66f7dba323c72484a3a":()=>Promise.resolve().then(t.bind(t,71271)).then(e=>e.discardDrafts),"16bccb008954f0b8eb6edc82e3630151cae804c5":()=>Promise.resolve().then(t.bind(t,71271)).then(e=>e.$$ACTION_0),"3e26759f3cbd8bef562081904cd2dd0819f0bdd7":()=>Promise.resolve().then(t.bind(t,71271)).then(e=>e.revalidatePath),"3e2890ac69272701a0c8aa97627933c4122c2d98":()=>Promise.resolve().then(t.bind(t,71271)).then(e=>e.publishData),a9f930f7f8e5bc28032c14285e0f5d644e7ada51:()=>Promise.resolve().then(t.bind(t,71271)).then(e=>e.getEditorDetails),e5b8162fb8957d04ed4165e51884476733aaa0b3:()=>Promise.resolve().then(t.bind(t,71271)).then(e=>e.$$ACTION_1),f072aab2d1312ff00c5b72bd303974180f455eea:()=>Promise.resolve().then(t.bind(t,71271)).then(e=>e.countAllDrafts),"0df91a61585a44e382358b467fe8fde07ae4179b":()=>Promise.resolve().then(t.bind(t,94136)).then(e=>e.saveDataKeysUpdateIfExist),"10e06fe35a4d32ac922ac0f09759f026193ad57a":()=>Promise.resolve().then(t.bind(t,94136)).then(e=>e.saveDataKeys),"28599db0021a4eedd4778629a4cba46fe01740e5":()=>Promise.resolve().then(t.bind(t,94136)).then(e=>e.$$ACTION_0),"65a933d528e11a71d8f7e4f8b055d8c6ca644816":()=>Promise.resolve().then(t.bind(t,94136)).then(e=>e.$$ACTION_2),"74faa79fd496f7c008435c4d42eb114ef20cee2c":()=>Promise.resolve().then(t.bind(t,94136)).then(e=>e.saveDataKeysIfNotExist),"8954f7bb916c7bc71c2a5dcace3fd2d594f13118":()=>Promise.resolve().then(t.bind(t,94136)).then(e=>e.exportDataKeys),"9283f807b952487d022c9914e83bda887f40e4fc":()=>Promise.resolve().then(t.bind(t,94136)).then(e=>e.$$ACTION_1),f1d743094e3be1ae5b9959c4bdf78ea2e045be49:()=>Promise.resolve().then(t.bind(t,94136)).then(e=>e.getDataKeys)};async function r(e,...a){return(await d[e]()).apply(null,a)}e.exports={"02744e6953a4041d59ac09f5b59784e6ee0cd5e7":r.bind(null,"02744e6953a4041d59ac09f5b59784e6ee0cd5e7"),"1217b3e46b65c529de7ea5eb83efb75515abdf98":r.bind(null,"1217b3e46b65c529de7ea5eb83efb75515abdf98"),"1db7dbb0154628c1042c4a352bffd0b09bd00a61":r.bind(null,"1db7dbb0154628c1042c4a352bffd0b09bd00a61"),"1f4357298e15280ecabcbf50580054ff772a5475":r.bind(null,"1f4357298e15280ecabcbf50580054ff772a5475"),"22e0b54ba70667093990e72bc73af45ac5bf78f7":r.bind(null,"22e0b54ba70667093990e72bc73af45ac5bf78f7"),"2505d436074ee4652085d1c10cb7249985a8b480":r.bind(null,"2505d436074ee4652085d1c10cb7249985a8b480"),"2568946b417186fccca9f03e3ae3bd4c69ab15bc":r.bind(null,"2568946b417186fccca9f03e3ae3bd4c69ab15bc"),"2c6049bddc14a3c36c75d61a218c530ac372e213":r.bind(null,"2c6049bddc14a3c36c75d61a218c530ac372e213"),"328664c139eba96f09b0bd61a3f9a24b0e0d0202":r.bind(null,"328664c139eba96f09b0bd61a3f9a24b0e0d0202"),"335b8db853fc1affb06f2555ad528d8a96eeb18c":r.bind(null,"335b8db853fc1affb06f2555ad528d8a96eeb18c"),"3a86a2c75a8ab95fa5f9098f1e752ee555df6660":r.bind(null,"3a86a2c75a8ab95fa5f9098f1e752ee555df6660"),"3d6112203302948b6016e5757ed1b3adf94b1e4d":r.bind(null,"3d6112203302948b6016e5757ed1b3adf94b1e4d"),"436b5e294e22c32b06c85cf0959bff5c8a84ed50":r.bind(null,"436b5e294e22c32b06c85cf0959bff5c8a84ed50"),"49041aeb749c5252590bb5bddc315863ff210886":r.bind(null,"49041aeb749c5252590bb5bddc315863ff210886"),"52d050911e508f61004c7e35c75243ae466e3bae":r.bind(null,"52d050911e508f61004c7e35c75243ae466e3bae"),"62d4af3740d2241294a4c89403a3b03a799d3690":r.bind(null,"62d4af3740d2241294a4c89403a3b03a799d3690"),"636677c81c875bd79e74d6bd42f3c381418c2a54":r.bind(null,"636677c81c875bd79e74d6bd42f3c381418c2a54"),"64e41ab1100f4fd17895406fd950bc1194a9da21":r.bind(null,"64e41ab1100f4fd17895406fd950bc1194a9da21"),"6a6a565b02b3dd502674fa248db86c729751be4c":r.bind(null,"6a6a565b02b3dd502674fa248db86c729751be4c"),"6e98f8f67b1e2dff4cd884860c611688bff8b990":r.bind(null,"6e98f8f67b1e2dff4cd884860c611688bff8b990"),"745afadac7701fade1cd0954e061875c47501460":r.bind(null,"745afadac7701fade1cd0954e061875c47501460"),"9561dacd3778c87809fa9f6c56fac0c0e65783d2":r.bind(null,"9561dacd3778c87809fa9f6c56fac0c0e65783d2"),"95d9f5454bc60e4e15bae23246f9d5fb5c967d72":r.bind(null,"95d9f5454bc60e4e15bae23246f9d5fb5c967d72"),"96069e8826fb5b814afcf469cdf6e10ef46966ea":r.bind(null,"96069e8826fb5b814afcf469cdf6e10ef46966ea"),a1d4f41d0dd8db4d752e224814a53f96540a9978:r.bind(null,"a1d4f41d0dd8db4d752e224814a53f96540a9978"),a79b8039004e19b4739f16aa192d26d09adf3cab:r.bind(null,"a79b8039004e19b4739f16aa192d26d09adf3cab"),b0e2bf2554e54768fc6f24635fe4bc07e77d9f58:r.bind(null,"b0e2bf2554e54768fc6f24635fe4bc07e77d9f58"),b4c8ee61c14c214a3d17fbcda5965833b004ebad:r.bind(null,"b4c8ee61c14c214a3d17fbcda5965833b004ebad"),b8cfef6bc380c58cd1013bbe45ea227f67b7016e:r.bind(null,"b8cfef6bc380c58cd1013bbe45ea227f67b7016e"),bf5b0029d8fcb3d2284e50cfc0d42e640efb06b4:r.bind(null,"bf5b0029d8fcb3d2284e50cfc0d42e640efb06b4"),c2b48608ec23aebd27f2da7897d06e65264000bb:r.bind(null,"c2b48608ec23aebd27f2da7897d06e65264000bb"),c4194abe09f9b0e2339c2f0bb6edde729c120836:r.bind(null,"c4194abe09f9b0e2339c2f0bb6edde729c120836"),cad028c15ef4b3301bb969b1538a7119da8a0d49:r.bind(null,"cad028c15ef4b3301bb969b1538a7119da8a0d49"),d14d5303e48ac4bc8b7f03fd4d24c96e5fd532ed:r.bind(null,"d14d5303e48ac4bc8b7f03fd4d24c96e5fd532ed"),d5f565a64b93442840b93242e5abca8d047a8d48:r.bind(null,"d5f565a64b93442840b93242e5abca8d047a8d48"),d9ccf67b67fa133a4197ca7c24f9e6f998293ae6:r.bind(null,"d9ccf67b67fa133a4197ca7c24f9e6f998293ae6"),e7f61782276694299806a7a5bab49181b93d5430:r.bind(null,"e7f61782276694299806a7a5bab49181b93d5430"),ef08c238c7b5013b4e4531edbc890b5c468581ba:r.bind(null,"ef08c238c7b5013b4e4531edbc890b5c468581ba"),f52f8af6a9a9258cd32c2305e9ef78ad4f134547:r.bind(null,"f52f8af6a9a9258cd32c2305e9ef78ad4f134547"),f672a0e3bdc49e0f820f8ff2c14858f120a6c462:r.bind(null,"f672a0e3bdc49e0f820f8ff2c14858f120a6c462"),fcebab7489fd62a2ca3357fd3e0b02e669c47e50:r.bind(null,"fcebab7489fd62a2ca3357fd3e0b02e669c47e50"),"1258ba61386eb4d720fa34dd752ebbc33df297ae":r.bind(null,"1258ba61386eb4d720fa34dd752ebbc33df297ae"),b101e093ad697b04228a470ee9001be8e031cf18:r.bind(null,"b101e093ad697b04228a470ee9001be8e031cf18"),"14e2ee76ca3e4bfc1bcd04b0f04936c04f3ef9a1":r.bind(null,"14e2ee76ca3e4bfc1bcd04b0f04936c04f3ef9a1"),"6eaf0e526707ea7fe2cf08669e9ccfb4701bff82":r.bind(null,"6eaf0e526707ea7fe2cf08669e9ccfb4701bff82"),a69365ec9584c5ac5f833b8f58460ae666c0c724:r.bind(null,"a69365ec9584c5ac5f833b8f58460ae666c0c724"),"6ad8143291b4914488d2f9bb3a4fff3ffd097559":r.bind(null,"6ad8143291b4914488d2f9bb3a4fff3ffd097559"),"718bdfd7bbe55e1a5fb5f44f6855f46d3c874214":r.bind(null,"718bdfd7bbe55e1a5fb5f44f6855f46d3c874214"),fb8668e6af71e09883f0641ae2e9e349e465a79d:r.bind(null,"fb8668e6af71e09883f0641ae2e9e349e465a79d"),"0cdd8f5b7719b52451fa16d8ad133f0f2507727c":r.bind(null,"0cdd8f5b7719b52451fa16d8ad133f0f2507727c"),"29c5faae5a16955eb0d51d3fd1823ccbbaa0ef05":r.bind(null,"29c5faae5a16955eb0d51d3fd1823ccbbaa0ef05"),"43d0037c602e6e44d9b4683e862d53f43a281d8e":r.bind(null,"43d0037c602e6e44d9b4683e862d53f43a281d8e"),"45fc9b73f0105a3c01c0105233b9dcee848c1014":r.bind(null,"45fc9b73f0105a3c01c0105233b9dcee848c1014"),acd2c8889e9493daaf7221816633f7db8d969ae5:r.bind(null,"acd2c8889e9493daaf7221816633f7db8d969ae5"),ae6eaff80f0ec9ee8fd62c0f6f86427986b90aab:r.bind(null,"ae6eaff80f0ec9ee8fd62c0f6f86427986b90aab"),d1f1ab626300d54aa052d5cb14835767258da9df:r.bind(null,"d1f1ab626300d54aa052d5cb14835767258da9df"),e85d0a973a0b1f327c8afd1ca0ee6d4d489ccd40:r.bind(null,"e85d0a973a0b1f327c8afd1ca0ee6d4d489ccd40"),f7d5033ed07f08e193f6f9961ae50955c4b5f78e:r.bind(null,"f7d5033ed07f08e193f6f9961ae50955c4b5f78e"),fab009e6e702ae5024ee0d907e2cdc4cf7f48755:r.bind(null,"fab009e6e702ae5024ee0d907e2cdc4cf7f48755"),"504b47065818979b01d9ea192aa893511e98df40":r.bind(null,"504b47065818979b01d9ea192aa893511e98df40"),bd359f817196f265511cbda0108d8c55e3f5000b:r.bind(null,"bd359f817196f265511cbda0108d8c55e3f5000b"),bf07f47a0b3f93f6c9e28a48bf4d6728c4d544bc:r.bind(null,"bf07f47a0b3f93f6c9e28a48bf4d6728c4d544bc"),e8c35cfc4816dc340b04f96cc2d82cc38dcf54cc:r.bind(null,"e8c35cfc4816dc340b04f96cc2d82cc38dcf54cc"),"08819fd80dbabf1032ea3d5742547f4d116fbf46":r.bind(null,"08819fd80dbabf1032ea3d5742547f4d116fbf46"),"66f4466938616393f7dc119bdf6f97e18e426c7e":r.bind(null,"66f4466938616393f7dc119bdf6f97e18e426c7e"),bf6ab908d57c92b0ae3efbac6b0b724bd23822b4:r.bind(null,"bf6ab908d57c92b0ae3efbac6b0b724bd23822b4"),e60d11ab1bcc422ca65e1e8853c6ecfe0d6fd31b:r.bind(null,"e60d11ab1bcc422ca65e1e8853c6ecfe0d6fd31b"),f8109569475a5f6ec2d3763d9fe6847fb6b8fcaa:r.bind(null,"f8109569475a5f6ec2d3763d9fe6847fb6b8fcaa"),"11026d34fb6d547dd737a66f7dba323c72484a3a":r.bind(null,"11026d34fb6d547dd737a66f7dba323c72484a3a"),"16bccb008954f0b8eb6edc82e3630151cae804c5":r.bind(null,"16bccb008954f0b8eb6edc82e3630151cae804c5"),"3e26759f3cbd8bef562081904cd2dd0819f0bdd7":r.bind(null,"3e26759f3cbd8bef562081904cd2dd0819f0bdd7"),"3e2890ac69272701a0c8aa97627933c4122c2d98":r.bind(null,"3e2890ac69272701a0c8aa97627933c4122c2d98"),a9f930f7f8e5bc28032c14285e0f5d644e7ada51:r.bind(null,"a9f930f7f8e5bc28032c14285e0f5d644e7ada51"),e5b8162fb8957d04ed4165e51884476733aaa0b3:r.bind(null,"e5b8162fb8957d04ed4165e51884476733aaa0b3"),f072aab2d1312ff00c5b72bd303974180f455eea:r.bind(null,"f072aab2d1312ff00c5b72bd303974180f455eea"),"0df91a61585a44e382358b467fe8fde07ae4179b":r.bind(null,"0df91a61585a44e382358b467fe8fde07ae4179b"),"10e06fe35a4d32ac922ac0f09759f026193ad57a":r.bind(null,"10e06fe35a4d32ac922ac0f09759f026193ad57a"),"28599db0021a4eedd4778629a4cba46fe01740e5":r.bind(null,"28599db0021a4eedd4778629a4cba46fe01740e5"),"65a933d528e11a71d8f7e4f8b055d8c6ca644816":r.bind(null,"65a933d528e11a71d8f7e4f8b055d8c6ca644816"),"74faa79fd496f7c008435c4d42eb114ef20cee2c":r.bind(null,"74faa79fd496f7c008435c4d42eb114ef20cee2c"),"8954f7bb916c7bc71c2a5dcace3fd2d594f13118":r.bind(null,"8954f7bb916c7bc71c2a5dcace3fd2d594f13118"),"9283f807b952487d022c9914e83bda887f40e4fc":r.bind(null,"9283f807b952487d022c9914e83bda887f40e4fc"),f1d743094e3be1ae5b9959c4bdf78ea2e045be49:r.bind(null,"f1d743094e3be1ae5b9959c4bdf78ea2e045be49")}},44833:(e,a,t)=>{Promise.resolve().then(t.bind(t,2067)),Promise.resolve().then(t.bind(t,96948))},93795:(e,a,t)=>{Promise.resolve().then(t.bind(t,7636))},4247:(e,a,t)=>{Promise.resolve().then(t.bind(t,10827)),Promise.resolve().then(t.bind(t,49596)),Promise.resolve().then(t.bind(t,82617))},2067:(e,a,t)=>{"use strict";t.d(a,{ScriptDataKeysTable:()=>u});var d=t(10326),r=t(7027),c=t(90434),s=t(77863),n=t(7636),b=t(10827);/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,t(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var i=t(38178),l=t(33071);function o({title:e,backLink:a,children:t}){return d.jsx("div",{className:"pb-20",children:d.jsx(i.V,{className:"flex flex-col gap-y-4",children:d.jsx(l.Zb,{children:(0,d.jsxs)(l.aY,{className:"p-0",children:[!!e&&(0,d.jsxs)("div",{className:"text-xl flex items-center gap-x-4 mb-4 p-4",children:[!!a&&d.jsx(c.default,{href:a,children:d.jsx(f,{className:"h-5 w-5"})}),d.jsx("span",{children:e})]}),t]})})})})}function u({data:{title:e,dataKeys:a}}){return(0,d.jsxs)(d.Fragment,{children:[d.jsx(b.Title,{children:e+" - data keys"}),(0,d.jsxs)(o,{children:[d.jsx("div",{className:"p-4 text-2xl",children:e}),d.jsx(n.DataTable,{search:{inputPlaceholder:"Search"},getRowOptions:({rowIndex:e})=>{let t=a[e];return{className:(0,s.cn)(!t?.uniqueKey&&"bg-red-400/20 hover:bg-red-400/30")}},columns:[{name:"Key"},{name:"Label"},{name:"Type"},{name:"",cellRenderer({rowIndex:e}){let t=a[e];return t?.uniqueKey?d.jsx("div",{className:"flex items-center gap-x-2",children:d.jsx(c.default,{href:`/data-keys/edit/${t.uniqueKey}`,children:d.jsx(r.Z,{className:"text-primary w-4 h-4"})})}):null}}],data:a.map(e=>[e.name,e.label,e.dataType,""])})]})]})}},82617:(e,a,t)=>{"use strict";t.d(a,{ScriptsContextProvider:()=>l,h:()=>i});var d=t(10326),r=t(17577),c=t(35047),s=t(15491),n=t(44099),b=t(12260);let f=(0,r.createContext)(null),i=()=>(0,r.useContext)(f);function l({children:e,...a}){let t=function({}){let e=(0,c.useRouter)(),{scriptId:a}=(0,c.useParams)(),{parsed:t}=(0,b.l)(),[d,f]=(0,r.useState)(!1),[i,l]=(0,r.useState)({data:[]}),[o,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)([]),m=(0,r.useCallback)(()=>{e.push("/")},[e]),P=(0,r.useCallback)(()=>{e.push(`/script/${a}?${s.Z.stringify({...t,section:"screens"})}`)},[e,t,a]),g=(0,r.useCallback)(()=>{e.push(`/script/${a}?${s.Z.stringify({...t,section:"diagnoses"})}`)},[e,t,a]),v=(0,r.useCallback)(async()=>{try{f(!0);let e=await n.Z.get("/api/screens/list?data="+JSON.stringify({returnDraftsIfExist:!0,scriptsIds:[a]}));if(e.data?.errors?.length)throw Error(e.data.errors.join(", "));l(e.data)}catch(e){alert({title:"",message:"Error: "+e.message,variant:"error"})}finally{f(!1)}},[a,open,alert]);return{screens:i,screensLoading:d,keys:h,keysLoading:o,loadKeys:(0,r.useCallback)(async()=>{try{u(!0);let{data:e}=await n.Z.get("/api/scripts/keys?data="+JSON.stringify({returnDraftsIfExist:!0,scriptsIds:[a]}));if(e?.errors?.length)throw Error(e.errors.join(", "));let t=e.data.reduce((e,a)=>[...e,...a.dataKeys],[]);p(t)}catch(e){alert({title:"",message:"Error: "+e.message,variant:"error"})}finally{u(!1)}},[a,open,alert]),loadScreens:v,onCancelDiagnosisForm:g,onCancelScreenForm:P,onCancelScriptForm:m}}(a);return d.jsx(f.Provider,{value:{...a,...t},children:e})}},12260:(e,a,t)=>{"use strict";t.d(a,{l:()=>s});var d=t(35047),r=t(15491),c=t(17577);function s(){let e=(0,d.useRouter)(),a=(0,d.useSearchParams)(),t=(0,c.useMemo)(()=>a.toString(),[a]),s=(0,c.useMemo)(()=>r.Z.parse(a.toString()),[a]),n=(0,c.useCallback)(e=>r.Z.stringify({...s,...e}),[s]),b=(0,c.useCallback)(a=>{e.push(`?${n(a)}`)},[n,e]);return{parsed:s,stringified:t,replace:(0,c.useCallback)(a=>{e.replace(`?${n(a)}`)},[n,e]),push:b,toSearchParams:n}}},7027:(e,a,t)=>{"use strict";t.d(a,{Z:()=>d});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,t(62881).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},95602:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var d=t(19510),r=t(58585),c=t(85576),s=t(47080),n=t(57848),b=t(68570);let f=(0,b.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\contexts\scripts\index.tsx`),{__esModule:i,$$typeof:l}=f;f.default,(0,b.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\contexts\scripts\index.tsx#ScriptsContext`),(0,b.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\contexts\scripts\index.tsx#useScriptsContext`);let o=(0,b.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\contexts\scripts\index.tsx#ScriptsContextProvider`);var u=t(85431),h=t(66267),p=t(24569),m=t(46697),P=t(75644);async function g({children:e}){let{user:a,yes:t}=await (0,h.canAccessPage)();if(a||(0,r.redirect)("/login"),!t)return d.jsx(p.V,{children:d.jsx(m.Zb,{children:d.jsx(m.aY,{className:"p-4 text-xl text-center text-danger bg-danger/10",children:"You don't have sufficient rights to access this page!"})})});let[b]=await Promise.all([(0,n.getHospitals)()]);return(0,d.jsxs)(d.Fragment,{children:[d.jsx(u.D,{children:"Scripts"}),d.jsx(P.g2,{children:d.jsx(o,{...c,...s,hospitals:b,getHospitals:n.getHospitals,children:e})})]})}},17162:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var d=t(19510),r=t(21113),c=t(24569),s=t(46697);function n(){return d.jsx(c.V,{children:d.jsx(s.Zb,{children:d.jsx(s.aY,{className:"p-0",children:d.jsx(r.w,{loading:!0,maxRows:25,columns:[{name:"Key"},{name:"Label"},{name:"Description"},{name:"Action",align:"right",cellClassName:"w-20"}],data:[]})})})})}},48339:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var d=t(19510),r=t(85576),c=t(68570);let s=(0,c.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\app\(dashboard)\(scripts)\script\[scriptId]\data-keys\table.tsx`),{__esModule:n,$$typeof:b}=s;s.default;let f=(0,c.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\app\(dashboard)\(scripts)\script\[scriptId]\data-keys\table.tsx#ScriptDataKeysTable`);var i=t(86098);async function l({params:e}){let{scriptId:a}=await e,[{data:t}]=await Promise.all([(0,r.getScriptsWithItems)({scriptsIds:[a]})]);return t[0]?d.jsx(d.Fragment,{children:d.jsx(f,{data:t[0]})}):d.jsx(i.b,{title:"Error",message:"Script not found",variant:"error"})}},49246:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var d=t(19510),r=t(62553);function c(){return d.jsx(r.a,{overlay:!0})}},57890:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var d=t(19510),r=t(62553);function c(){return d.jsx(r.a,{overlay:!0})}},47080:(e,a,t)=>{"use strict";t.r(a),t.d(a,{getFiles:()=>h,uploadFile:()=>p,uploadFileFromSite:()=>m});var d=t(24330);t(60166);var r=t(9576),c=t(61460),s=t(89114),n=t(57435),b=t(44652),f=t(66267),i=t(59271),l=t(49530),o=t(20123),u=t(40618);let h=s.Re;async function p(e,a){let t={success:!1,data:null};try{for(let d of(await (0,f.isAllowed)(["upload_files"]),Array.from(e.entries()))){let[s,n]=d;if("object"==typeof n){let d=Buffer.from(await n.arrayBuffer()),s=e.get("fileId")?.toString()||(0,r.Z)(),f={...(0,b.R)(e.get("metadata")?.toString()||"{}")},i=(e.get("size")?function(e,a){if("0"==`${e}`)return 0;let t=`${e||""}`.replaceAll(" ",""),[d,r]=(t=t.includes(".")?t.replaceAll(",",""):t.split(",").length>2?t.replaceAll(",",""):t.replaceAll(",",".")).split("."),c=!d||isNaN(Number(d))?"":d;return""==(c+=!r||isNaN(Number(r))?"":`.${r}`)||void 0===c||isNaN(Number(c))?a?.notNull?0:null:Number(c)}((0,b.R)(e.get("size")?.toString())):0)||n.size,l=e.get("filename")?.toString()||n.name,o=[s,l].filter(e=>e).join("__");(f.width||f.height)&&(o=`${o}?w=${f.width}&h=${f.height}`),t=await (0,c.G)({fileId:s,data:d,filename:o,size:i,contentType:e.get("contentType")?.toString()||n.type,metadata:f},a)}}}catch(e){t.success=!1,t.errors=[e.message],n.Z.error("uploadFile ERROR",e.message)}finally{return t}}async function m({fileId:e,siteURL:a}){try{let t=await (0,o.QF)({links:[a]});if(t.errors)throw Error(t.errors.join(", "));let{data:[d]}=t;if(!d)throw Error(`Site (${a}) was not found!`);let r=await (0,i.U)({baseURL:d.link,apiKey:d.apiKey}),n=await (0,s._I)(e);if(n.errors)throw Error(n.errors.join(", "));if(n?.data){let a=l.Z.stringify({...n.data.metadata});return a=a?`?${a}`:"",{data:{fileId:e,fileURL:[process.env.NEXT_PUBLIC_APP_URL,`/files/${e}${a}`].join("")}}}let b=(await r.get(`/api/files/${e}/download`)).data;if(b.errors)throw Error(b.errors.join(", "));if(!b.data)return{errors:["File not found"],data:null};await (0,c.G)({fileId:e,data:b.data.data,filename:b.data.filename,size:b.data.size,contentType:b.data.contentType,metadata:{...b.data.metadata}});let f=l.Z.stringify({...b.data.metadata});return f=f?`?${f}`:"",{data:{fileId:e,fileURL:[d.link,`/files/${e}${f}`].join("")}}}catch(e){return n.Z.error("downloadFileFromSite ERROR",e.message),{data:null,errors:[e.message]}}}(0,u.h)([h,p,m]),(0,d.j)("718bdfd7bbe55e1a5fb5f44f6855f46d3c874214",h),(0,d.j)("fb8668e6af71e09883f0641ae2e9e349e465a79d",p),(0,d.j)("6ad8143291b4914488d2f9bb3a4fff3ffd097559",m)},57848:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$ACTION_0:()=>i,$$ACTION_1:()=>o,$$ACTION_2:()=>h,$$ACTION_3:()=>m,$$ACTION_4:()=>g,countHospitals:()=>l,deleteHospitals:()=>f,getHospital:()=>p,getHospitals:()=>u,saveHospitals:()=>P});var d=t(24330);t(60166);var r=t(73543),c=t(20084),s=t(57435),n=t(66267),b=t(40618);let f=(0,d.j)("45fc9b73f0105a3c01c0105233b9dcee848c1014",i);async function i(e){try{let a=await (0,n.isAllowed)();return await (0,r.x0)({...e,userId:a.user?.userId})}catch(e){return s.Z.error("deleteHospitals ERROR",e.message),{errors:[e.message],success:!1}}}let l=(0,d.j)("f7d5033ed07f08e193f6f9961ae50955c4b5f78e",o);async function o(...e){try{return await (0,n.isAllowed)(),await (0,c.Py)(...e)}catch(e){return s.Z.error("countHospitals ERROR",e.message),{errors:[e.message],data:c.SE}}}let u=(0,d.j)("43d0037c602e6e44d9b4683e862d53f43a281d8e",h);async function h(...e){try{return await (0,n.isAllowed)(),await (0,c.O8)(...e)}catch(e){return s.Z.error("getHospitals ERROR",e.message),{errors:[e.message],data:[]}}}let p=(0,d.j)("ae6eaff80f0ec9ee8fd62c0f6f86427986b90aab",m);async function m(...e){return await (0,n.isAllowed)(),await (0,c.C9)(...e)}let P=(0,d.j)("29c5faae5a16955eb0d51d3fd1823ccbbaa0ef05",g);async function g(e){try{let a=await (0,n.isAllowed)();return await (0,r.rr)({...e,userId:a.user?.userId})}catch(e){return s.Z.error("getSys ERROR",e.message),{errors:[e.message],data:void 0,success:!1}}}(0,b.h)([f,l,u,p,P]),(0,d.j)("fab009e6e702ae5024ee0d907e2cdc4cf7f48755",f),(0,d.j)("e85d0a973a0b1f327c8afd1ca0ee6d4d489ccd40",l),(0,d.j)("acd2c8889e9493daaf7221816633f7db8d969ae5",u),(0,d.j)("0cdd8f5b7719b52451fa16d8ad133f0f2507727c",p),(0,d.j)("d1f1ab626300d54aa052d5cb14835767258da9df",P)},86098:(e,a,t)=>{"use strict";t.d(a,{b:()=>n});var d=t(68570);let r=(0,d.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\components\alert.tsx`),{__esModule:c,$$typeof:s}=r;r.default;let n=(0,d.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\components\alert.tsx#Alert`)},21113:(e,a,t)=>{"use strict";t.d(a,{w:()=>n});var d=t(68570);let r=(0,d.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\components\data-table\index.tsx`),{__esModule:c,$$typeof:s}=r;r.default;let n=(0,d.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\components\data-table\index.tsx#DataTable`)},61460:(e,a,t)=>{"use strict";t.d(a,{G:()=>b});var d=t(88317),r=t(57435),c=t(10413),s=t(93567),n=t(89114);async function b(e,a){let t={success:!1,data:null};try{if(!e.fileId)throw Error("Missing fileId");if(!e.data)throw Error("No file uploaded");await c.Z.insert(s.files).values(e);let r=await (0,n._I)(e.fileId);if(!r)throw Error("Failed to upload file");t.success=!0,t.data=r.data,r.data&&a?.broadcastAction!==!1&&d.Z.emit("file_uploaded")}catch(e){t.success=!1,t.errors=[e.message],r.Z.error("_uploadFile ERROR",e.message)}finally{return t}}},89114:(e,a,t)=>{"use strict";t.d(a,{_I:()=>f,Re:()=>h,KU:()=>b});var d=t(57745),r=t(10413),c=t(93567),s=t(57435),n=t(44380);async function b(e){try{let a=await r.Z.query.files.findFirst({where:(0,d.eq)(c.files.fileId,e)});return{data:a?{...a,url:(0,n.TI)(`/files/${a.fileId}`)}:null}}catch(e){return s.Z.error("_getFiles ERROR",e.message),{errors:[e.message],data:null}}}async function f(e){try{let a=await r.Z.query.files.findFirst({where:(0,d.eq)(c.files.fileId,e),columns:{contentType:!0,fileId:!0,filename:!0,size:!0,metadata:!0,createdAt:!0}});return{data:a?{...a,url:(0,n.TI)(`/files/${a.fileId}`)}:null}}catch(e){return s.Z.error("_getFiles ERROR",e.message),{errors:[e.message],data:null}}}var i=t(34149),l=t(60938),o=t(81445),u=t(41502);async function h(e){try{let{filesIds:a,archived:t,searchValue:s,limit:b,page:f=1,uploadDateGTE:h,uploadDateLTE:p}={...e},m=Math.max(0,f),P=s?["%",s,"%"].join(""):"",g=[t?(0,d.K0)(c.files.deletedAt):(0,d.Ft)(c.files.deletedAt),...a?.length?[(0,d.d3)(c.files.fileId,a)]:[],...P?[(0,i.i6)`LOWER(screens.name) like LOWER(${P})`]:[],h?(0,d.eg)(c.files.createdAt,"string"==typeof h?new Date(h):h):void 0,p?(0,d.G)(c.files.createdAt,"string"==typeof p?new Date(p):p):void 0],v=r.Z.select({count:(0,l.QX)()}).from(c.files);g.length&&v.where((0,d.xD)(...g));let[{count:x}]=await v.execute(),y=1;x&&(y=(0,u.x)(b)?1:Math.ceil(x/b),m=Math.min(m,y));let C=(0,u.x)(b)?void 0:Math.max(0,(m-1)*b);return{data:(await r.Z.query.files.findMany({where:g.length?(0,d.xD)(...g):void 0,limit:b,offset:C,orderBy:(0,o.C)(c.files.createdAt),columns:{fileId:!0,contentType:!0,filename:!0,size:!0,metadata:!0,createdAt:!0}})).map(e=>({...e,url:(0,n.TI)(`/files/${e.fileId}`)})),searchValue:s,totalPages:y,totalRows:x,page:m,limit:b}}catch(e){return s.Z.error("_getFiles ERROR",e.message),{errors:[e.message],data:[],totalPages:0,totalRows:0,page:1}}}},44652:(e,a,t)=>{"use strict";function d(e){try{return JSON.parse(e)}catch(e){return null}}t.d(a,{R:()=>d})}};var a=require("../../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),d=a.X(0,[1633,1744,1337,3788,2758,4901,9712,1121,133,9414,8936,5358,3173,9698,413,6267,6741,8781,1162,6826,5241,2418,8778,2303,3883,9011,6746,5576,3591],()=>t(42383));module.exports=d})();