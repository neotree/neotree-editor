(()=>{var e={};e.id=1967,e.ids=[1967],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},26862:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>b,originalPathname:()=>f,pages:()=>o,routeModule:()=>h,tree:()=>c}),a(15505),a(3333),a(4326),a(56367),a(12699),a(99985),a(96560);var t=a(23191),r=a(88716),d=a(37922),i=a.n(d),n=a(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);a.d(s,l);let c=["",{children:["(dashboard)",{children:["data-keys",{children:["(table)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,15505)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\data-keys\\(table)\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3333)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\data-keys\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,4326)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\data-keys\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,56367)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,12699)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,99985)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,96560)),"C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\not-found.tsx"]}],o=["C:\\Users\\HomePC\\Neotree Projects\\neotree-editor\\app\\(dashboard)\\data-keys\\(table)\\page.tsx"],f="/(dashboard)/data-keys/(table)/page",b={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/data-keys/(table)/page",pathname:"/data-keys",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},94589:(e,s,a)=>{let t={"0df91a61585a44e382358b467fe8fde07ae4179b":()=>Promise.resolve().then(a.bind(a,94136)).then(e=>e.saveDataKeysUpdateIfExist),"10e06fe35a4d32ac922ac0f09759f026193ad57a":()=>Promise.resolve().then(a.bind(a,94136)).then(e=>e.saveDataKeys),"28599db0021a4eedd4778629a4cba46fe01740e5":()=>Promise.resolve().then(a.bind(a,94136)).then(e=>e.$$ACTION_0),"65a933d528e11a71d8f7e4f8b055d8c6ca644816":()=>Promise.resolve().then(a.bind(a,94136)).then(e=>e.$$ACTION_2),"74faa79fd496f7c008435c4d42eb114ef20cee2c":()=>Promise.resolve().then(a.bind(a,94136)).then(e=>e.saveDataKeysIfNotExist),"8954f7bb916c7bc71c2a5dcace3fd2d594f13118":()=>Promise.resolve().then(a.bind(a,94136)).then(e=>e.exportDataKeys),"9283f807b952487d022c9914e83bda887f40e4fc":()=>Promise.resolve().then(a.bind(a,94136)).then(e=>e.$$ACTION_1),f1d743094e3be1ae5b9959c4bdf78ea2e045be49:()=>Promise.resolve().then(a.bind(a,94136)).then(e=>e.getDataKeys),"1258ba61386eb4d720fa34dd752ebbc33df297ae":()=>Promise.resolve().then(a.bind(a,66267)).then(e=>e.isAllowed),b101e093ad697b04228a470ee9001be8e031cf18:()=>Promise.resolve().then(a.bind(a,66267)).then(e=>e.canAccessPage),"14e2ee76ca3e4bfc1bcd04b0f04936c04f3ef9a1":()=>Promise.resolve().then(a.bind(a,40801)).then(e=>e.getAuthenticatedUser),"6eaf0e526707ea7fe2cf08669e9ccfb4701bff82":()=>Promise.resolve().then(a.bind(a,40801)).then(e=>e.getAuthenticatedUserWithRoles),a69365ec9584c5ac5f833b8f58460ae666c0c724:()=>Promise.resolve().then(a.bind(a,40801)).then(e=>e.getSession),"504b47065818979b01d9ea192aa893511e98df40":()=>Promise.resolve().then(a.bind(a,60563)).then(e=>e.updateSys),bd359f817196f265511cbda0108d8c55e3f5000b:()=>Promise.resolve().then(a.bind(a,60563)).then(e=>e.$$ACTION_0),bf07f47a0b3f93f6c9e28a48bf4d6728c4d544bc:()=>Promise.resolve().then(a.bind(a,60563)).then(e=>e.$$ACTION_1),e8c35cfc4816dc340b04f96cc2d82cc38dcf54cc:()=>Promise.resolve().then(a.bind(a,60563)).then(e=>e.getSys),"08819fd80dbabf1032ea3d5742547f4d116fbf46":()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.getSitesWithoutConfidentialData),"66f4466938616393f7dc119bdf6f97e18e426c7e":()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.getSite),bf6ab908d57c92b0ae3efbac6b0b724bd23822b4:()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.$$ACTION_0),e60d11ab1bcc422ca65e1e8853c6ecfe0d6fd31b:()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.saveSites),f8109569475a5f6ec2d3763d9fe6847fb6b8fcaa:()=>Promise.resolve().then(a.bind(a,82065)).then(e=>e.getSites),"11026d34fb6d547dd737a66f7dba323c72484a3a":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.discardDrafts),"16bccb008954f0b8eb6edc82e3630151cae804c5":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.$$ACTION_0),"3e26759f3cbd8bef562081904cd2dd0819f0bdd7":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.revalidatePath),"3e2890ac69272701a0c8aa97627933c4122c2d98":()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.publishData),a9f930f7f8e5bc28032c14285e0f5d644e7ada51:()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.getEditorDetails),e5b8162fb8957d04ed4165e51884476733aaa0b3:()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.$$ACTION_1),f072aab2d1312ff00c5b72bd303974180f455eea:()=>Promise.resolve().then(a.bind(a,71271)).then(e=>e.countAllDrafts)};async function r(e,...s){return(await t[e]()).apply(null,s)}e.exports={"0df91a61585a44e382358b467fe8fde07ae4179b":r.bind(null,"0df91a61585a44e382358b467fe8fde07ae4179b"),"10e06fe35a4d32ac922ac0f09759f026193ad57a":r.bind(null,"10e06fe35a4d32ac922ac0f09759f026193ad57a"),"28599db0021a4eedd4778629a4cba46fe01740e5":r.bind(null,"28599db0021a4eedd4778629a4cba46fe01740e5"),"65a933d528e11a71d8f7e4f8b055d8c6ca644816":r.bind(null,"65a933d528e11a71d8f7e4f8b055d8c6ca644816"),"74faa79fd496f7c008435c4d42eb114ef20cee2c":r.bind(null,"74faa79fd496f7c008435c4d42eb114ef20cee2c"),"8954f7bb916c7bc71c2a5dcace3fd2d594f13118":r.bind(null,"8954f7bb916c7bc71c2a5dcace3fd2d594f13118"),"9283f807b952487d022c9914e83bda887f40e4fc":r.bind(null,"9283f807b952487d022c9914e83bda887f40e4fc"),f1d743094e3be1ae5b9959c4bdf78ea2e045be49:r.bind(null,"f1d743094e3be1ae5b9959c4bdf78ea2e045be49"),"1258ba61386eb4d720fa34dd752ebbc33df297ae":r.bind(null,"1258ba61386eb4d720fa34dd752ebbc33df297ae"),b101e093ad697b04228a470ee9001be8e031cf18:r.bind(null,"b101e093ad697b04228a470ee9001be8e031cf18"),"14e2ee76ca3e4bfc1bcd04b0f04936c04f3ef9a1":r.bind(null,"14e2ee76ca3e4bfc1bcd04b0f04936c04f3ef9a1"),"6eaf0e526707ea7fe2cf08669e9ccfb4701bff82":r.bind(null,"6eaf0e526707ea7fe2cf08669e9ccfb4701bff82"),a69365ec9584c5ac5f833b8f58460ae666c0c724:r.bind(null,"a69365ec9584c5ac5f833b8f58460ae666c0c724"),"504b47065818979b01d9ea192aa893511e98df40":r.bind(null,"504b47065818979b01d9ea192aa893511e98df40"),bd359f817196f265511cbda0108d8c55e3f5000b:r.bind(null,"bd359f817196f265511cbda0108d8c55e3f5000b"),bf07f47a0b3f93f6c9e28a48bf4d6728c4d544bc:r.bind(null,"bf07f47a0b3f93f6c9e28a48bf4d6728c4d544bc"),e8c35cfc4816dc340b04f96cc2d82cc38dcf54cc:r.bind(null,"e8c35cfc4816dc340b04f96cc2d82cc38dcf54cc"),"08819fd80dbabf1032ea3d5742547f4d116fbf46":r.bind(null,"08819fd80dbabf1032ea3d5742547f4d116fbf46"),"66f4466938616393f7dc119bdf6f97e18e426c7e":r.bind(null,"66f4466938616393f7dc119bdf6f97e18e426c7e"),bf6ab908d57c92b0ae3efbac6b0b724bd23822b4:r.bind(null,"bf6ab908d57c92b0ae3efbac6b0b724bd23822b4"),e60d11ab1bcc422ca65e1e8853c6ecfe0d6fd31b:r.bind(null,"e60d11ab1bcc422ca65e1e8853c6ecfe0d6fd31b"),f8109569475a5f6ec2d3763d9fe6847fb6b8fcaa:r.bind(null,"f8109569475a5f6ec2d3763d9fe6847fb6b8fcaa"),"11026d34fb6d547dd737a66f7dba323c72484a3a":r.bind(null,"11026d34fb6d547dd737a66f7dba323c72484a3a"),"16bccb008954f0b8eb6edc82e3630151cae804c5":r.bind(null,"16bccb008954f0b8eb6edc82e3630151cae804c5"),"3e26759f3cbd8bef562081904cd2dd0819f0bdd7":r.bind(null,"3e26759f3cbd8bef562081904cd2dd0819f0bdd7"),"3e2890ac69272701a0c8aa97627933c4122c2d98":r.bind(null,"3e2890ac69272701a0c8aa97627933c4122c2d98"),a9f930f7f8e5bc28032c14285e0f5d644e7ada51:r.bind(null,"a9f930f7f8e5bc28032c14285e0f5d644e7ada51"),e5b8162fb8957d04ed4165e51884476733aaa0b3:r.bind(null,"e5b8162fb8957d04ed4165e51884476733aaa0b3"),f072aab2d1312ff00c5b72bd303974180f455eea:r.bind(null,"f072aab2d1312ff00c5b72bd303974180f455eea")}},75958:(e,s,a)=>{Promise.resolve().then(a.bind(a,97368)),Promise.resolve().then(a.bind(a,10827))},93795:(e,s,a)=>{Promise.resolve().then(a.bind(a,7636))},9188:(e,s,a)=>{Promise.resolve().then(a.bind(a,49596))},97368:(e,s,a)=>{"use strict";a.d(s,{DataKeysTable:()=>U});var t=a(10326),r=a(49596),d=a(7636),i=a(3529),n=a(77863),l=a(11870),c=a(83855),o=a(90434),f=a(90772),b=a(8281),h=a(58464),u=a(34474);function x(){let{sort:e,filter:s,onSort:a,setFilter:d}=(0,r.M)();return(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"p-4 flex flex-col gap-y-4",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center",children:[t.jsx("div",{className:"text-2xl",children:"Data keys"}),(0,t.jsxs)("div",{className:"flex-1 flex flex-wrap items-center justify-end gap-x-4",children:[t.jsx("div",{children:(0,t.jsxs)(u.Ph,{value:e,onValueChange:e=>a(e),children:[t.jsx(u.i4,{children:t.jsx(u.ki,{placeholder:"Sort"})}),t.jsx(u.Bw,{children:h.F4.map(e=>t.jsx(u.Ql,{value:e.value,children:(0,t.jsxs)("div",{className:"flex items-center gap-x-2 w-[160px]",children:[t.jsx(e.Icon,{className:"size-4"}),t.jsx("span",{children:e.label})]})},e.value))})]})}),t.jsx("div",{children:(0,t.jsxs)(u.Ph,{value:s,onValueChange:e=>d("all"===e?"":e),children:[t.jsx(u.i4,{children:t.jsx(u.ki,{placeholder:"All keys"})}),(0,t.jsxs)(u.Bw,{children:[t.jsx(u.Ql,{value:"all",children:"All keys"}),t.jsx(u.U$,{}),(0,t.jsxs)(u.DI,{children:[t.jsx(u.n5,{children:"Status"}),h.UQ.map(e=>t.jsx(u.Ql,{value:e.value,children:e.label},e.value))]}),t.jsx(u.U$,{}),(0,t.jsxs)(u.DI,{children:[t.jsx(u.n5,{children:"Types"}),h.y0.map(e=>t.jsx(u.Ql,{value:e.value,children:e.label},e.value))]})]})]})}),t.jsx(f.z,{asChild:!0,variant:"ghost",className:"w-auto h-auto",children:(0,t.jsxs)(o.default,{href:"/data-keys/new",children:[t.jsx(c.Z,{className:"size-4 mr-2"}),"Add"]})})]})]})}),t.jsx(b.Separator,{})]})}var m=a(17577),p=a(39447),j=a(12714),y=a(69508),v=a(47035),g=a(60097),N=a(46670),P=a(54328),w=a(51605);function k({rowIndex:e,disabled:s,setCurrentDataKeyUuid:a}){let[d,i]=(0,m.useTransition)(),{dataKeys:c,deleteDataKeys:f}=(0,r.M)(),{confirm:b}=(0,N.t)(),h=c[e],u={isDraft:h?.isDraft,userId:h?.draftCreatedByUserId,dataType:"data key"},x=(0,w.v)(u);return(s=s||x,h)?(0,t.jsxs)("div",{className:"flex gap-x-2",children:[d&&t.jsx(l.a,{overlay:!0}),t.jsx(P.O,{...u}),(0,t.jsxs)(g.h_,{children:[t.jsx(g.$F,{children:t.jsx(p.Z,{className:"h-4 w-4"})}),(0,t.jsxs)(g.AW,{children:[t.jsx(g.Xi,{asChild:!0,onClick:()=>setTimeout(()=>i(()=>{}),0),children:t.jsx(o.default,{href:`/data-keys/edit/${h.uuid}`,children:s?(0,t.jsxs)(t.Fragment,{children:[t.jsx(j.Z,{className:"h-4 w-4 mr-2"})," View"]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(y.Z,{className:"h-4 w-4 mr-2"})," Edit"]})})}),(0,t.jsxs)(g.Xi,{className:(0,n.cn)("text-destructive",s&&"hidden"),onClick:()=>setTimeout(()=>{b(()=>f([h.uuid]),{title:"Delete data key",message:"Are you sure?"})},0),children:[t.jsx(v.Z,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]}):null}var C=a(29354),q=a(63685),_=a(74723),D=a(37340),Z=a(31048),I=a(53313),S=a(62288);function $({uuids:e}){let[s,a]=(0,m.useState)(!1),{dataKeys:d,exporting:i,exportDataKeys:c,extractDataKeys:o}=(0,r.M)(),{sites:b,loading:h,loadSites:x}=(0,D.k)({loadOnMount:!1,onLoadSitesError:()=>a(!1)}),{formState:{errors:p},reset:j,watch:y,setValue:v,handleSubmit:g,setError:N}=(0,_.cI)({defaultValues:{siteId:"",overwriteExisting:!1}}),P=y("siteId"),w=y("overwriteExisting"),k=i||h,C=!!P&&!k,$=g(async s=>{if(s.siteId){let t=o(e,{withNested:!0}).map(e=>e.uuid);await c({...s,uuids:t}),a(!1)}else N("siteId",{message:"Site is required"})});return t.jsx(t.Fragment,{children:(0,t.jsxs)(S.Vq,{open:s,onOpenChange:e=>{j(),e&&x(),a(e)},children:[t.jsx(S.hg,{asChild:!0,children:(0,t.jsxs)(f.z,{className:"h-auto w-auto",children:[t.jsx(q.Z,{className:"h-4 w-4 mr-1"}),t.jsx("span",{children:e.length>1?`Export ${e.length}`:"Export"})]})}),(0,t.jsxs)(S.cZ,{children:[(0,t.jsxs)(S.fK,{children:[t.jsx(S.$N,{children:"Export"}),t.jsx(S.Be,{className:"hidden",children:""})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,t.jsxs)("div",{children:[t.jsx(Z._,{htmlFor:"siteId",children:"Site *"}),(0,t.jsxs)(u.Ph,{name:"siteId",onValueChange:e=>v("siteId",e,{shouldDirty:!0}),children:[t.jsx(u.i4,{children:t.jsx(u.ki,{placeholder:"Select site"})}),t.jsx(u.Bw,{children:(0,t.jsxs)(u.DI,{children:[t.jsx(u.n5,{children:"Sites"}),b.map(({siteId:e,name:s})=>t.jsx(u.Ql,{value:e,children:s},e))]})})]}),!!p.siteId?.message&&t.jsx("div",{className:"text-xs text-danger mt-1",children:p.siteId.message})]}),(0,t.jsxs)("div",{className:(0,n.cn)("flex gap-x-2"),children:[t.jsx(I.X,{name:"overwriteExisting",id:"overwriteExisting",checked:w,onCheckedChange:()=>v("overwriteExisting",!w,{shouldDirty:!0})}),t.jsx(Z._,{secondary:!0,htmlFor:"overwriteExisting",children:"Overwrite existing"})]}),k&&t.jsx(l.a,{overlay:!0})]}),(0,t.jsxs)(S.cN,{children:[t.jsx(S.GG,{asChild:!0,children:t.jsx(f.z,{variant:"ghost",children:"Cancel"})}),(0,t.jsxs)(f.z,{onClick:$,disabled:!C,children:[t.jsx(q.Z,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})]})})}function A({disabled:e}){let{confirm:s}=(0,N.t)(),{selected:a,setSelected:d,deleteDataKeys:i}=(0,r.M)();return e||!a.length?null:t.jsx(t.Fragment,{children:(0,t.jsxs)(C.h,{children:[t.jsx(f.z,{variant:"ghost",onClick:()=>d([]),children:"Cancel"}),t.jsx($,{uuids:a.map(e=>e.uuid)}),(0,t.jsxs)(f.z,{variant:"destructive",onClick:()=>setTimeout(()=>{s(()=>i(a.map(e=>e.uuid)),{title:"Delete data keys",message:"Are you sure?"})},0),children:[t.jsx(v.Z,{className:"w-4 h-4 mr-2"}),"Delete",a.length>1?` ${a.length} keys`:""]})]})})}var M=a(90670);function U({disabled:e}){let{viewOnly:s}=(0,i.b)();e=e||s;let{dataKeys:a,selected:c,deleting:o,loadingDataKeys:f,setCurrentDataKeyUuid:b,setSelected:h,pagination:u,currentPage:m,itemsPerPage:p,setCurrentPage:j,searchValue:y,setSearchValue:v}=(0,r.M)(),g=e=>{j(e),h([])},N={selectable:!e,selectedIndexes:c.map(e=>e.index),onSelect:e=>h(e.map(e=>({index:e,uuid:a[e]?.uuid})).filter(e=>e.uuid)),getRowOptions({rowIndex:e}){let t=a[e];return t?{className:(0,n.cn)(!s&&t.isDraft&&"bg-danger/20 hover:bg-danger/30")}:{}},search:{inputPlaceholder:"Search data keys",value:y,setValue:v},noDataMessage:t.jsx("div",{className:"mt-4 flex flex-col items-center justify-center gap-y-2",children:t.jsx("div",{children:"No data keys found."})}),columns:[{name:"Key"},{name:"Label"},{name:"Ref ID",cellClassName:"hidden"},{name:"Data type"},{name:"",align:"right",cellClassName:(0,n.cn)("w-10"),cellRenderer:({rowIndex:s})=>t.jsx(k,{rowIndex:s,disabled:e,setCurrentDataKeyUuid:b})}],data:a.map(e=>[e.name||"",e.label||"",e.refId||"",e.dataType||"",""])};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-4",children:[t.jsx(x,{}),t.jsx(d.DataTable,{...N}),u&&u.totalPages>1&&(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[t.jsx(M.tl,{children:(0,t.jsxs)(M.ng,{children:[t.jsx(M.nt,{children:t.jsx(M.dN,{onClick:()=>g(Math.max(1,m-1)),className:(0,n.cn)("cursor-pointer",1===m&&"pointer-events-none opacity-50")})}),(()=>{if(!u)return null;let{page:e,totalPages:s}=u,a=[];if(a.push(1),s<=7)for(let e=2;e<=s;e++)a.push(e);else{e>3&&a.push("ellipsis");for(let t=Math.max(2,e-1);t<=Math.min(s-1,e+1);t++)a.push(t);e<s-2&&a.push("ellipsis"),s>1&&a.push(s)}return a.map((s,a)=>"ellipsis"===s?t.jsx(M.nt,{children:t.jsx(M.Dj,{})},`ellipsis-${a}`):t.jsx(M.nt,{children:t.jsx(M.kN,{onClick:()=>g(s),isActive:s===e,className:(0,n.cn)("cursor-pointer"),children:s})},s))})(),t.jsx(M.nt,{children:t.jsx(M.$0,{onClick:()=>g(Math.min(u.totalPages,m+1)),className:(0,n.cn)("cursor-pointer",m===u.totalPages&&"pointer-events-none opacity-50")})})]})}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground text-center",children:["Showing ",(m-1)*p+1," to ",Math.min(m*p,u.total)," of ",u.total," entries"]})]})]}),t.jsx(A,{disabled:e}),(o||f)&&t.jsx(l.a,{overlay:!0})]})}},29354:(e,s,a)=>{"use strict";a.d(s,{h:()=>i});var t=a(10326),r=a(38178),d=a(77863);function i({children:e,className:s}){return(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"h-16"}),t.jsx("div",{className:(0,d.cn)(`
                        fixed 
                        left-0 
                        bottom-0 
                        h-16 
                        w-full 
                        border-t 
                        border-t-border 
                        z-[1] 
                        bg-primary-foreground 
                        dark:bg-background 
                        shadow-md 
                        dark:shadow-foreground/10
                    `),children:t.jsx(r.V,{children:t.jsx("div",{className:(0,d.cn)("flex justify-end gap-x-4",s),children:e})})})]})}},63148:(e,s,a)=>{"use strict";a.d(s,{_:()=>i});var t=a(10326),r=a(33071),d=a(77863);function i({color:e,children:s,errors:a=[]}){return t.jsx(t.Fragment,{children:t.jsx(r.Zb,{className:(0,d.cn)("bg-destructive/20 border-destructive text-destructive","warning"===e&&"bg-yellow-200/20 border-yellow-400 text-yellow-600"),children:(0,t.jsxs)(r.aY,{className:"flex flex-col gap-y-4 px-4 py-2",children:[s,!!a.length&&t.jsx("div",{children:a.map((e,s)=>{let a=`${s}`;return t.jsx("p",{children:e},a)})})]})})})}},54328:(e,s,a)=>{"use strict";a.d(s,{O:()=>b});var t=a(10326),r=a(17577),d=a(9015),i=a(30811),n=a(51605),l=a(77863),c=a(11870),o=a(44099),f=a(63148);let b=(0,r.forwardRef)(({isDraft:e,userId:s,dataType:a,card:b},h)=>{let u=(0,n.v)({isDraft:e,userId:s});(0,r.useImperativeHandle)(h,()=>({isLocked:u}),[u]);let{loading:x,error:m,user:p,getUser:j}=function({userId:e,loadOnMount:s=!1}){(0,r.useRef)(!1);let[a,t]=(0,r.useState)(!1),[d,i]=(0,r.useState)(null),[n,l]=(0,r.useState)(""),c=(0,r.useCallback)(async(s=e)=>{try{if(l(""),!a&&e){t(!0);let e=(await o.Z.get(`/api/users/${s}`)).data;i(e)}}catch(e){l(e.message)}finally{t(!1)}},[a,e]);return{loading:a,user:d,error:n,getUser:c}}({userId:s,loadOnMount:!!b}),y=(0,r.useCallback)(async e=>{e&&!x&&!p&&s&&j()},[s,p,x]);return b&&u&&!x?t.jsx(f._,{children:(0,t.jsxs)("div",{className:"flex items-center gap-x-4",children:[t.jsx(d.Z,{className:"w-4 h-4"}),p?(0,t.jsxs)("div",{children:[t.jsx("strong",{children:p.displayName})," is working on this ",a||""]}):null]})}):t.jsx(t.Fragment,{children:(0,t.jsxs)(i.J2,{onOpenChange:y,children:[t.jsx(i.xo,{asChild:!0,children:t.jsx("button",{disabled:!u,children:t.jsx(d.Z,{className:(0,l.cn)("w-4 h-4 text-destructive/80",!u&&"opacity-0")})})}),t.jsx(i.yk,{className:"p-0 text-sm max-w-[200px]",children:x?t.jsx("div",{className:"p-2 flex justify-center",children:t.jsx(c.a,{padding:0})}):m||!p?t.jsx("div",{className:"p-2 text-destructive bg-destructive/20",children:m||"Failed to load user!"}):(0,t.jsxs)("div",{className:"p-2",children:[t.jsx("strong",{children:p.displayName})," is working on this ",a||""]})})]})})});b.displayName="LockStatus"},34474:(e,s,a)=>{"use strict";a.d(s,{Bw:()=>m,DI:()=>f,Ph:()=>o,Ql:()=>j,U$:()=>y,i4:()=>h,ki:()=>b,n5:()=>p});var t=a(10326),r=a(17577),d=a(44875),i=a(941),n=a(96633),l=a(32933),c=a(77863);let o=d.fC,f=d.ZA,b=d.B4,h=r.forwardRef(({className:e,children:s,error:a,...r},n)=>(0,t.jsxs)(d.xz,{ref:n,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a&&"border-danger",e),...r,children:[s,t.jsx(d.JO,{asChild:!0,children:t.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));h.displayName=d.xz.displayName;let u=r.forwardRef(({className:e,...s},a)=>t.jsx(d.u_,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(n.Z,{className:"h-4 w-4"})}));u.displayName=d.u_.displayName;let x=r.forwardRef(({className:e,...s},a)=>t.jsx(d.$G,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(i.Z,{className:"h-4 w-4"})}));x.displayName=d.$G.displayName;let m=r.forwardRef(({className:e,children:s,position:a="popper",...r},i)=>t.jsx(d.h_,{children:(0,t.jsxs)(d.VY,{ref:i,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[t.jsx(u,{}),t.jsx(d.l_,{className:(0,c.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(x,{})]})}));m.displayName=d.VY.displayName;let p=r.forwardRef(({className:e,...s},a)=>t.jsx(d.__,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s}));p.displayName=d.__.displayName;let j=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(d.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(d.wU,{children:t.jsx(l.Z,{className:"h-4 w-4"})})}),t.jsx(d.eT,{children:s})]}));j.displayName=d.ck.displayName;let y=r.forwardRef(({className:e,...s},a)=>t.jsx(d.Z0,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));y.displayName=d.Z0.displayName},51605:(e,s,a)=>{"use strict";a.d(s,{v:()=>r});var t=a(3529);function r({isDraft:e,userId:s}){let{authenticatedUser:a}=(0,t.b)();return!!(e&&s&&s!==a?.userId)}},37340:(e,s,a)=>{"use strict";a.d(s,{k:()=>n});var t=a(17577),r=a(44099),d=a(3529),i=a(96221);function n(e){let{loadOnMount:s=!0,onLoadSitesError:a}={...e},[n,l]=(0,t.useState)(!1),{alert:c}=(0,i.s)(),{getSites:o}=(0,d.b)(),[f,b]=(0,t.useState)([]);return{loading:n,sites:f,loadSites:(0,t.useCallback)(async()=>{try{l(!0);let e=(await r.Z.get("/api/sites?data="+JSON.stringify({types:["webeditor"]}))).data;if(e.errors?.length)throw Error(e.errors.join(", "));b(e.data||[])}catch(e){c({title:"Error",message:"Failed to load sites: "+e.message,variant:"error",onClose:()=>a?.()})}finally{l(!1)}},[o,c,a])}}},39447:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(62881).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},12714:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(62881).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9015:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(62881).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},83855:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69508:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(62881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},47035:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(62881).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},15505:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x,dynamic:()=>u});var t=a(19510),r=a(85431),d=a(24569),i=a(46697),n=a(94136),l=a(40801),c=a(68570);let o=(0,c.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\app\(dashboard)\data-keys\components\table.tsx`),{__esModule:f,$$typeof:b}=o;o.default;let h=(0,c.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\app\(dashboard)\data-keys\components\table.tsx#DataKeysTable`),u="force-dynamic";async function x(){let[{isSuperUser:e}]=await Promise.all([(0,l.getAuthenticatedUserWithRoles)()]);return(0,t.jsxs)(t.Fragment,{children:[t.jsx(r.D,{children:"Data keys"}),t.jsx(d.V,{children:t.jsx(i.Zb,{className:"mb-20",children:t.jsx(i.aY,{className:"p-0",children:t.jsx(h,{...n,disabled:!e})})})})]})}},3333:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(19510),r=a(75644);function d({children:e}){return t.jsx(r.g2,{children:e})}},4326:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var t=a(19510),r=a(21113),d=a(24569),i=a(46697);function n(){return t.jsx(d.V,{children:t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"p-0",children:t.jsx(r.w,{loading:!0,maxRows:25,columns:[{name:"Key"},{name:"Label"},{name:"Data type"},{name:"",align:"right",cellClassName:"w-20"}],data:[]})})})})}},21113:(e,s,a)=>{"use strict";a.d(s,{w:()=>n});var t=a(68570);let r=(0,t.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\components\data-table\index.tsx`),{__esModule:d,$$typeof:i}=r;r.default;let n=(0,t.createProxy)(String.raw`C:\Users\HomePC\Neotree Projects\neotree-editor\components\data-table\index.tsx#DataTable`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[1633,1744,1337,3788,2758,4901,9712,1121,133,9414,8936,5358,4723,4924,3173,413,6267,6741,8781,1162,6826,5241,2418,8778,2303,3883,9011,6746,3591],()=>a(26862));module.exports=t})();