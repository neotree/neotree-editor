(()=>{var e={};e.id=7121,e.ids=[7121],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},68510:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>f,originalPathname:()=>c,pages:()=>u,routeModule:()=>h,tree:()=>d}),r(10200),r(56367),r(12699),r(99985),r(96560);var i=r(23191),s=r(88716),n=r(37922),l=r.n(n),o=r(95231),a={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>o[e]);r.d(t,a);let d=["",{children:["(dashboard)",{children:["changelogs",{children:["[version]",{children:["changes",{children:["[changeId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,10200)),"/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/changelogs/[version]/changes/[changeId]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,56367)),"/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,12699)),"/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,99985)),"/home/watkay/ReactProjects/neotree-editor/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,96560)),"/home/watkay/ReactProjects/neotree-editor/app/not-found.tsx"]}],u=["/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/changelogs/[version]/changes/[changeId]/page.tsx"],c="/(dashboard)/changelogs/[version]/changes/[changeId]/page",f={require:r,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/changelogs/[version]/changes/[changeId]/page",pathname:"/changelogs/[version]/changes/[changeId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63749:(e,t,r)=>{Promise.resolve().then(r.bind(r,75649)),Promise.resolve().then(r.bind(r,10827)),Promise.resolve().then(r.bind(r,8281)),Promise.resolve().then(r.t.bind(r,79404,23))},75649:(e,t,r)=>{"use strict";r.d(t,{RollbackButton:()=>c});var i=r(10326),s=r(17577),n=r(94464);let l=(0,r(62881).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var o=r(90772),a=r(11870),d=r(96221),u=r(3529);function c({entityId:e,targetVersion:t,currentVersion:r,dataVersion:c,disabled:f}){let{alert:h}=(0,d.s)(),{viewOnly:p}=(0,u.b)(),[m,x]=(0,s.useState)(!1),g=(0,s.useCallback)(async()=>{if(p)return;if(!t||t<1){h({title:"No previous version",message:"There is no previous published version to restore.",variant:"error",buttonLabel:"Close"});return}let i=(c??0)+1;if(window.confirm(`Restore this entity from v${r} back to v${t}? This will create a new changelog entry and publish data version v${i}.`))try{x(!0);let i=await n.Z.post("/api/changelogs/rollback",{entityId:e,toVersion:t,changeReason:`Rollback from v${r} to v${t}`});if(i.data?.errors?.length)throw Error(i.data.errors.join(", "));let s=i.data?.data?.dataVersion??(c??0)+1;h({title:"Rollback scheduled",message:`Restored to v${t}. A new changelog entry was created (data v${s}).`,variant:"success",buttonLabel:"Refresh",onClose:()=>window.location.reload()})}catch(e){h({title:"Rollback failed",message:e.message||"An unexpected error occurred while rolling back.",variant:"error",buttonLabel:"Close"})}finally{x(!1)}},[h,r,c,e,t,p]);return(0,i.jsxs)("div",{className:"relative",children:[m&&i.jsx(a.a,{overlay:!0}),(0,i.jsxs)(o.z,{size:"sm",variant:"outline",onClick:g,disabled:p||f||m,className:"inline-flex items-center gap-2",children:[i.jsx(l,{className:"h-4 w-4"}),"Rollback to previous"]})]})}},10200:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eb});var i=r(19510),s=r(57371),n=r(58585),l=r(33570),o=r(39755);let a=(0,r(27162).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var d=r(85431),u=r(24569),c=r(46697),f=r(18897),h=r(17747),p=r(45862);function m(e){if(null==e)return null;let t="number"==typeof e?e:Number(e);return Number.isFinite(t)&&t>0?t:null}function x(e,t){return null==e||"string"==typeof e&&""===e.trim()?null:["timerValue","multiplier","minValue","maxValue"].includes(t.split(".").pop()||t)&&"number"==typeof e&&0===e?null:e}function g(e,t,r){let i=x(e,r),s=x(t,r);if(null===i&&null===s)return!0;if("object"!=typeof i||"object"!=typeof s)return i===s;try{return JSON.stringify(i)===JSON.stringify(s)}catch{return!1}}var v=r(50650);function b(e){if("object"!=typeof e)return e;if(null===e)return null;if(Array.isArray(e))return e.map(b);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return function(e){var t;let r=/^\/(.*)\/([gimyu]*)$/.exec(e.toString());if(!r)throw Error("Invalid RegExp");return new RegExp(null!==(t=r[1])&&void 0!==t?t:"",r[2])}(e);let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=b(e[r]));return t}let y=e=>e[e.length-1];class j{setResult(e){return this.result=e,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(e,t){return e.parent=this,void 0!==t&&(e.childName=t),e.root=this.root||this,e.options=e.options||this.options,this.children?(function(e,t){if(0===e.length)throw Error("Expected a non-empty array")}(this.children),y(this.children).next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}}class N extends j{constructor(e,t){super(),this.left=e,this.right=t,this.pipe="diff"}prepareDeltaResult(e){var t,r,i,s;if("object"==typeof e&&((null===(t=this.options)||void 0===t?void 0:t.omitRemovedValues)&&Array.isArray(e)&&e.length>1&&(2===e.length||0===e[2]||3===e[2])&&(e[0]=0),null===(r=this.options)||void 0===r?void 0:r.cloneDiffValues)){let t="function"==typeof(null===(i=this.options)||void 0===i?void 0:i.cloneDiffValues)?null===(s=this.options)||void 0===s?void 0:s.cloneDiffValues:b;"object"==typeof e[0]&&(e[0]=t(e[0])),"object"==typeof e[1]&&(e[1]=t(e[1]))}return e}setResult(e){return this.prepareDeltaResult(e),super.setResult(e)}}class w extends j{constructor(e,t){super(),this.left=e,this.delta=t,this.pipe="patch"}}class k extends j{constructor(e){super(),this.delta=e,this.pipe="reverse"}}class R{constructor(e){this.name=e,this.filters=[]}process(e){if(!this.processor)throw Error("add this pipe to a processor before using it");let t=this.debug,r=this.filters.length;for(let i=0;i<r;i++){let r=this.filters[i];if(r&&(t&&this.log(`filter: ${r.filterName}`),r(e),"object"==typeof e&&e.exiting)){e.exiting=!1;break}}!e.next&&this.resultCheck&&this.resultCheck(e)}log(e){console.log(`[jsondiffpatch] ${this.name} pipe, ${e}`)}append(...e){return this.filters.push(...e),this}prepend(...e){return this.filters.unshift(...e),this}indexOf(e){if(!e)throw Error("a filter name is required");for(let t=0;t<this.filters.length;t++){let r=this.filters[t];if((null==r?void 0:r.filterName)===e)return t}throw Error(`filter not found: ${e}`)}list(){return this.filters.map(e=>e.filterName)}after(e,...t){let r=this.indexOf(e);return this.filters.splice(r+1,0,...t),this}before(e,...t){let r=this.indexOf(e);return this.filters.splice(r,0,...t),this}replace(e,...t){let r=this.indexOf(e);return this.filters.splice(r,1,...t),this}remove(e){let t=this.indexOf(e);return this.filters.splice(t,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(e){return!1===e?this.resultCheck=null:this.resultCheck||(this.resultCheck=e=>{if(!e.hasResult){console.log(e);let t=Error(`${this.name} failed`);throw t.noResult=!0,t}}),this}}class ${constructor(e){this.selfOptions=e||{},this.pipes={}}options(e){return e&&(this.selfOptions=e),this.selfOptions}pipe(e,t){let r=t;if("string"==typeof e){if(void 0===r)return this.pipes[e];this.pipes[e]=r}if(e&&e.name){if((r=e).processor===this)return r;this.pipes[r.name]=r}if(!r)throw Error(`pipe is not defined: ${e}`);return r.processor=this,r}process(e,t){let r,i=e;i.options=this.options();let s=t||e.pipe||"default";for(;s;)void 0!==i.nextAfterChildren&&(i.next=i.nextAfterChildren,i.nextAfterChildren=null),"string"==typeof s&&(s=this.pipe(s)),s.process(i),r=s,s=null,i&&i.next&&(s=(i=i.next).pipe||r);return i.hasResult?i.result:void 0}}let C=(e,t,r,i)=>e[r]===t[i],_=(e,t,r,i)=>{var s,n,l;let o,a;let d=e.length,u=t.length,c=Array(d+1);for(o=0;o<d+1;o++){let e=Array(u+1);for(a=0;a<u+1;a++)e[a]=0;c[o]=e}for(o=1,c.match=r;o<d+1;o++){let d=c[o];if(void 0===d)throw Error("LCS matrix row is undefined");let f=c[o-1];if(void 0===f)throw Error("LCS matrix row is undefined");for(a=1;a<u+1;a++)r(e,t,o-1,a-1,i)?d[a]=(null!==(s=f[a-1])&&void 0!==s?s:0)+1:d[a]=Math.max(null!==(n=f[a])&&void 0!==n?n:0,null!==(l=d[a-1])&&void 0!==l?l:0)}return c},V=(e,t,r,i)=>{let s=t.length,n=r.length,l={sequence:[],indices1:[],indices2:[]};for(;0!==s&&0!==n;){if(void 0===e.match)throw Error("LCS matrix match function is undefined");if(e.match(t,r,s-1,n-1,i))l.sequence.unshift(t[s-1]),l.indices1.unshift(s-1),l.indices2.unshift(n-1),--s,--n;else{let t=e[s];if(void 0===t)throw Error("LCS matrix row is undefined");let r=t[n-1];if(void 0===r)throw Error("LCS matrix value is undefined");let i=e[s-1];if(void 0===i)throw Error("LCS matrix row is undefined");let l=i[n];if(void 0===l)throw Error("LCS matrix value is undefined");r>l?--n:--s}}return l},A={get:(e,t,r,i)=>{let s=i||{};return V(_(e,t,r||C,s),e,t,s)}};function P(e,t,r,i,s){let n=e[r],l=t[i];if(n===l)return!0;if("object"!=typeof n||"object"!=typeof l)return!1;let o=s.objectHash;if(!o)return s.matchByPosition&&r===i;s.hashCache1=s.hashCache1||[];let a=s.hashCache1[r];if(void 0===a&&(s.hashCache1[r]=a=o(n,r)),void 0===a)return!1;s.hashCache2=s.hashCache2||[];let d=s.hashCache2[i];return void 0===d&&(s.hashCache2[i]=d=o(l,i)),void 0!==d&&a===d}let E=function(e){var t,r,i,s,n;let l,o,a,d,u;if(!e.leftIsArray)return;let c={objectHash:null===(t=e.options)||void 0===t?void 0:t.objectHash,matchByPosition:null===(r=e.options)||void 0===r?void 0:r.matchByPosition},f=0,h=0,p=e.left,m=e.right,x=p.length,g=m.length;for(x>0&&g>0&&!c.objectHash&&"boolean"!=typeof c.matchByPosition&&(c.matchByPosition=!function(e,t,r,i){for(let s=0;s<r;s++){let r=e[s];for(let e=0;e<i;e++){let i=t[e];if(s!==e&&r===i)return!0}}return!1}(p,m,x,g));f<x&&f<g&&P(p,m,f,f,c);)d=new N(p[l=f],m[l]),e.push(d,l),f++;for(;h+f<x&&h+f<g&&P(p,m,x-1-h,g-1-h,c);)o=x-1-h,a=g-1-h,d=new N(p[o],m[a]),e.push(d,a),h++;if(f+h===x){if(x===g){e.setResult(void 0).exit();return}for(u=u||{_t:"a"},l=f;l<g-h;l++)u[l]=[m[l]],e.prepareDeltaResult(u[l]);e.setResult(u).exit();return}if(f+h===g){for(u=u||{_t:"a"},l=f;l<x-h;l++){let t=`_${l}`;u[t]=[p[l],0,0],e.prepareDeltaResult(u[t])}e.setResult(u).exit();return}c.hashCache1=void 0,c.hashCache2=void 0;let v=p.slice(f,x-h),b=m.slice(f,g-h),y=A.get(v,b,P,c),j=[];for(u=u||{_t:"a"},l=f;l<x-h;l++)if(0>y.indices1.indexOf(l-f)){let t=`_${l}`;u[t]=[p[l],0,0],e.prepareDeltaResult(u[t]),j.push(l)}let w=!0;(null===(i=e.options)||void 0===i?void 0:i.arrays)&&!1===e.options.arrays.detectMove&&(w=!1);let k=!1;(null===(n=null===(s=e.options)||void 0===s?void 0:s.arrays)||void 0===n?void 0:n.includeValueOnMove)&&(k=!0);let R=j.length;for(l=f;l<g-h;l++){let t=y.indices2.indexOf(l-f);if(t<0){let t=!1;if(w&&R>0)for(let r=0;r<R;r++){let i=void 0===(o=j[r])?void 0:u[`_${o}`];if(void 0!==o&&i&&P(v,b,o-f,l-f,c)){i.splice(1,2,l,3),i.splice(1,2,l,3),k||(i[0]=""),a=l,d=new N(p[o],m[a]),e.push(d,a),j.splice(r,1),t=!0;break}}t||(u[l]=[m[l]],e.prepareDeltaResult(u[l]))}else{if(void 0===y.indices1[t])throw Error(`Invalid indexOnArray2: ${t}, seq.indices1: ${y.indices1}`);if(o=y.indices1[t]+f,void 0===y.indices2[t])throw Error(`Invalid indexOnArray2: ${t}, seq.indices2: ${y.indices2}`);a=y.indices2[t]+f,d=new N(p[o],m[a]),e.push(d,a)}}e.setResult(u).exit()};E.filterName="arrays";let I={numerically:(e,t)=>e-t,numericallyBy:e=>(t,r)=>t[e]-r[e]},D=function(e){var t;let r,i;if(!e.nested)return;let s=e.delta;if("a"!==s._t)return;let n=e.left,l=[],o=[],a=[];for(r in s)if("_t"!==r){if("_"===r[0]){let e=r;if(void 0!==s[e]&&(0===s[e][2]||3===s[e][2]))l.push(Number.parseInt(r.slice(1),10));else throw Error(`only removal or move can be applied at original array indices, invalid diff type: ${null===(t=s[e])||void 0===t?void 0:t[2]}`)}else{let e=r;1===s[e].length?o.push({index:Number.parseInt(e,10),value:s[e][0]}):a.push({index:Number.parseInt(e,10),delta:s[e]})}}for(r=(l=l.sort(I.numerically)).length-1;r>=0;r--){if(void 0===(i=l[r]))continue;let e=s[`_${i}`],t=n.splice(i,1)[0];(null==e?void 0:e[2])===3&&o.push({index:e[1],value:t})}let d=(o=o.sort(I.numericallyBy("index"))).length;for(r=0;r<d;r++){let e=o[r];void 0!==e&&n.splice(e.index,0,e.value)}let u=a.length;if(u>0)for(r=0;r<u;r++){let t=a[r];if(void 0===t)continue;let i=new w(n[t.index],t.delta);e.push(i,t.index)}if(!e.children){e.setResult(n).exit();return}e.exit()};D.filterName="arrays";let q=function(e){if(!e||!e.children||"a"!==e.delta._t)return;let t=e.left,r=e.children.length;for(let i=0;i<r;i++){let r=e.children[i];void 0!==r&&(t[r.childName]=r.result)}e.setResult(t).exit()};q.filterName="arraysCollectChildren";let O=function(e){if(!e.nested){let t=e.delta;3===t[2]&&(e.newName=`_${t[1]}`,e.setResult([t[0],Number.parseInt(e.childName.substring(1),10),3]).exit());return}let t=e.delta;if("a"===t._t){for(let r in t){if("_t"===r)continue;let i=new k(t[r]);e.push(i,r)}e.exit()}};O.filterName="arrays";let S=(e,t,r)=>{if("string"==typeof t&&"_"===t[0])return Number.parseInt(t.substring(1),10);if(Array.isArray(r)&&0===r[2])return`_${t}`;let i=+t;for(let r in e){let s=e[r];if(Array.isArray(s)){if(3===s[2]){let e=Number.parseInt(r.substring(1),10),n=s[1];if(n===+t)return e;e<=i&&n>i?i++:e>=i&&n<i&&i--}else 0===s[2]?Number.parseInt(r.substring(1),10)<=i&&i++:1===s.length&&Number.parseInt(r,10)<=i&&i--}}return i},T=e=>{if(!e||!e.children)return;let t=e.delta;if("a"!==t._t)return;let r=e.children.length,i={_t:"a"};for(let s=0;s<r;s++){let r=e.children[s];if(void 0===r)continue;let n=r.newName;if(void 0===n){if(void 0===r.childName)throw Error("child.childName is undefined");n=S(t,r.childName,r.result)}i[n]!==r.result&&(i[n]=r.result)}e.setResult(i).exit()};T.filterName="arraysCollectChildren";let L=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};L.filterName="dates";let M=e=>{if(!e||!e.children)return;let t=e.children.length,r=e.result;for(let i=0;i<t;i++){let t=e.children[i];if(void 0!==t){if(void 0===t.result)continue;if(r=r||{},void 0===t.childName)throw Error("diff child.childName is undefined");r[t.childName]=t.result}}r&&e.leftIsArray&&(r._t="a"),e.setResult(r).exit()};M.filterName="collectChildren";let B=e=>{var t;if(e.leftIsArray||"object"!==e.leftType)return;let r=e.left,i=e.right,s=null===(t=e.options)||void 0===t?void 0:t.propertyFilter;for(let t in r){if(!Object.prototype.hasOwnProperty.call(r,t)||s&&!s(t,e))continue;let n=new N(r[t],i[t]);e.push(n,t)}for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&(!s||s(t,e))&&void 0===r[t]){let r=new N(void 0,i[t]);e.push(r,t)}if(!e.children||0===e.children.length){e.setResult(void 0).exit();return}e.exit()};B.filterName="objects";let F=function(e){if(!e.nested)return;let t=e.delta;if(!t._t){for(let r in t){let i=new w(e.left[r],t[r]);e.push(i,r)}e.exit()}};F.filterName="objects";let K=function(e){if(!e||!e.children||e.delta._t)return;let t=e.left,r=e.children.length;for(let i=0;i<r;i++){let r=e.children[i];if(void 0===r)continue;let s=r.childName;Object.prototype.hasOwnProperty.call(e.left,s)&&void 0===r.result?delete t[s]:t[s]!==r.result&&(t[s]=r.result)}e.setResult(t).exit()};K.filterName="collectChildren";let H=function(e){if(!e.nested||e.delta._t)return;let t=e.delta;for(let r in t){let i=new k(t[r]);e.push(i,r)}e.exit()};H.filterName="objects";let U=e=>{if(!e||!e.children||e.delta._t)return;let t=e.children.length,r={};for(let i=0;i<t;i++){let t=e.children[i];if(void 0===t)continue;let s=t.childName;r[s]!==t.result&&(r[s]=t.result)}e.setResult(r).exit()};U.filterName="collectChildren";let W=null;function Z(e,t){var r;if(!W){let i;if(null===(r=null==e?void 0:e.textDiff)||void 0===r?void 0:r.diffMatchPatch)i=new e.textDiff.diffMatchPatch;else{if(!t)return null;let e=Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw e.diff_match_patch_not_found=!0,e}W={diff:(e,t)=>i.patch_toText(i.patch_make(e,t)),patch:(e,t)=>{let r=i.patch_apply(i.patch_fromText(t),e);for(let e of r[1])if(!e){let e=Error("text patch failed");throw e.textPatchFailed=!0,e}return r[0]}}}return W}let z=function(e){var t,r;if("string"!==e.leftType)return;let i=e.left,s=e.right,n=(null===(r=null===(t=e.options)||void 0===t?void 0:t.textDiff)||void 0===r?void 0:r.minLength)||60;if(i.length<n||s.length<n){e.setResult([i,s]).exit();return}let l=Z(e.options);if(!l){e.setResult([i,s]).exit();return}let o=l.diff;e.setResult([o(i,s),0,2]).exit()};z.filterName="texts";let G=function(e){if(e.nested)return;let t=e.delta;if(2!==t[2])return;let r=Z(e.options,!0).patch;e.setResult(r(e.left,t[0])).exit()};G.filterName="texts";let J=e=>{var t,r,i;let s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,n=e.split("\n");for(let e=0;e<n.length;e++){let l=n[e];if(void 0===l)continue;let o=l.slice(0,1);if("@"===o){let t=s.exec(l);null!==t&&(n[e]=`@@ -${t[3]},${t[4]} +${t[1]},${t[2]} @@`)}else if("+"===o){if(n[e]=`-${null===(t=n[e])||void 0===t?void 0:t.slice(1)}`,(null===(r=n[e-1])||void 0===r?void 0:r.slice(0,1))==="+"){let t=n[e];n[e]=n[e-1],n[e-1]=t}}else"-"===o&&(n[e]=`+${null===(i=n[e])||void 0===i?void 0:i.slice(1)}`)}return n.join("\n")},X=function(e){if(e.nested)return;let t=e.delta;2===t[2]&&e.setResult([J(t[0]),0,2]).exit()};X.filterName="texts";let Y=function(e){if(e.left===e.right){e.setResult(void 0).exit();return}if(void 0===e.left){if("function"==typeof e.right)throw Error("functions are not supported");e.setResult([e.right]).exit();return}if(void 0===e.right){e.setResult([e.left,0,0]).exit();return}if("function"==typeof e.left||"function"==typeof e.right)throw Error("functions are not supported");if(e.leftType=null===e.left?"null":typeof e.left,e.rightType=null===e.right?"null":typeof e.right,e.leftType!==e.rightType||"boolean"===e.leftType||"number"===e.leftType||("object"===e.leftType&&(e.leftIsArray=Array.isArray(e.left)),"object"===e.rightType&&(e.rightIsArray=Array.isArray(e.right)),e.leftIsArray!==e.rightIsArray)){e.setResult([e.left,e.right]).exit();return}e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit())};Y.filterName="trivial";let Q=function(e){if(void 0===e.delta){e.setResult(e.left).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;let t=e.delta;if(1===t.length){e.setResult(t[0]).exit();return}if(2===t.length){if(e.left instanceof RegExp){let r=/^\/(.*)\/([gimyu]+)$/.exec(t[1]);if(null==r?void 0:r[1]){e.setResult(new RegExp(r[1],r[2])).exit();return}}e.setResult(t[1]).exit();return}3===t.length&&0===t[2]&&e.setResult(void 0).exit()};Q.filterName="trivial";let ee=function(e){if(void 0===e.delta){e.setResult(e.delta).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;let t=e.delta;if(1===t.length){e.setResult([t[0],0,0]).exit();return}if(2===t.length){e.setResult([t[1],t[0]]).exit();return}3===t.length&&0===t[2]&&e.setResult([t[0]]).exit()};ee.filterName="trivial";class et{constructor(e){this.processor=new $(e),this.processor.pipe(new R("diff").append(M,Y,L,z,B,E).shouldHaveResult()),this.processor.pipe(new R("patch").append(K,q,Q,G,F,D).shouldHaveResult()),this.processor.pipe(new R("reverse").append(U,T,ee,X,H,O).shouldHaveResult())}options(e){return this.processor.options(e)}diff(e,t){return this.processor.process(new N(e,t))}patch(e,t){return this.processor.process(new w(e,t))}reverse(e){return this.processor.process(new k(e))}unpatch(e,t){return this.patch(e,this.reverse(t))}clone(e){return b(e)}}let er=["fieldId","field_id","fieldID","itemId","item_id","itemID","optionId","option_id","dataKeyId","id","key","value","code","slug"],ei=["label","name","title","display","question","text","description","value","code"],es={item:"item",items:"item",option:"option",options:"option",field:"field",fields:"field",screen:"screen",screens:"screen",diagnosis:"diagnosis",diagnoses:"diagnosis",script:"script",scripts:"script"},en={fields:{label:"Field Changes",description:"Fields, inputs, and their options."},drugs:{label:"Drug, Fluids & Feeds",description:"Drug library items, fluid protocols, and feeding options."},screens:{label:"Screen Changes",description:"Screen level configuration or layout updates."},diagnoses:{label:"Diagnosis Changes",description:"Diagnosis metadata and options."},dataKeys:{label:"Data Key Changes",description:"Data keys, aliases, and supporting metadata."},scripts:{label:"Script Changes",description:"Script logic or metadata."},configuration:{label:"Configuration",description:"Global configuration, aliases, or data keys."},other:{label:"Other Changes",description:"Everything else captured in the log."}},el=new et({arrays:{detectMove:!1,includeValueOnMove:!1},objectHash:e=>(function(e){if(e&&"object"==typeof e)for(let t of er){let r=e[t];if(null!=r){if("string"==typeof r&&r.trim())return`${t}:${r.trim()}`;if("number"==typeof r||"boolean"==typeof r)return`${t}:${r}`}}})(e)});function eo(e){let t={added:0,removed:0,updated:0,moved:0,total:0};for(let r of e)"added"===r.kind?t.added+=1:"removed"===r.kind?t.removed+=1:"updated"===r.kind?t.updated+=1:"moved"===r.kind&&(t.moved+=1),t.total+=1;return t}let ea=0;function ed(e,t,r){let i=eu(t)||function(e){if(Array.isArray(e)){if(1===e.length)return eu(e[0]);if(e.length>=2)return eu(e[1])}}(e)||`#${r}`;return`[${i}]`}function eu(e){if(!e||"object"!=typeof e)return"string"==typeof e?e:"number"==typeof e||"boolean"==typeof e?String(e):void 0;for(let t of ei){let r=e[t];if("string"==typeof r&&r.trim())return r.trim()}for(let t of er){let r=e[t];if("string"==typeof r&&r.trim()||"number"==typeof r||"boolean"==typeof r)return`${t}:${r}`}}function ec(e){return"object"==typeof e&&null!==e}function ef(e){for(let t of e)for(let e of t.pathSegments){let t=e.replace(/[\[\]]/g,"").toLowerCase();if(es[t])return es[t];let r=t.replace(/[#\d]/g,"");if(es[r])return es[r]}return"entry"}function eh(e,t){return`${e} ${t}${1===e?"":"s"}`}function ep(e,t=3){let r=e.filter(Boolean);if(!r.length)return"";if(r.length<=t)return r.join(", ");let i=r.slice(0,t).join(", ");return`${i} (+${r.length-t} more)`}let em=(0,r(68570).createProxy)(String.raw`/home/watkay/ReactProjects/neotree-editor/app/(dashboard)/changelogs/components/rollback-button.tsx#RollbackButton`),ex={script:"Script",screen:"Screen",diagnosis:"Diagnosis",config_key:"Config Key",drugs_library:"Drugs Library",data_key:"Data Key",alias:"Alias"},eg={create:"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400",update:"bg-blue-500/10 text-blue-700 dark:text-blue-400",delete:"bg-red-500/10 text-red-700 dark:text-red-400",publish:"bg-purple-500/10 text-purple-700 dark:text-purple-400",restore:"bg-amber-500/10 text-amber-700 dark:text-amber-400",rollback:"bg-orange-500/10 text-orange-700 dark:text-orange-400",merge:"bg-cyan-500/10 text-cyan-700 dark:text-cyan-400"},ev={active:"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400",inactive:"bg-red-500/10 text-red-700 dark:text-red-400",superseded:"bg-amber-500/10 text-amber-700 dark:text-amber-400"};async function eb({params:e}){var t;let r=function(e){let t=Number(e.startsWith("v")||e.startsWith("V")?e.slice(1):e);return Number.isFinite(t)&&t>0?t:null}(e.version);null===r&&(0,n.notFound)();let{data:x,errors:v}=await (0,p.getChangeLog)({changeLogId:e.changeId});if(v?.length)throw Error(v.join(", "));x||(0,n.notFound)();let b=ex[x.entityType]||x.entityType,y=function(e){let t=e?.entityTitle||e?.entityName;if("string"==typeof t&&t.trim().length)return t.trim();let r=e.fullSnapshot||{};for(let e of[r?.title,r?.name,r?.label,r?.printTitle,r?.sectionTitle,r?.collectionLabel,r?.key])if("string"==typeof e&&e.trim().length)return e.trim();return`${e.entityType} ${e.entityId}`}(x),j=(0,l.WU)(new Date(x.dateOfChange),"PPpp"),N=function(e){let t=m(e?.dataVersion),r=m(e?.fullSnapshot?.dataVersion);return t??r??null}(x)??r,w=function(e){let t=[],r=e.changes;if(Array.isArray(r))for(let e of r)if(e&&"object"==typeof e){let r=e.field||e.fieldPath||"Unknown field",i="previousValue"in e?e.previousValue:"oldValue"in e?e.oldValue:void 0,s="newValue"in e?e.newValue:"value"in e?e.value:e.updatedValue;g(i,s,r)||t.push({field:r,previousValue:i,newValue:s})}else g(void 0,e,"Unknown field")||t.push({field:"Unknown field",previousValue:void 0,newValue:e});else if(r&&"object"==typeof r&&"oldValues"in r&&"newValues"in r){let{oldValues:e=[],newValues:i=[]}=r,s=Math.max(e.length,i.length);for(let r=0;r<s;r++){let s=e[r]||{},n=i[r]||{},l=Object.keys({...s,...n})[0]||`field_${r+1}`,o=s[l],a=n[l];g(o,a,l)||t.push({field:l,previousValue:o,newValue:a})}}if(!t.length&&"create"===e.action){let r=e.fullSnapshot;if(r&&"object"==typeof r)for(let[e,i]of Object.entries(r))g(void 0,i,e)||t.push({field:e,previousValue:void 0,newValue:i})}return t}(x),k=function(e){let t=e.fullSnapshot||{},r=t?.deletedAt??t?.deleted_at??t?.data?.deletedAt??t?.data?.deleted_at??null;return"delete"===e.action||r||t?.isDeleted===!0||t?.status==="inactive"?{label:"Inactive",state:"inactive",reason:"deleted"}:e.isActive?{label:"Active",state:"active"}:{label:"Superseded",state:"superseded",reason:"newer-version"}}(x),R=(t={entityType:x.entityType},w.map(e=>{var r;let i=e.previousValue,s=e.newValue,n=el.diff(i,s),l=function(e,t,r){if(!e)return[];let i=[];return function e(t,r,i,s,n){if(t){if(Array.isArray(t)){let e=function(e,t,r,i){let s=e[2],n=t.length?t.join(" › "):"Value";return 1===e.length?{id:`${n}-added-${ea++}`,kind:"added",pathSegments:t,path:n,label:eu(i??e[0]),previousValue:r,newValue:i??e[0]}:2===e.length?{id:`${n}-updated-${ea++}`,kind:"updated",pathSegments:t,path:n,label:eu(i??e[1]),previousValue:r??e[0],newValue:i??e[1]}:0===s?{id:`${n}-removed-${ea++}`,kind:"removed",pathSegments:t,path:n,label:eu(r??e[0]),previousValue:r??e[0],newValue:void 0}:2===s?{id:`${n}-text-${ea++}`,kind:"updated",pathSegments:t,path:n,label:eu(i),previousValue:r,newValue:i,textDiff:"string"==typeof e[0]?e[0]:void 0}:3===s?{id:`${n}-moved-${ea++}`,kind:"moved",pathSegments:t,path:n,label:eu(r),previousValue:r,newValue:i,targetIndex:"number"==typeof e[1]?e[1]:void 0}:null}(t,r,i,s);e&&n.push(e);return}if("object"==typeof t&&"a"===t._t){let l=Array.isArray(i)?i:[],o=Array.isArray(s)?s:[];for(let i of Object.keys(t)){if("_t"===i)continue;let s=t[i];if(i.startsWith("_")){let t=Number(i.slice(1));if(Number.isNaN(t))continue;let o=l[t],a=[...r,ed(s,o,t)];e(s,a,o,void 0,n)}else{let t=Number(i);if(Number.isNaN(t))continue;let a=l[t],d=o[t],u=[...r,ed(s,d??a,t)];e(s,u,a,d,n)}}return}if("object"==typeof t&&null!==t)for(let[l,o]of Object.entries(t)){let t=ec(i)?i[l]:void 0,a=ec(s)?s[l]:void 0;e(o,[...r,l],t,a,n)}}}(e,[],t,r,i),i}(n,i,s),o=eo(l);return{field:e.field,fieldLabel:(r=e.field)?r.replace(/\[(\d+)\]/g,"#$1").split(".").map(e=>e.trim()).filter(Boolean).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" › "):"Unnamed field",groupKey:function(e,t){let r=e.toLowerCase();if(r.startsWith("field")||r.includes("fields."))return"fields";if(r.includes("drug")||r.includes("drugs")||r.includes("fluid")||r.includes("feed"))return"drugs";if(r.includes("data_key")||r.includes("datakey")||r.includes("data key"))return"dataKeys";if(r.startsWith("screen")||r.includes("screens."))return"screens";if(r.startsWith("diagnosis")||r.includes("diagnoses."))return"diagnoses";if(r.startsWith("script")||r.includes("scripts."))return"scripts";if(r.includes("config")||r.includes("settings"))return"configuration";if(t){let e=t.toLowerCase();if(e.includes("drug")||e.includes("drugs"))return"drugs";if(e.includes("data_key")||e.includes("datakey"))return"dataKeys";if(e.includes("screen"))return"screens";if(e.includes("diagnosis"))return"diagnoses";if(e.includes("script"))return"scripts"}return"other"}(e.field,t?.entityType),operations:l,stats:o,hasDifferences:!!n&&l.length>0,previousValue:i,newValue:s}})),$=function(e,t=5){let r=[];for(let i of e){if(!i.operations.length)continue;let e=function(e){let t=[],r=e.operations.filter(e=>"added"===e.kind),i=e.operations.filter(e=>"removed"===e.kind),s=e.operations.filter(e=>"updated"===e.kind),n=e.operations.filter(e=>"moved"===e.kind);if(r.length){let e=ef(r),i=ep(r.map(e=>e.label||e.path));t.push(`Added ${eh(r.length,e)}${i?`: ${i}`:""}`)}if(i.length){let e=ef(i),r=ep(i.map(e=>e.label||e.path));t.push(`Removed ${eh(i.length,e)}${r?`: ${r}`:""}`)}if(s.length){let e=ef(s),r=ep(s.map(e=>e.path));t.push(`Updated ${eh(s.length,e)}${r?`: ${r}`:""}`)}if(n.length){let e=ef(n),r=ep(n.map(e=>e.label||e.path));t.push(`Reordered ${eh(n.length,e)}${r?`: ${r}`:""}`)}return t.slice(0,3)}(i);if(e.length&&(r.push({field:i.field,fieldLabel:i.fieldLabel,statements:e}),r.length>=t))break}return r}(R),C=function(e){let t=Object.keys(en),r=new Map;for(let e of t)r.set(e,[]);for(let t of e)r.get(t.groupKey)?.push(t);return t.map(e=>{let t=r.get(e)??[];return{key:e,label:en[e].label,description:en[e].description,stats:eo(t.flatMap(e=>e.operations)),changes:t}})}(R),_=R.some(e=>e.stats.total>0),V=x.isActive&&(x.parentVersion??null)!==null;return(0,i.jsxs)(i.Fragment,{children:[i.jsx(d.D,{children:"Change Details"}),(0,i.jsxs)(u.V,{className:"space-y-6",children:[(0,i.jsxs)(s.default,{href:`/changelogs/v${r}`,className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground",children:[i.jsx(o.Z,{className:"h-4 w-4"}),"Back to data version v",r]}),(0,i.jsxs)(c.Zb,{children:[(0,i.jsxs)(c.Ol,{className:"space-y-2",children:[(0,i.jsxs)(c.ll,{className:"flex items-center gap-2 text-lg",children:[i.jsx(a,{className:"h-4 w-4"}),y]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:[i.jsx(f.C,{variant:"outline",className:"bg-muted text-muted-foreground",children:b}),(0,i.jsxs)(f.C,{variant:"outline",className:"bg-muted text-muted-foreground",children:["Entity v",x.version]}),N&&(0,i.jsxs)(f.C,{variant:"outline",className:"bg-muted text-muted-foreground",children:["Data v",N]}),i.jsx(f.C,{className:eg[x.action]??"bg-muted text-muted-foreground",children:x.action}),i.jsx(f.C,{className:ev[k.state],children:k.label})]})]}),(0,i.jsxs)(c.aY,{className:"space-y-4",children:[V&&i.jsx("div",{className:"flex justify-end",children:i.jsx(em,{entityId:x.entityId,targetVersion:x.parentVersion,currentVersion:x.version,dataVersion:N??null,disabled:!x.isActive})}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Changed By"}),(0,i.jsxs)("div",{className:"mt-1 text-sm font-medium",children:[x.userName||"Unknown user",x.userEmail?` • ${x.userEmail}`:""]})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Changed On"}),i.jsx("div",{className:"mt-1 text-sm font-medium",children:j})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Entity ID"}),i.jsx("div",{className:"mt-1 text-sm font-medium break-all",children:x.entityId})]}),null!==x.parentVersion&&(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Parent Version"}),(0,i.jsxs)("div",{className:"mt-1 text-sm font-medium",children:["v",x.parentVersion]})]}),null!==x.mergedFromVersion&&(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Merged From"}),(0,i.jsxs)("div",{className:"mt-1 text-sm font-medium",children:["v",x.mergedFromVersion]})]}),x.changeReason&&(0,i.jsxs)("div",{className:"md:col-span-2",children:[i.jsx("div",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Reason"}),i.jsx("div",{className:"mt-1 text-sm",children:x.changeReason})]}),x.description&&(0,i.jsxs)("div",{className:"md:col-span-2",children:[i.jsx("div",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Description"}),i.jsx("div",{className:"mt-1 text-sm",children:x.description})]})]}),i.jsx(h.Z,{}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:"Summary of Changes"}),i.jsx(ey,{highlightEntries:$,groupedSummaries:C,hasChanges:_})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:["Detailed Changes (",w.length,")"]}),0===w.length?i.jsx("div",{className:"mt-3 text-sm text-muted-foreground italic",children:"No field-level changes recorded for this entry."}):i.jsx("div",{className:"mt-4 space-y-4",children:R.map((e,t)=>i.jsx(ej,{insight:e,defaultOpen:0===t},`${x.changeLogId}-${e.field}-${t}`))})]})]})]})]})]})]})}function ey({highlightEntries:e,groupedSummaries:t,hasChanges:r}){return(0,i.jsxs)("div",{className:"mt-3 rounded-lg border border-border/60 bg-muted/30",children:[i.jsx("div",{className:"border-b border-border/60 px-4 py-3",children:r?i.jsx("div",{className:"space-y-2 text-sm",children:e.length?e.map((e,t)=>(0,i.jsxs)("div",{className:"space-y-1 rounded-md border border-border/60 bg-background/80 p-3",children:[i.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground",children:e.fieldLabel}),i.jsx("ul",{className:"list-disc space-y-1 pl-5",children:e.statements.map((t,r)=>i.jsx("li",{className:"text-sm",children:t},`${e.field}-${r}`))})]},`${e.field}-${t}`)):i.jsx("div",{className:"text-sm text-muted-foreground",children:"Changes detected, see detailed view below."})}):i.jsx("div",{className:"text-sm text-muted-foreground",children:"No structural differences were detected for this change log entry."})}),(0,i.jsxs)("div",{className:"px-4 py-3",children:[i.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground",children:"Breakdown by Category"}),i.jsx("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:t.map(e=>(0,i.jsxs)("div",{className:"rounded-lg border border-dashed border-border/70 bg-background/70 p-3 text-sm",children:[i.jsx("div",{className:"font-medium",children:e.label}),i.jsx("div",{className:"text-xs text-muted-foreground",children:e.description}),0===e.stats.total?i.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"No changes."}):(0,i.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:[i.jsx(eR,{label:"Added",value:e.stats.added,tone:"added"}),i.jsx(eR,{label:"Modified",value:e.stats.updated,tone:"updated"}),i.jsx(eR,{label:"Removed",value:e.stats.removed,tone:"removed"}),e.stats.moved>0&&i.jsx(eR,{label:"Moved",value:e.stats.moved,tone:"moved"})]})]},e.key))})]})]})}function ej({insight:e,defaultOpen:t}){let r=e.operations.length>0,s=en[e.groupKey].label;return r?(0,i.jsxs)("details",{className:"rounded-lg border border-border/70 bg-background/60",open:t,children:[i.jsx("summary",{className:"cursor-pointer list-none px-4 py-3",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:e.fieldLabel}),i.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:s})]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[i.jsx(eR,{label:"Added",value:e.stats.added,tone:"added"}),i.jsx(eR,{label:"Modified",value:e.stats.updated,tone:"updated"}),i.jsx(eR,{label:"Removed",value:e.stats.removed,tone:"removed"}),e.stats.moved>0&&i.jsx(eR,{label:"Moved",value:e.stats.moved,tone:"moved"})]})]})}),(0,i.jsxs)("div",{className:"border-t border-border/60 p-4 space-y-4",children:[e.operations.map(e=>i.jsx(eN,{operation:e},e.id)),i.jsx("div",{className:"rounded-lg border border-dashed border-border/70",children:(0,i.jsxs)("details",{children:[i.jsx("summary",{className:"cursor-pointer px-3 py-2 text-xs font-semibold uppercase text-muted-foreground",children:"View raw JSON values"}),(0,i.jsxs)("div",{className:"grid gap-3 border-t border-border/60 p-3 md:grid-cols-2",children:[i.jsx(ek,{label:"Previous",tone:"danger",value:e.previousValue}),i.jsx(ek,{label:"New",tone:"success",value:e.newValue})]})]})})]})]}):(0,i.jsxs)("div",{className:"rounded-lg border border-dashed border-border/70 bg-muted/30",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-border/60 px-4 py-3",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:e.fieldLabel}),i.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:s})]}),i.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"No structured differences"})]}),(0,i.jsxs)("div",{className:"px-4 py-4 text-sm text-muted-foreground",children:["Raw values are shown below for reference.",i.jsx(ew,{previous:e.previousValue,next:e.newValue})]})]})}function eN({operation:e}){let t={added:"bg-sky-500/10 text-sky-700 dark:text-sky-300 border-sky-500/30",removed:"bg-rose-500/10 text-rose-700 dark:text-rose-300 border-rose-500/30",updated:"bg-amber-500/10 text-amber-700 dark:text-amber-300 border-amber-500/30",moved:"bg-purple-500/10 text-purple-700 dark:text-purple-300 border-purple-500/30"}[e.kind];return(0,i.jsxs)("div",{className:"rounded-lg border border-border/60 bg-muted/20 p-4",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-xs uppercase",children:[i.jsx("div",{className:"font-semibold",children:e.path}),(0,i.jsxs)("span",{className:(0,v.cn)("rounded-full border px-2 py-0.5 text-[10px] font-semibold tracking-wide",t),children:["added"===e.kind&&"Added","removed"===e.kind&&"Removed","updated"===e.kind&&"Modified","moved"===e.kind&&"Reordered"]})]}),e.label&&i.jsx("div",{className:"mt-1 text-sm font-medium text-foreground",children:e.label}),"moved"===e.kind&&"number"==typeof e.targetIndex&&(0,i.jsxs)("div",{className:"mt-1 text-xs text-muted-foreground",children:["Moved to position ",e.targetIndex+1]}),(0,i.jsxs)("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:["added"!==e.kind&&i.jsx(ek,{label:"Previous",tone:"danger",value:e.previousValue}),"removed"!==e.kind&&i.jsx(ek,{label:"New",tone:"success",value:e.newValue})]}),e.textDiff&&i.jsx("pre",{className:"mt-3 max-h-64 overflow-auto rounded-md border border-amber-500/20 bg-amber-500/5 p-3 text-xs text-amber-800 dark:text-amber-200",children:e.textDiff})]})}function ew({previous:e,next:t}){return(0,i.jsxs)("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[i.jsx(ek,{label:"Previous",tone:"danger",value:e}),i.jsx(ek,{label:"New",tone:"success",value:t})]})}function ek({label:e,tone:t,value:r}){return(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground",children:e}),i.jsx("pre",{className:(0,v.cn)("mt-1 max-h-64 overflow-auto whitespace-pre-wrap break-words rounded-md border p-3 text-xs","danger"===t?"border-rose-500/30 bg-rose-500/10 text-rose-800 dark:text-rose-200":"success"===t?"border-emerald-500/30 bg-emerald-500/10 text-emerald-800 dark:text-emerald-200":"border-border bg-muted text-muted-foreground"),children:function(e){if(null==e)return"Not set";if("string"==typeof e)return e.trim().length?e:"Not set";if("number"==typeof e||"boolean"==typeof e)return String(e);try{return JSON.stringify(e,null,2)}catch(t){return String(e)}}(r)})]})}function eR({label:e,value:t,tone:r}){return t?(0,i.jsxs)("span",{className:(0,v.cn)("rounded-full px-2 py-0.5 text-[11px] font-semibold",{added:"bg-sky-500/10 text-sky-700 dark:text-sky-300",updated:"bg-amber-500/10 text-amber-700 dark:text-amber-300",removed:"bg-rose-500/10 text-rose-700 dark:text-rose-300",moved:"bg-purple-500/10 text-purple-700 dark:text-purple-300"}[r]),children:[e,": ",t]}):null}},18897:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var i=r(19510);r(71159);var s=r(46145),n=r(50650);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...r}){return i.jsx("div",{className:(0,n.cn)(l({variant:t}),e),...r})}},17747:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(0,r(68570).createProxy)(String.raw`/home/watkay/ReactProjects/neotree-editor/components/ui/separator.tsx#Separator`)}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[9380,1744,1337,3788,2758,9092,4901,4263,1121,3579,6360,1098,868,413,6267,5002,6741,8781,1162,7939,5241,2418,2724,1271,3173,7645,5862,8353],()=>r(68510));module.exports=i})();