(()=>{var e={};e.id=4075,e.ids=[4075],e.modules={67096:e=>{"use strict";e.exports=require("bcrypt")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},49411:e=>{"use strict";e.exports=require("node:path")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},27791:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>f,originalPathname:()=>b,pages:()=>o,routeModule:()=>h,tree:()=>n}),s(17357),s(81928),s(56367),s(12699),s(69684),s(96560);var t=s(23191),r=s(88716),d=s(37922),i=s.n(d),c=s(95231),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);s.d(a,l);let n=["",{children:["(dashboard)",{children:["hospitals",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,17357)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(dashboard)/hospitals/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,81928)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(dashboard)/hospitals/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,56367)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(dashboard)/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,12699)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(dashboard)/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,69684)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/not-found.tsx"]}],o=["/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(dashboard)/hospitals/page.tsx"],b="/(dashboard)/hospitals/page",f={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/hospitals/page",pathname:"/hospitals",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},73048:(e,a,s)=>{let t={"3587bff1b8b40c65f5865326c885942cf0db5e9e":()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.$$ACTION_4),"3c56d7ce36ee4d8d0281afafe6eee9310b0b1654":()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.deleteHospitals),"4d3efe0c4ece005691da0b0285728b17fb230b01":()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.$$ACTION_3),"5713a6fd71779a04f540a06e5e613a4939090a9b":()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.$$ACTION_0),"671906d85ccc63e5e47168ff4716f835db5e69eb":()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.getHospitals),"69a3c9a16de410213b0554c366b618c4fc7627cb":()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.getHospital),"6bb90b144ce2739e2ebb2360f140bfcb26941837":()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.countHospitals),cbf90680ca26b9a0028d1714fb51618089f0e380:()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.saveHospitals),e0a27e8a7773580c75293c2a82a738cd87a24345:()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.$$ACTION_1),e99a61aadf3a687f5e5f362e8931f54b110ed1c8:()=>Promise.resolve().then(s.bind(s,2111)).then(e=>e.$$ACTION_2),"1d060a829ac08f6adb4ed6f259c6c0d117feea4b":()=>Promise.resolve().then(s.bind(s,66267)).then(e=>e.canAccessPage),c474998fd6b8a9785a09ad9fa5995661f28c6c5b:()=>Promise.resolve().then(s.bind(s,66267)).then(e=>e.isAllowed),"0b2fbd1c3a054fb1b76c33cf025c25b5d80cbadf":()=>Promise.resolve().then(s.bind(s,40801)).then(e=>e.getAuthenticatedUserWithRoles),"25ea7ea3dd7527b3c13d4af3d456f9d5e4cff350":()=>Promise.resolve().then(s.bind(s,40801)).then(e=>e.getSession),"44218771357d06d79311b6d6641a20c018bafd37":()=>Promise.resolve().then(s.bind(s,40801)).then(e=>e.getAuthenticatedUser),"33d8b15ec8dd98c91eac63d85211264cf0a630b8":()=>Promise.resolve().then(s.bind(s,60563)).then(e=>e.$$ACTION_1),"458e0bb776cc3d544fd3487595ecc0d4d43114fc":()=>Promise.resolve().then(s.bind(s,60563)).then(e=>e.$$ACTION_0),"62ecd67a03f8f29d7d9a14399a69f12cd0186bad":()=>Promise.resolve().then(s.bind(s,60563)).then(e=>e.updateSys),b0d634be4cc158e4043dd09673ee30e8e18999af:()=>Promise.resolve().then(s.bind(s,60563)).then(e=>e.getSys),"0932b498af758e0d8694dc250d47ebe7bbca07a5":()=>Promise.resolve().then(s.bind(s,82065)).then(e=>e.saveSites),"0c0d3a976a0d3670bfcd783a4eda74ef47d08486":()=>Promise.resolve().then(s.bind(s,82065)).then(e=>e.$$ACTION_0),"5b48ed62feab062b6a59d78923b800261fabf809":()=>Promise.resolve().then(s.bind(s,82065)).then(e=>e.getSitesWithoutConfidentialData),be771f0e9c5891a4c2456a961c9b49833997f72e:()=>Promise.resolve().then(s.bind(s,82065)).then(e=>e.getSite),fb88c3f5187f1ae67c65c11fdc8ca29dc4350c9d:()=>Promise.resolve().then(s.bind(s,82065)).then(e=>e.getSites),"1deaec5322a5d4e3e3d426178bd61a39c0c28ae9":()=>Promise.resolve().then(s.bind(s,71271)).then(e=>e.publishData),"3b2ac91bc81489809370d893a7d7c83a162e1a96":()=>Promise.resolve().then(s.bind(s,71271)).then(e=>e.countAllDrafts),"64f3a633dace3ede963f725b16dc2b5f210bdd56":()=>Promise.resolve().then(s.bind(s,71271)).then(e=>e.$$ACTION_1),"6631df3cf85446a0818ac2dde947f63d2fad6c89":()=>Promise.resolve().then(s.bind(s,71271)).then(e=>e.$$ACTION_0),"7b75f487e334a946b63829017d9aa902b59378e0":()=>Promise.resolve().then(s.bind(s,71271)).then(e=>e.getEditorDetails),"893d510641fbd37b4cbe2a75916de7869dd43ca6":()=>Promise.resolve().then(s.bind(s,71271)).then(e=>e.revalidatePath),e8515d84060942f8f3866c65cc44204f02ef54e2:()=>Promise.resolve().then(s.bind(s,71271)).then(e=>e.discardDrafts)};async function r(e,...a){return(await t[e]()).apply(null,a)}e.exports={"3587bff1b8b40c65f5865326c885942cf0db5e9e":r.bind(null,"3587bff1b8b40c65f5865326c885942cf0db5e9e"),"3c56d7ce36ee4d8d0281afafe6eee9310b0b1654":r.bind(null,"3c56d7ce36ee4d8d0281afafe6eee9310b0b1654"),"4d3efe0c4ece005691da0b0285728b17fb230b01":r.bind(null,"4d3efe0c4ece005691da0b0285728b17fb230b01"),"5713a6fd71779a04f540a06e5e613a4939090a9b":r.bind(null,"5713a6fd71779a04f540a06e5e613a4939090a9b"),"671906d85ccc63e5e47168ff4716f835db5e69eb":r.bind(null,"671906d85ccc63e5e47168ff4716f835db5e69eb"),"69a3c9a16de410213b0554c366b618c4fc7627cb":r.bind(null,"69a3c9a16de410213b0554c366b618c4fc7627cb"),"6bb90b144ce2739e2ebb2360f140bfcb26941837":r.bind(null,"6bb90b144ce2739e2ebb2360f140bfcb26941837"),cbf90680ca26b9a0028d1714fb51618089f0e380:r.bind(null,"cbf90680ca26b9a0028d1714fb51618089f0e380"),e0a27e8a7773580c75293c2a82a738cd87a24345:r.bind(null,"e0a27e8a7773580c75293c2a82a738cd87a24345"),e99a61aadf3a687f5e5f362e8931f54b110ed1c8:r.bind(null,"e99a61aadf3a687f5e5f362e8931f54b110ed1c8"),"1d060a829ac08f6adb4ed6f259c6c0d117feea4b":r.bind(null,"1d060a829ac08f6adb4ed6f259c6c0d117feea4b"),c474998fd6b8a9785a09ad9fa5995661f28c6c5b:r.bind(null,"c474998fd6b8a9785a09ad9fa5995661f28c6c5b"),"0b2fbd1c3a054fb1b76c33cf025c25b5d80cbadf":r.bind(null,"0b2fbd1c3a054fb1b76c33cf025c25b5d80cbadf"),"25ea7ea3dd7527b3c13d4af3d456f9d5e4cff350":r.bind(null,"25ea7ea3dd7527b3c13d4af3d456f9d5e4cff350"),"44218771357d06d79311b6d6641a20c018bafd37":r.bind(null,"44218771357d06d79311b6d6641a20c018bafd37"),"33d8b15ec8dd98c91eac63d85211264cf0a630b8":r.bind(null,"33d8b15ec8dd98c91eac63d85211264cf0a630b8"),"458e0bb776cc3d544fd3487595ecc0d4d43114fc":r.bind(null,"458e0bb776cc3d544fd3487595ecc0d4d43114fc"),"62ecd67a03f8f29d7d9a14399a69f12cd0186bad":r.bind(null,"62ecd67a03f8f29d7d9a14399a69f12cd0186bad"),b0d634be4cc158e4043dd09673ee30e8e18999af:r.bind(null,"b0d634be4cc158e4043dd09673ee30e8e18999af"),"0932b498af758e0d8694dc250d47ebe7bbca07a5":r.bind(null,"0932b498af758e0d8694dc250d47ebe7bbca07a5"),"0c0d3a976a0d3670bfcd783a4eda74ef47d08486":r.bind(null,"0c0d3a976a0d3670bfcd783a4eda74ef47d08486"),"5b48ed62feab062b6a59d78923b800261fabf809":r.bind(null,"5b48ed62feab062b6a59d78923b800261fabf809"),be771f0e9c5891a4c2456a961c9b49833997f72e:r.bind(null,"be771f0e9c5891a4c2456a961c9b49833997f72e"),fb88c3f5187f1ae67c65c11fdc8ca29dc4350c9d:r.bind(null,"fb88c3f5187f1ae67c65c11fdc8ca29dc4350c9d"),"1deaec5322a5d4e3e3d426178bd61a39c0c28ae9":r.bind(null,"1deaec5322a5d4e3e3d426178bd61a39c0c28ae9"),"3b2ac91bc81489809370d893a7d7c83a162e1a96":r.bind(null,"3b2ac91bc81489809370d893a7d7c83a162e1a96"),"64f3a633dace3ede963f725b16dc2b5f210bdd56":r.bind(null,"64f3a633dace3ede963f725b16dc2b5f210bdd56"),"6631df3cf85446a0818ac2dde947f63d2fad6c89":r.bind(null,"6631df3cf85446a0818ac2dde947f63d2fad6c89"),"7b75f487e334a946b63829017d9aa902b59378e0":r.bind(null,"7b75f487e334a946b63829017d9aa902b59378e0"),"893d510641fbd37b4cbe2a75916de7869dd43ca6":r.bind(null,"893d510641fbd37b4cbe2a75916de7869dd43ca6"),e8515d84060942f8f3866c65cc44204f02ef54e2:r.bind(null,"e8515d84060942f8f3866c65cc44204f02ef54e2")}},70746:(e,a,s)=>{Promise.resolve().then(s.bind(s,43807)),Promise.resolve().then(s.bind(s,10827))},50064:(e,a,s)=>{Promise.resolve().then(s.bind(s,77228))},43807:(e,a,s)=>{"use strict";s.d(a,{HospitalsTable:()=>q});var t=s(10326),r=s(17577),d=s(85999),i=s(44099),c=s(83855),l=s(77228),n=s(90772),o=s(11870),b=s(12260),f=s(46670),h=s(39447),p=s(47035),u=s(60097);function m({hospitalId:e,hospitalName:a,onDelete:s}){let r=(0,b.l)();return t.jsx(t.Fragment,{children:(0,t.jsxs)(u.h_,{children:[t.jsx(u.$F,{asChild:!0,children:t.jsx(n.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:t.jsx(h.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(u.AW,{children:[t.jsx(u.Ju,{children:a}),t.jsx(u.VD,{}),t.jsx(u.Xi,{onClick:()=>r.push({hospitalId:e}),children:"Edit"}),t.jsx(u.VD,{}),(0,t.jsxs)(u.Xi,{onClick:s,className:"text-danger focus:bg-danger focus:text-danger-foreground",children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),t.jsx("span",{children:"Delete"})]})]})]})})}var x=s(90748),g=s(47463),v=s(74723),y=s(7890),w=s(54432),j=s(31048),N=s(96221);function P({open:e,hospitalId:a,getHospital:s,onClose:d,saveHospitals:c,onSaveSuccess:l}){(0,r.useRef)(!1);let{alert:f}=(0,N.s)(),{parsed:h,replace:p}=(0,b.l)(),u=a||h.hospitalId,[m,P]=(0,r.useState)(!1),[q,C]=(0,r.useState)(!1),[,_]=(0,r.useState)(),{setValue:H,register:I,handleSubmit:R}=(0,v.cI)({defaultValues:{id:null,hospitalId:u||(0,g.Z)(),name:""}});(0,r.useCallback)(async()=>{if(u){P(!0);try{let{data:e,errors:a}=(await i.Z.get("/api/hospitals/"+u)).data,s=a?.join?.(", ");if(s)throw s;_(e),e&&(H("id",e.id),H("hospitalId",e.hospitalId),H("name",e.name))}catch(e){f({title:"",message:"Failed to load hospital: "+e.message,variant:"error",onClose:()=>p({hospitalId:void 0})})}finally{P(!1)}}},[u,p,f,H,s]);let Z=R(e=>{(async()=>{try{C(!0);let a=[{...e,id:e.id||void 0}],{errors:s}=(await i.Z.post("/api/hospitals/save",{data:a})).data;if(s?.length)throw Error(s.join(", "));l&&await l(),f({variant:"success",message:"Hospital was saved successfully!",onClose:()=>{d?.(),p({hospitalId:void 0})}})}catch(e){f({title:"",message:"Failed to save hospital: "+e.message,variant:"error"})}finally{C(!1)}})()});return m?t.jsx(o.a,{overlay:!0}):(0,t.jsxs)(t.Fragment,{children:[q&&t.jsx(o.a,{overlay:!0}),(0,t.jsxs)(y.yo,{open:e||!!h.hospitalId,onOpenChange:()=>{d?.(),p({hospitalId:void 0})},children:[t.jsx(y.aM,{asChild:!0,children:t.jsx(n.z,{className:"md:hidden",variant:"ghost",children:t.jsx(x.Z,{className:"h-6 w-6"})})}),(0,t.jsxs)(y.ue,{side:"right",className:"p-0 m-0 flex flex-col",children:[t.jsx(y.Tu,{className:"py-2 px-4 border-b border-b-border",children:(0,t.jsxs)(y.bC,{children:[u?"Edit":"New"," Hospital"]})}),t.jsx("div",{className:"flex-1 flex flex-col py-2 px-4 gap-y-4 overflow-y-auto",children:(0,t.jsxs)("div",{children:[t.jsx(j._,{htmlFor:"name",children:"Hospital Name"}),t.jsx(w.I,{...I("name",{required:!0,disabled:q}),placeholder:"Hospital Name",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0"})]})}),(0,t.jsxs)("div",{className:"border-t border-t-border px-4 py-2 flex justify-end gap-x-2",children:[t.jsx(y.sw,{asChild:!0,children:t.jsx(n.z,{variant:"outline",children:"Cancel"})}),t.jsx(n.z,{onClick:Z,children:"Save"})]})]})]})]})}function q({hospitals:e,getHospitals:a,deleteHospitals:s,getHospital:h,saveHospitals:p}){let u=(0,b.l)(),[x,g]=(0,r.useState)(e),[v,y]=(0,r.useState)(!1),[w,j]=(0,r.useState)([]),[N,q]=(0,r.useState)(!1),{confirm:C}=(0,f.t)(),_=(0,r.useCallback)(async(e,a)=>{y(!0);let s=(await i.Z.get("/api/hospitals?data="+JSON.stringify({...u.parsed}))).data,t=s.errors?.join?.(", ");t?d.Am.error(t):(g(s),j([])),a?.(t,s),y(!1)},[a,u,e]),H=(0,r.useCallback)((e,a)=>{let s=x.data.filter(a=>e.includes(a.hospitalId)).map(e=>e.name);C(()=>{(async()=>{try{y(!0),await i.Z.delete("/api/hospitals?data="+JSON.stringify({hospitalsIds:e})),await _(),a?.()}catch(e){d.Am.error(e.message)}finally{y(!1)}})()},{title:"Delete "+(s.length>1?"hospitals":"hospital"),message:`<p>Are you sure you want to delete:</p> ${s.map(e=>`<div class="font-bold text-danger">${e}</div>`).join("")}`,negativeLabel:"Cancel",positiveLabel:"Delete",danger:!0})},[C,s,_,x]),I=u.parsed.hospitalId||N?t.jsx(P,{open:N,getHospital:h,saveHospitals:p,onSaveSuccess:_,onClose:()=>q(!1)}):null;return(0,t.jsxs)("div",{className:"flex flex-col",children:[t.jsx(l.DataTable,{selectable:!0,title:"Hospitals",search:{inputPlaceholder:"Search hospitals"},headerActions:(0,t.jsxs)(n.z,{variant:"outline",className:"w-auto h-auto border-primary text-primary",onClick:()=>q(e=>!e),children:[t.jsx(c.Z,{className:"w-4 h-4 mr-1"}),t.jsx("span",{children:"New Hospital"})]}),selectedIndexes:w,onSelect:j,columns:[{name:"Name"},{name:"Action",align:"right",cellRenderer(e){let a=x.data[e.rowIndex];return t.jsx(m,{hospitalId:a.hospitalId,hospitalName:a.name,onDelete:()=>H([a.hospitalId])})}}],data:x.data.map(e=>[e.name,""])}),I,v&&t.jsx(o.a,{overlay:!0})]})}},31048:(e,a,s)=>{"use strict";s.d(a,{_:()=>n});var t=s(10326),r=s(17577),d=s(34478),i=s(28671),c=s(77863);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=r.forwardRef(({className:e,secondary:a,error:s,...r},i)=>t.jsx(d.f,{ref:i,className:(0,c.cn)(l(),a&&"text-xs",s?"text-danger":"",e),...r}));n.displayName=d.f.displayName},39447:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(62881).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},83855:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},47035:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(62881).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},81928:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var t=s(19510),r=s(21113),d=s(24569),i=s(46697);function c(){return t.jsx(d.V,{children:t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"p-0",children:t.jsx(r.w,{loading:!0,maxRows:25,columns:[{name:"Name"},{name:"Action",align:"right",cellClassName:"w-20"}],data:[]})})})})}},17357:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>h});var t=s(19510),r=s(2111),d=s(24569),i=s(85431),c=s(46697),l=s(68570);let n=(0,l.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(dashboard)/hospitals/components/table.tsx`),{__esModule:o,$$typeof:b}=n;n.default;let f=(0,l.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/app/(dashboard)/hospitals/components/table.tsx#HospitalsTable`);async function h({searchParams:{page:e}}){let[a]=await Promise.all([(0,r.getHospitals)()]);return(0,t.jsxs)(t.Fragment,{children:[t.jsx(i.D,{children:"Hospitals"}),t.jsx(d.V,{children:a.errors?.length?t.jsx(c.Zb,{className:"border-danger bg-danger/20 text-center",children:t.jsx(c.aY,{children:t.jsx("div",{className:"text-danger",children:a.errors.join(", ")})})}):t.jsx(c.Zb,{children:t.jsx(c.aY,{className:"p-0",children:t.jsx(f,{hospitals:a,getHospitals:r.getHospitals,deleteHospitals:r.deleteHospitals,getHospital:r.getHospital,saveHospitals:r.saveHospitals})})})})]})}},2111:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$ACTION_0:()=>u,$$ACTION_1:()=>x,$$ACTION_2:()=>v,$$ACTION_3:()=>w,$$ACTION_4:()=>N,countHospitals:()=>m,deleteHospitals:()=>p,getHospital:()=>y,getHospitals:()=>g,saveHospitals:()=>j});var t=s(24330);s(60166);var r=s(57745),d=s(57435),i=s(10413),c=s(57418),l=s(88317);async function n(e){let a={success:!1};try{let s=e.filter(e=>e.id),t=e.filter(e=>!e.id),d=[];for(let e of s)try{await i.Z.update(c.hospitals).set(e).where((0,r.eq)(c.hospitals.id,e.id))}catch(e){d.push(e.message)}t.length&&await i.Z.insert(c.hospitals).values(t),d.length?a.errors=d:a.success=!0}catch(e){a.success=!1,a.errors=[e.message],d.Z.error("_saveHospitals ERROR",e.message)}finally{return a?.errors?.length||l.Z.emit("data_changed","save_hospitals"),a}}async function o(e){let a={success:!1},{ids:s,hospitalsIds:t,confirmDeleteAll:n}={...e};try{let e=[s?.length?(0,r.d3)(c.hospitals.id,s):void 0,t?.length?(0,r.d3)(c.hospitals.hospitalId,t):void 0].filter(e=>e);if(!e.length&&!n)throw Error("Please confirm that you want to delete all the hospitals!");await i.Z.delete(c.hospitals).where((0,r.xD)(...e)),a.success=!0}catch(e){a.success=!1,a.errors=[e.message],d.Z.error("_deleteHospitals ERROR",e.message)}finally{return a?.errors?.length||l.Z.emit("data_changed","delete_hospitals"),a}}var b=s(88453),f=s(66267),h=s(40618);let p=(0,t.j)("5713a6fd71779a04f540a06e5e613a4939090a9b",u);async function u(...e){try{return await (0,f.isAllowed)(),await o(...e)}catch(e){return d.Z.error("deleteHospitals ERROR",e.message),{errors:[e.message],success:!1}}}let m=(0,t.j)("e0a27e8a7773580c75293c2a82a738cd87a24345",x);async function x(...e){try{return await (0,f.isAllowed)(),await (0,b.Py)(...e)}catch(e){return d.Z.error("countHospitals ERROR",e.message),{errors:[e.message],data:0}}}let g=(0,t.j)("e99a61aadf3a687f5e5f362e8931f54b110ed1c8",v);async function v(...e){try{return await (0,f.isAllowed)(),await (0,b.O8)(...e)}catch(e){return d.Z.error("getHospitals ERROR",e.message),{errors:[e.message],data:[]}}}let y=(0,t.j)("4d3efe0c4ece005691da0b0285728b17fb230b01",w);async function w(...e){return await (0,f.isAllowed)(),await (0,b.C9)(...e)}let j=(0,t.j)("3587bff1b8b40c65f5865326c885942cf0db5e9e",N);async function N(...e){try{return await (0,f.isAllowed)(),await n(...e)}catch(e){return d.Z.error("getSys ERROR",e.message),{errors:[e.message],data:void 0,success:!1}}}(0,h.h)([p,m,g,y,j]),(0,t.j)("3c56d7ce36ee4d8d0281afafe6eee9310b0b1654",p),(0,t.j)("6bb90b144ce2739e2ebb2360f140bfcb26941837",m),(0,t.j)("671906d85ccc63e5e47168ff4716f835db5e69eb",g),(0,t.j)("69a3c9a16de410213b0554c366b618c4fc7627cb",y),(0,t.j)("cbf90680ca26b9a0028d1714fb51618089f0e380",j)},24569:(e,a,s)=>{"use strict";s.d(a,{V:()=>d});var t=s(19510),r=s(50650);function d({className:e,...a}){return t.jsx("div",{...a,className:(0,r.cn)("w-full max-w-screen-xl mx-auto p-5",e)})}},21113:(e,a,s)=>{"use strict";s.d(a,{w:()=>c});var t=s(68570);let r=(0,t.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/components/data-table/index.tsx`),{__esModule:d,$$typeof:i}=r;r.default;let c=(0,t.createProxy)(String.raw`/Users/lafarai/Werq/BWS/NeoTree/neotree-webeditor/components/data-table/index.tsx#DataTable`)},46697:(e,a,s)=>{"use strict";s.d(a,{Zb:()=>i,aY:()=>c});var t=s(19510),r=s(71159),d=s(50650);let i=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",e),...a})).displayName="CardHeader",r.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a})).displayName="CardTitle",r.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let c=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,d.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,d.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},88453:(e,a,s)=>{"use strict";s.d(a,{Py:()=>b,C9:()=>n,O8:()=>l});var t=s(57745),r=s(30900),d=s(10413),i=s(57418),c=s(57435);async function l(e){try{let{hospitalsIds:a}={...e},s=a||[],c=s?.length?(0,t.d3)(i.hospitals.hospitalId,s.filter(e=>r.Z(e))):void 0,l=s?.length?(0,t.d3)(i.hospitals.oldHospitalId,s.filter(e=>!r.Z(e))):void 0,n=[(0,t.Ft)(i.hospitals.deletedAt),...c&&l?[(0,t.or)(c,l)]:[]];return{data:(await d.Z.select({hospital:i.hospitals}).from(i.hospitals).where(n.length?(0,t.xD)(...n):void 0)).map(e=>e.hospital)}}catch(e){return c.Z.error("_getHospitals ERROR",e.message),{data:[],errors:[e.message]}}}async function n(e){let{hospitalId:a}={...e};try{if(!a)throw Error("Missing hospitalId");let e=r.Z(a)?(0,t.eq)(i.hospitals.hospitalId,a):void 0,s=r.Z(a)?void 0:(0,t.eq)(i.hospitals.oldHospitalId,a);return{data:await d.Z.query.hospitals.findFirst({where:(0,t.xD)((0,t.Ft)(i.hospitals.deletedAt),e||s)})}}catch(e){return c.Z.error("_getHospital ERROR",e.message),{errors:[e.message]}}}var o=s(60938);async function b(){try{let[{count:e}]=await d.Z.select({count:(0,o.QX)()}).from(i.hospitals);return{data:e}}catch(e){return c.Z.error("_getHospitals ERROR",e.message),{data:0,errors:[e.message]}}}},34478:(e,a,s)=>{"use strict";s.d(a,{f:()=>c});var t=s(17577),r=s(45226),d=s(10326),i=t.forwardRef((e,a)=>(0,d.jsx)(r.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var c=i}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[1633,1744,1381,3788,1490,9092,5802,7708,6620,9387,7938,4723,1813,6943,413,6267,5209,1966,1271,3856,565,7228],()=>s(27791));module.exports=t})();