"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3310],{43310:function(e,l,a){a.d(l,{ScriptForm:function(){return B}});var s=a(57437),t=a(46294),i=a(50495),n=a(83102),r=a(67135),d=a(39661),o=a(15701),c=a(37440),u=a(86466),h=a(85070),m=a(83146),x=a(2265),p=a(39343),f=a(24258),j=a(92513),v=a(45188),y=a(99913),b=a(90399),g=a(95317),N=a(46910),w=a(90837),C=a(9704),I=a(75944),S=a(18934),D=a(93146),k=a(76230),F=a(78591);function T(e){var l;let{disabled:a,form:{watch:t,setValue:n,getDefaultNuidSearchFields:r}}=e,d=t("nuidSearchFields"),o=t("nuidSearchEnabled"),[c,u]=(0,x.useState)(),[h,m]=(0,x.useState)(o),[p,w]=(0,x.useState)(),[C,S]=(0,x.useState)(!1);(0,x.useEffect)(()=>{o&&!h&&S(!0),m(o)},[h,o]);let{confirm:D}=(0,k.t)(),F=(0,x.useCallback)(e=>{D(()=>n("nuidSearchFields",d.filter((l,a)=>a!==e),{shouldDirty:!0}),{danger:!0,title:"Delete field",message:"Are you sure you want to delete field?",positiveLabel:"Delete",negativeLabel:"Cancel"})},[d,D,n]),T=(0,x.useCallback)(()=>{},[]);return(0,s.jsxs)(s.Fragment,{children:[!!c&&(0,s.jsx)(_,{open:!0,field:null==c?void 0:c.field,fieldType:null==c?void 0:null===(l=c.field)||void 0===l?void 0:l.type,onClose:()=>u(void 0),onChange:e=>{n("nuidSearchFields",d.map((l,a)=>a===(null==c?void 0:c.index)?{...l,...e}:l),{shouldDirty:!0}),u(void 0)}}),!!p&&(0,s.jsx)(_,{open:!0,fieldType:p,onClose:()=>w(void 0),onChange:e=>{n("nuidSearchFields",[...d,{...e,type:p}],{shouldDirty:!0}),w(void 0)}}),(0,s.jsxs)(g.yo,{open:C,onOpenChange:e=>{e||S(!1)},children:[o&&(0,s.jsx)(g.aM,{asChild:!0,children:(0,s.jsx)("a",{href:"#",className:"text-muted-foreground hover:text-primary",onClick:e=>{e.preventDefault(),S(!0)},children:(0,s.jsx)(f.Z,{className:"w-4 h-4 mr-1"})})}),(0,s.jsxs)(g.ue,{hideCloseButton:!0,side:"right",className:"p-0 m-0 flex flex-col w-full max-w-full sm:max-w-[80%] md:max-w-[80%] lg:max-w-[50%]",children:[(0,s.jsxs)(g.Tu,{className:"flex flex-row items-center py-2 px-4 border-b border-b-border text-left sm:text-left",children:[(0,s.jsx)(g.bC,{children:"Configure NUID Search page"}),(0,s.jsx)(g.Ei,{className:"hidden"})]}),(0,s.jsx)("div",{className:"flex-1 flex flex-col py-2 px-0 gap-y-4 overflow-y-auto",children:(0,s.jsx)(I.DataTable,{title:"Fields",sortable:!0,headerActions:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(N.h_,{children:[(0,s.jsx)(N.$F,{asChild:!0,children:(0,s.jsxs)(i.z,{variant:"ghost",disabled:a,children:[(0,s.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Add field"]})}),(0,s.jsxs)(N.AW,{children:[(0,s.jsx)(N.Xi,{className:"focus:text-primary focus:bg-primary/20",onClick:()=>w("dropdown"),children:"Yes/No"}),(0,s.jsx)(N.Xi,{onClick:()=>w("text"),children:"NUID Search"})]})]})}),columns:[{name:"Type"},{name:"Key"},{name:"Label"},{name:"Condition"},{name:"Action",align:"right",cellRenderer(e){let{rowIndex:l}=e,t=d[l];return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(N.h_,{children:[(0,s.jsx)(N.$F,{asChild:!0,children:(0,s.jsx)(i.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:(0,s.jsx)(v.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(N.AW,{children:[(0,s.jsxs)(N.Xi,{className:"focus:text-primary focus:bg-primary/20",onClick:()=>u({index:l,field:t}),children:[(0,s.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,s.jsxs)(N.Xi,{disabled:a,onClick:()=>F(l),className:"text-danger focus:bg-danger focus:text-danger-foreground",children:[(0,s.jsx)(b.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Delete"})]})]})]})})}}],data:d.map(e=>[e.type,e.key,e.label,e.condition,""])})}),(0,s.jsxs)("div",{className:"border-t border-t-border px-4 py-2 flex gap-x-2",children:[(0,s.jsx)("div",{className:"ml-auto"}),(0,s.jsx)(g.sw,{asChild:!0,children:(0,s.jsx)(i.z,{variant:"ghost",onClick:()=>{},children:"Cancel"})}),(0,s.jsx)(g.sw,{asChild:!0,children:(0,s.jsx)(i.z,{onClick:()=>T(),disabled:a,children:"Save"})})]})]})]})]})}function _(e){let{open:l,field:a,fieldType:t,onChange:d,onClose:o}=e,{getDefaultValues:c}=(0,S.U)({...a,type:t}),{watch:u,register:h,handleSubmit:m}=(0,p.cI)({defaultValues:c()}),f=u("type"),j=u("values"),v=m(d),y=(0,x.useMemo)(()=>"dropdown"===f?(0,F.s)(j):[],[j,f]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(C.u,{title:a?"Edit field":"Add field",open:l,onOpenChange:e=>{e||o()},actions:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-sm text-danger",children:"* Required"}),(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsx)(w.GG,{asChild:!0,children:(0,s.jsx)(i.z,{variant:"ghost",children:"Cancel"})}),(0,s.jsx)(i.z,{onClick:()=>v(),disabled:!!y.length,children:"Save"})]}),children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r._,{htmlFor:"label",children:"Label *"}),(0,s.jsx)(n.I,{...h("label",{required:!0})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(r._,{htmlFor:"key",children:"Key *"}),(0,s.jsx)(n.I,{...h("key",{required:!0})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(r._,{htmlFor:"condition",children:"Condition"}),(0,s.jsx)(n.I,{...h("condition",{required:!1})})]}),"dropdown"===f&&(0,s.jsxs)("div",{children:[(0,s.jsx)(r._,{htmlFor:"values",children:"Options *"}),(0,s.jsx)(D.g,{...h("values",{required:!0}),rows:5}),!!y.length&&(0,s.jsx)("span",{className:"text-xs text-danger",children:y.join(", ")})]})]})})})}var E=a(84760),V=a(16463),z=a(87138),R=a(88519);function Z(e){let{disabled:l}=e,[a,t]=(0,x.useState)(!1),{scriptId:n}=(0,V.useParams)();return l?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.d,{open:a,onOpenChange:t,onImportSuccess:()=>window.location.reload()}),(0,s.jsx)("div",{className:" fixed bottom-5 right-10 z-[1] ",children:(0,s.jsxs)(N.h_,{children:[(0,s.jsx)(N.$F,{asChild:!0,children:(0,s.jsx)(i.z,{size:"icon",className:"rounded-full w-12 h-12",children:(0,s.jsx)(j.Z,{className:"h-6 w-6"})})}),(0,s.jsxs)(N.AW,{children:[(0,s.jsx)(N.Xi,{onClick:()=>t(!0),children:"Import script"}),(0,s.jsx)(N.Xi,{asChild:!0,children:(0,s.jsx)(z.default,{href:"/script/".concat(n,"/new-screen"),children:"New screen"})}),(0,s.jsx)(N.Xi,{asChild:!0,children:(0,s.jsx)(z.default,{href:"/script/".concat(n,"/new-diagnosis"),children:"New diagnosis"})})]})]})})]})}var K=a(38472),P=a(76905),U=a(21453),Y=a(53699),A=a(17647);function B(e){let{onCancelScriptForm:l}=(0,o.h)(),a=function(e){let{formData:l}=e,{alert:a}=(0,Y.s)(),{viewOnly:s}=(0,A.b)(),t=(0,V.useRouter)(),[i,n]=(0,x.useState)(!1),{saveScripts:r}=(0,o.h)(),d=(0,x.useCallback)(()=>({position:(null==l?void 0:l.position)||void 0,scriptId:(null==l?void 0:l.scriptId)||void 0,type:(null==l?void 0:l.type)||m.m1[0].value,title:(null==l?void 0:l.title)||"",printTitle:(null==l?void 0:l.printTitle)||"",description:(null==l?void 0:l.description)||"",hospitalId:(null==l?void 0:l.hospitalId)||null,exportable:!!(0,U.x)(null==l?void 0:l.exportable)||(null==l?void 0:l.exportable),nuidSearchEnabled:!(0,U.x)(null==l?void 0:l.nuidSearchEnabled)&&(null==l?void 0:l.nuidSearchEnabled),nuidSearchFields:(null==l?void 0:l.nuidSearchFields)||[]}),[l]),c=(0,p.cI)({defaultValues:d()}),u=(0,x.useCallback)(()=>{var e;c.getValues("nuidSearchFields");let a=c.getValues("type"),s=c.getValues("nuidSearchEnabled"),t=(null==l?void 0:null===(e=l.nuidSearchFields)||void 0===e?void 0:e.length)?l.nuidSearchFields:"admission"===a?P.fR.admission:P.fR.other;return s||(t=[]),t},[c,null==l?void 0:l.nuidSearchFields]),{handleSubmit:h,formState:{dirtyFields:f}}=c,j=(0,x.useMemo)(()=>!!Object.keys(f).length,[f]),v=h(async e=>{var l;n(!0);let s=(await K.Z.post("/api/scripts/save",{data:[e],broadcastAction:!0})).data;(null===(l=s.errors)||void 0===l?void 0:l.length)?a({title:"Error",message:s.errors.join(", "),variant:"error"}):(t.refresh(),a({title:"Success",message:"Scripts saved successfully!",variant:"success",onClose:()=>t.push("/")})),n(!1)}),y=(0,x.useMemo)(()=>s,[s]);return{...e,...c,formIsDirty:j,loading:i,disabled:y,setLoading:n,getDefaultFormValues:d,getDefaultNuidSearchFields:u,onSubmit:v}}(e),{formData:f,formIsDirty:j,hospitals:v,loading:y,disabled:b,reset:g,watch:N,setValue:w,register:C,getDefaultFormValues:I,getDefaultNuidSearchFields:S,onSubmit:D}=a,k=N("type"),F=N("hospitalId"),_=N("exportable");N("nuidSearchFields");let z=N("nuidSearchEnabled");return(0,s.jsxs)(s.Fragment,{children:[y&&(0,s.jsx)(d.a,{overlay:!0}),(0,s.jsx)(Z,{disabled:b,resetForm:()=>g(I())}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 [&>*]:px-4",children:[(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.D,{children:"Type"}),(0,s.jsx)("div",{children:(0,s.jsx)(h.E,{disabled:b,defaultValue:k,onValueChange:e=>w("type",e,{shouldDirty:!0}),className:"flex flex-col gap-y-4",children:m.m1.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(h.m,{value:e.value,id:e.value}),(0,s.jsx)(r._,{secondary:!0,htmlFor:e.value,children:e.label})]},e.value))})}),(0,s.jsx)(E.D,{className:"mt-5",children:"Hospital"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(r._,{secondary:!0,htmlFor:"hospital",children:"Hospital"}),(0,s.jsxs)(t.Ph,{value:F||"",required:!0,name:"hospital",disabled:b,onValueChange:e=>{w("hospitalId",e||null,{shouldDirty:!0})},children:[(0,s.jsx)(t.i4,{children:(0,s.jsx)(t.ki,{placeholder:"Select hospital"})}),(0,s.jsx)(t.Bw,{children:(0,s.jsxs)(t.DI,{children:[(0,s.jsx)(t.n5,{children:"Hospitals"}),v.map(e=>(0,s.jsx)(t.Ql,{value:e.hospitalId,children:e.name},e.hospitalId))]})})]})]}),(0,s.jsx)(E.D,{className:"mt-5",children:"Properties"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(r._,{secondary:!0,htmlFor:"title",children:"Title *"}),(0,s.jsx)(n.I,{...C("title",{required:!0,disabled:b}),placeholder:"Title",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(r._,{secondary:!0,htmlFor:"printTitle",children:"Print title"}),(0,s.jsx)(n.I,{...C("printTitle",{disabled:b}),placeholder:"Print title",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(r._,{secondary:!0,htmlFor:"description",children:"Description"}),(0,s.jsx)(n.I,{...C("description",{disabled:b}),placeholder:"Description",className:"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0"})]}),(0,s.jsxs)("div",{className:"flex gap-x-2",children:[(0,s.jsx)(u.X,{name:"exportable",id:"exportable",disabled:b,checked:_,onCheckedChange:()=>w("exportable",!_,{shouldDirty:!0})}),(0,s.jsx)(r._,{secondary:!0,htmlFor:"exportable",children:"Exportable"})]}),(0,s.jsx)(E.D,{className:"mt-5",children:"Neotree ID Search"}),(0,s.jsxs)("div",{className:"flex gap-x-2",children:[(0,s.jsx)(u.X,{name:"nuidSearchEnabled",id:"nuidSearchEnabled",disabled:b,checked:z,onCheckedChange:()=>{w("nuidSearchEnabled",!z,{shouldDirty:!0}),w("nuidSearchFields",S(),{shouldDirty:!0})}}),(0,s.jsx)(r._,{secondary:!0,htmlFor:"nuidSearchEnabled",children:"Enable NUID Search"}),(0,s.jsx)(T,{disabled:b,form:a})]})]}),(0,s.jsxs)("div",{className:(0,c.cn)("flex gap-x-2 py-4"),children:[(0,s.jsx)("div",{className:"ml-auto"}),(0,s.jsx)(i.z,{variant:"ghost",onClick:()=>l(),children:"Cancel"}),(0,s.jsx)(i.z,{onClick:()=>D(),disabled:!j,children:"Save draft"})]})]})]})}},88519:function(e,l,a){a.d(l,{d:function(){return b}});var s=a(57437),t=a(2265),i=a(16463),n=a(39343),r=a(38472),d=a(46294),o=a(90837),c=a(86466),u=a(53699),h=a(17647),m=a(15701),x=a(50495),p=a(39661),f=a(67135),j=a(9704),v=a(83102),y=a(37440);function b(e){var l,a;let{open:b,overWriteScriptWithId:g,onOpenChange:N,onImportSuccess:w}=e,C=(0,i.useRouter)(),I=(0,i.useParams)();g=g||I.scriptId;let{getSites:S}=(0,h.b)(),{copyScripts:D}=(0,m.h)(),{alert:k}=(0,u.s)(),[F,T]=(0,t.useState)(!1),[_,E]=(0,t.useState)({data:[]}),{formState:{errors:V},reset:z,watch:R,setValue:Z,register:K,handleSubmit:P}=(0,n.cI)({defaultValues:{siteId:"",scriptId:"",confirmed:!g}}),U=R("confirmed"),Y=(0,t.useMemo)(()=>F,[F]),A=(0,t.useCallback)(async()=>{try{var e;let l=(await r.Z.get("/api/sites?data="+JSON.stringify({types:["webeditor"]}))).data;if(null===(e=l.errors)||void 0===e?void 0:e.length)throw Error(l.errors.join(", "));E(l)}catch(e){k({title:"Error",message:"Failed to load sites: "+e.message,variant:"error",onClose:()=>N(!1)})}finally{T(!1)}},[S,k,N]),B=P(async e=>{try{var l;if(!e.siteId)throw Error("Please select a site!");if(!e.scriptId)throw Error("Please provide a script ID!");if(!e.confirmed)throw Error("Please confirm that you want to override this script!");T(!0);let a=(await r.Z.post("/api/scripts/copy",{fromRemoteSiteId:e.siteId,scriptsIds:[e.scriptId],overWriteScriptWithId:g,broadcastAction:!0})).data;if(null===(l=a.errors)||void 0===l?void 0:l.length)throw Error(a.errors.join(", "));C.refresh(),k({variant:"success",title:"Success",message:"Script imported successfully!",onClose:()=>{null==w||w(),z({siteId:"",scriptId:"",confirmed:!1}),N(!1)}})}catch(e){k({variant:"error",title:"Error",message:"Failed to import script: "+e.message})}finally{T(!1)}});return(0,t.useEffect)(()=>{b&&A()},[b,A]),(0,s.jsxs)(s.Fragment,{children:[F&&(0,s.jsx)(p.a,{overlay:!0}),(0,s.jsx)(j.u,{open:b,onOpenChange:()=>{N(!1)},title:"Import script",actions:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs text-danger",children:"* Required"}),(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsx)(o.GG,{asChild:!0,children:(0,s.jsx)(x.z,{variant:"ghost",disabled:Y,onClick:()=>N(!1),children:"Cancel"})}),(0,s.jsx)(x.z,{onClick:()=>B(),disabled:Y,children:"Import"})]}),children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(f._,{htmlFor:"siteId",children:"Site *"}),(0,s.jsxs)(d.Ph,{name:"siteId",disabled:Y,onValueChange:e=>Z("siteId",e,{shouldDirty:!0}),children:[(0,s.jsx)(d.i4,{children:(0,s.jsx)(d.ki,{placeholder:"Select site"})}),(0,s.jsx)(d.Bw,{children:(0,s.jsxs)(d.DI,{children:[(0,s.jsx)(d.n5,{children:"Sites"}),_.data.map(e=>{let{siteId:l,name:a}=e;return(0,s.jsx)(d.Ql,{value:l,children:a},l)})]})})]}),!!(null===(l=V.siteId)||void 0===l?void 0:l.message)&&(0,s.jsx)("div",{className:"text-xs text-danger mt-1",children:V.siteId.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f._,{htmlFor:"scriptId",children:"Script ID *"}),(0,s.jsx)(v.I,{...K("scriptId",{disabled:Y,required:!0}),name:"scriptId"}),!!(null===(a=V.scriptId)||void 0===a?void 0:a.message)&&(0,s.jsx)("div",{className:"text-xs text-danger mt-1",children:V.scriptId.message})]}),(0,s.jsxs)("div",{className:(0,y.cn)("flex gap-x-2",!g&&"hidden"),children:[(0,s.jsx)(c.X,{name:"confirmed",id:"confirmed",disabled:Y,checked:U,onCheckedChange:()=>Z("confirmed",!U,{shouldDirty:!0})}),(0,s.jsx)(f._,{secondary:!0,htmlFor:"exportable",children:"Confirm that you want to override this script"})]})]})})]})}},18934:function(e,l,a){a.d(l,{U:function(){return i}});var s=a(2265),t=a(20920);function i(e){return{getDefaultValues:(0,s.useCallback)(()=>({fieldId:(null==e?void 0:e.fieldId)||(0,t.Z)(),type:(null==e?void 0:e.type)||"",key:(null==e?void 0:e.key)||"",label:(null==e?void 0:e.label)||"",refKey:(null==e?void 0:e.refKey)||"",calculation:(null==e?void 0:e.calculation)||"",condition:(null==e?void 0:e.condition)||"",dataType:(null==e?void 0:e.dataType)||"",defaultValue:(null==e?void 0:e.defaultValue)||"",format:(null==e?void 0:e.format)||"",minValue:(null==e?void 0:e.minValue)||"",maxValue:(null==e?void 0:e.maxValue)||"",minDate:(null==e?void 0:e.minDate)||"",maxDate:(null==e?void 0:e.maxDate)||"",minTime:(null==e?void 0:e.minTime)||"",maxTime:(null==e?void 0:e.maxTime)||"",minDateKey:(null==e?void 0:e.minDateKey)||"",maxDateKey:(null==e?void 0:e.maxDateKey)||"",minTimeKey:(null==e?void 0:e.minTimeKey)||"",maxTimeKey:(null==e?void 0:e.maxTimeKey)||"",values:(null==e?void 0:e.values)||"",confidential:(null==e?void 0:e.confidential)||!1,optional:(null==e?void 0:e.optional)||!1,printable:(null==e?void 0:e.printable)||!1,prePopulate:(null==e?void 0:e.prePopulate)||[],...e}),[e])}}},46294:function(e,l,a){a.d(l,{Bw:function(){return f},DI:function(){return u},Ph:function(){return c},Ql:function(){return v},i4:function(){return m},ki:function(){return h},n5:function(){return j}});var s=a(57437),t=a(2265),i=a(48297),n=a(42421),r=a(14392),d=a(22468),o=a(37440);let c=i.fC,u=i.ZA,h=i.B4,m=t.forwardRef((e,l)=>{let{className:a,children:t,error:r,...d}=e;return(0,s.jsxs)(i.xz,{ref:l,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r&&"border-danger",a),...d,children:[t,(0,s.jsx)(i.JO,{asChild:!0,children:(0,s.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.xz.displayName;let x=t.forwardRef((e,l)=>{let{className:a,...t}=e;return(0,s.jsx)(i.u_,{ref:l,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,s.jsx)(r.Z,{className:"h-4 w-4"})})});x.displayName=i.u_.displayName;let p=t.forwardRef((e,l)=>{let{className:a,...t}=e;return(0,s.jsx)(i.$G,{ref:l,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})})});p.displayName=i.$G.displayName;let f=t.forwardRef((e,l)=>{let{className:a,children:t,position:n="popper",...r}=e;return(0,s.jsx)(i.h_,{children:(0,s.jsxs)(i.VY,{ref:l,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...r,children:[(0,s.jsx)(x,{}),(0,s.jsx)(i.l_,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,s.jsx)(p,{})]})})});f.displayName=i.VY.displayName;let j=t.forwardRef((e,l)=>{let{className:a,...t}=e;return(0,s.jsx)(i.__,{ref:l,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...t})});j.displayName=i.__.displayName;let v=t.forwardRef((e,l)=>{let{className:a,children:t,...n}=e;return(0,s.jsxs)(i.ck,{ref:l,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.wU,{children:(0,s.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(i.eT,{children:t})]})});v.displayName=i.ck.displayName,t.forwardRef((e,l)=>{let{className:a,...t}=e;return(0,s.jsx)(i.Z0,{ref:l,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...t})}).displayName=i.Z0.displayName},95317:function(e,l,a){a.d(l,{Ei:function(){return y},FF:function(){return j},Tu:function(){return f},aM:function(){return c},bC:function(){return v},sw:function(){return u},ue:function(){return p},yo:function(){return o}});var s=a(57437),t=a(2265),i=a(13304),n=a(12218),r=a(74697),d=a(37440);let o=i.fC,c=i.xz,u=i.x8,h=i.h_,m=t.forwardRef((e,l)=>{let{className:a,...t}=e;return(0,s.jsx)(i.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:l})});m.displayName=i.aV.displayName;let x=(0,n.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=t.forwardRef((e,l)=>{let{side:a="right",className:t,children:n,hideCloseButton:o,...c}=e;return(0,s.jsxs)(h,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(i.VY,{ref:l,className:(0,d.cn)(x({side:a}),t),...c,children:[n,!0!==o&&(0,s.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(r.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=i.VY.displayName;let f=e=>{let{className:l,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",l),...a})};f.displayName="SheetHeader";let j=e=>{let{className:l,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",l),...a})};j.displayName="SheetFooter";let v=t.forwardRef((e,l)=>{let{className:a,...t}=e;return(0,s.jsx)(i.Dx,{ref:l,className:(0,d.cn)("text-lg font-semibold text-foreground",a),...t})});v.displayName=i.Dx.displayName;let y=t.forwardRef((e,l)=>{let{className:a,...t}=e;return(0,s.jsx)(i.dk,{ref:l,className:(0,d.cn)("text-sm text-muted-foreground",a),...t})});y.displayName=i.dk.displayName},76905:function(e,l,a){a.d(l,{Uv:function(){return t},d4:function(){return s},fR:function(){return n}});let s=[{value:"allSearches",label:"Found in all searches"},{value:"admissionSearches",label:"Found in admission searches"},{value:"twinSearches",label:"Found in twin searches"}],t=[{name:"date",label:"Date"},{name:"datetime",label:"Date + Time"},{name:"dropdown",label:"Dropdown"},{name:"number",label:"Number"},{name:"text",label:"Text"},{name:"time",label:"Time"},{name:"period",label:"Time period"}],i={calculation:null,condition:"",confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,refKey:null,label:null,minValue:null,maxValue:null,optional:!1,minDate:null,maxDate:null,minTime:null,maxTime:null,minDateKey:"",maxDateKey:"",minTimeKey:"",maxTimeKey:"",values:""},n={admission:[{...i,type:"dropdown",key:"BabyTransfered",values:"Y,Yes\nN,No",label:"Has the baby been transfered from another facility"},{...i,type:"text",key:"patientNUID",label:"Search patient's NUID",condition:"$BabyTransfered = 'Y'"},{...i,type:"dropdown",key:"BabyTwin",values:"Y,Yes\nN,No",label:"Does the baby have a twin?"},{...i,type:"text",key:"BabyTwinNUID",label:"Search twin's NUID",condition:"$BabyTwin = 'Y'"}],other:[{...i,type:"text",key:"patientNUID",values:"Y,Yes\nN,No",label:"Search patient's NUID"}]}},78591:function(e,l,a){a.d(l,{s:function(){return s}});function s(e){let l=[],a=(e||"").split("\n").map(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim()}).map(e=>{let l=e.split(",");return{value:l[0],label:l[1]}}),s=a.map(e=>e.value),t=a.map(e=>e.label),i=a.filter(e=>!e.value||!e.label),n=s.filter((e,l)=>s.indexOf(e)!==l);return(t.filter((e,l)=>t.indexOf(e)!==l).length||n.length)&&l.push("Dropdown values contain duplicate data"),i.length&&l.push("Incorrect dropdown values format"),l}}}]);