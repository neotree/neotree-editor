(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{69686:function(e,t,n){Promise.resolve().then(n.t.bind(n,58877,23)),Promise.resolve().then(n.bind(n,62602)),Promise.resolve().then(n.bind(n,4665)),Promise.resolve().then(n.bind(n,3859)),Promise.resolve().then(n.bind(n,96058)),Promise.resolve().then(n.bind(n,58502)),Promise.resolve().then(n.bind(n,98775)),Promise.resolve().then(n.bind(n,53453)),Promise.resolve().then(n.t.bind(n,33387,23))},62602:function(e,t,n){"use strict";n.d(t,{AlertModal:function(){return c}});var r=n(57437),s=n(2265),i=n(7476),a=n(6780),o=n(53699),l=n(50495),d=n(37440);function c(){let{isOpen:e,title:t,message:n,variant:c,buttonLabel:u,close:f,onClose:m}=(0,o.s)(),x=(0,s.useCallback)(()=>{null==m||m(),f()},[f,m]);return(0,r.jsx)(a.aR,{open:e,onOpenChange:x,children:(0,r.jsxs)(a._T,{children:[(0,r.jsxs)(a.fY,{children:[(0,r.jsx)(a.f$,{className:(0,d.cn)(!t&&"hidden"),children:t}),!!n&&(0,r.jsxs)("div",{className:(0,d.cn)("flex gap-y-4 flex-col sm:items-start sm:flex-row sm:gap-x-4"),children:["error"===c&&(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(i.BJv,{className:"text-red-600 min-w-12 min-h-12 w-12 h-12"})}),"success"===c&&(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(i._rq,{className:"text-green-600 min-w-12 min-h-12 w-12 h-12"})}),(0,r.jsx)("div",{className:"flex-1 text-lg",children:n})]})]}),(0,r.jsx)(a.xo,{children:(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(l.z,{onClick:x,variant:"outline",children:u})})})]})})}},4665:function(e,t,n){"use strict";n.d(t,{ConfirmModal:function(){return d}});var r=n(57437),s=n(6780),i=n(7476),a=n(76230),o=n(50495),l=n(37440);function d(){let{isOpen:e,danger:t,title:n,message:d,positiveLabel:c,negativeLabel:u,close:f,onConfirm:m}=(0,a.t)();return(0,r.jsx)(s.aR,{open:e,onOpenChange:f,children:(0,r.jsxs)(s._T,{className:"p-0 max-h-[80%] flex flex-col",children:[!!n&&(0,r.jsx)(s.fY,{className:"py-2 px-4",children:(0,r.jsx)(s.f$,{children:n})}),(0,r.jsxs)("div",{className:(0,l.cn)("px-4 flex-1 flex flex-col gap-y-4 items-center sm:items-start sm:flex-row sm:gap-x-4 overflow-y-auto",!n&&"py-2"),children:[t&&(0,r.jsx)(i.bcx,{className:"text-red-600 min-w-10 min-h-10 w-10 h-10"}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:d}})]}),(0,r.jsxs)(s.xo,{className:"px-4 py-2",children:[(0,r.jsx)(s.le,{children:u}),(0,r.jsx)(o.z,{variant:t?"destructive":void 0,asChild:!0,children:(0,r.jsx)(s.OL,{onClick:()=>null==m?void 0:m(),children:c})})]})]})})}},3859:function(e,t,n){"use strict";n.d(t,{AuthContextProvider:function(){return i}});var r=n(57437),s=n(30998);function i(e){let{children:t}=e;return(0,r.jsx)(s.SessionProvider,{children:t})}},96058:function(e,t,n){"use strict";n.d(t,{ThemeProvider:function(){return i}});var r=n(57437);n(2265);var s=n(79512);function i(e){let{children:t,...n}=e;return(0,r.jsx)(s.f,{...n,children:t})}},58502:function(e,t,n){"use strict";n.d(t,{SocketEventsListener:function(){return a}});var r=n(2265),s=n(16463);let i=(0,n(34999).io)("http://localhost:85");function a(e){let{events:t}=e,n=(0,r.useRef)({eventsTimeouts:{},eventsTimestamps:{}});(0,r.useRef)(new Date().getTime());let a=(0,s.useRouter)();return(0,r.useEffect)(()=>{t.forEach(e=>{let{name:t,action:r,delay:s=100,onEvent:o}=e;i.on(t,function(){for(var e=arguments.length,i=Array(e),l=0;l<e;l++)i[l]=arguments[l];let d=()=>{var e,n;(!r||i[0]===r)&&(null===(e=o.callback)||void 0===e||e.call(o,...i),(null==o?void 0:o.refreshRouter)&&(console.log(t,"refreshing..."),a.refresh()),(null===(n=o.redirect)||void 0===n?void 0:n.to)&&(o.redirect.replace?a.replace(o.redirect.to):a.push(o.redirect.to)))},c=new Date().getTime();s?(clearTimeout(n.current.eventsTimeouts[t]),n.current.eventsTimeouts[t]=setTimeout(()=>{n.current.eventsTimestamps[t]=c,d()},s)):(n.current.eventsTimestamps[t]=new Date().getTime(),d())})})},[t,a]),null}},6780:function(e,t,n){"use strict";n.d(t,{OL:function(){return p},_T:function(){return u},aR:function(){return l},f$:function(){return x},fY:function(){return f},le:function(){return v},xo:function(){return m}});var r=n(57437),s=n(2265),i=n(76669),a=n(37440),o=n(50495);let l=i.fC;i.xz;let d=i.h_,c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.aV,{className:(0,a.cn)("fixed inset-0 z-[99999999999] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s,ref:t})});c.displayName=i.aV.displayName;let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(i.VY,{ref:t,className:(0,a.cn)("fixed left-[50%] top-[50%] z-[99999999999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...s})]})});u.displayName=i.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};f.displayName="AlertDialogHeader";let m=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};m.displayName="AlertDialogFooter";let x=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.Dx,{ref:t,className:(0,a.cn)("text-lg font-semibold",n),...s})});x.displayName=i.Dx.displayName,s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.dk,{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...s})}).displayName=i.dk.displayName;let p=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.aU,{ref:t,className:(0,a.cn)((0,o.d)(),n),...s})});p.displayName=i.aU.displayName;let v=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(i.$j,{ref:t,className:(0,a.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",n),...s})});v.displayName=i.$j.displayName},50495:function(e,t,n){"use strict";n.d(t,{d:function(){return l},z:function(){return d}});var r=n(57437),s=n(2265),i=n(71538),a=n(12218),o=n(37440);let l=(0,a.j)("\n    inline-flex\n    items-center\n    justify-center\n    whitespace-nowrap\n    rounded-md\n    text-sm\n    font-medium\n    transition-colors\n    focus-visible:outline-none\n    disabled:pointer-events-none\n    disabled:opacity-50\n  ",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"border border-input bg-background hover:bg-primary/20","primary-outline":"border border-primary text-primary bg-transparent hover:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-primary/20 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:n,variant:s,size:a,asChild:d=!1,...c}=e,u=d?i.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:s,size:a,className:n})),ref:t,...c})});d.displayName="Button"},98775:function(e,t,n){"use strict";n.d(t,{Toaster:function(){return a}});var r=n(57437),s=n(79512),i=n(27776);let a=e=>{let{...t}=e,{theme:n="system"}=(0,s.F)();return(0,r.jsx)(i.x7,{theme:n,richColors:!0,position:"top-center",...t})}},53453:function(e,t,n){"use strict";n.d(t,{AppContextProvider:function(){return l},b:function(){return o}});var r=n(57437),s=n(2265),i=n(79512);let a=(0,s.createContext)(null),o=()=>(0,s.useContext)(a);function l(e){let{children:t,...n}=e,{authenticatedUser:o,mode:l,sys:d}=n,{setTheme:c}=(0,i.F)(),u=(0,s.useMemo)(()=>{let e=(null==o?void 0:o.role)==="admin",t=(null==o?void 0:o.role)==="super_user";return{isDefaultUser:!e&&!t,isAdmin:e,isSuperUser:t}},[o]),f=(0,s.useMemo)(()=>!u.isAdmin&&!u.isSuperUser||"view"===l,[u,l]);(0,s.useEffect)(()=>{"no"===d.data.hide_theme_toggle&&c("light")},[d]);let m={...n,...u,viewOnly:f};return(0,r.jsx)(a.Provider,{value:m,children:t})}},53699:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(39099);let s={title:"",message:"",buttonLabel:"Ok",variant:"info",onClose:void 0},i=(0,r.Ue)(e=>({isOpen:!1,...s,alert:t=>e({isOpen:!0,...s,...t}),close:()=>e({isOpen:!1,onClose:void 0,...s})}))},76230:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(39099);let s={danger:!1,title:"Confirm",message:"Are you sure?",positiveLabel:"Ok",negativeLabel:"Cancel"},i=(0,r.Ue)(e=>({isOpen:!1,...s,confirm:(t,n)=>e({isOpen:!0,...s,...n,onConfirm:t}),close:()=>e({isOpen:!1,onConfirm:void 0,...s})}))},37440:function(e,t,n){"use strict";n.d(t,{cn:function(){return i}});var r=n(44839),s=n(96164);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}},58877:function(){}},function(e){e.O(0,[4473,9956,4868,5360,2592,4549,9370,1378,7478,7023,1744],function(){return e(e.s=69686)}),_N_E=e.O()}]);