(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3638],{34165:function(e,s,t){Promise.resolve().then(t.bind(t,33755)),Promise.resolve().then(t.bind(t,89884))},33755:function(e,s,t){"use strict";t.d(s,{DrugsLibrary:function(){return $}});var a=t(57437),r=t(2265),l=t(94508),n=t(86180),i=t(69711),d=t(66024),c=t(62869),o=t(6512),u=t(62618),x=t(67132),h=t(82425),m=t(53405),f=t(40875),g=t(27648),j=t(84190);function p(e){let{addDrugLink:s,addFluidLink:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(j.h_,{children:[(0,a.jsx)(j.$F,{asChild:!0,children:(0,a.jsxs)(c.z,{variant:"outline",children:[(0,a.jsx)("span",{children:"Add"}),(0,a.jsx)(f.Z,{className:"w-4 h-4 ml-2"})]})}),(0,a.jsxs)(j.AW,{children:[(0,a.jsx)(j.Xi,{asChild:!0,children:(0,a.jsx)(g.default,{href:s,children:"New drug"})}),(0,a.jsx)(j.Xi,{asChild:!0,children:(0,a.jsx)(g.default,{href:t,children:"New fluid"})})]})]})})}var v=t(17689),b=t(83464),y=t(29501),w=t(71706),N=t(26815),C=t(19060),k=t(98656),S=t(26110),F=t(53647);function I(e){var s;let{uuids:t}=e,[n,d]=(0,r.useState)(!1),[o,u]=(0,r.useState)(!1),{alert:x}=(0,k.s)(),{sites:h,loading:m,loadSites:f}=(0,w.k)({loadOnMount:!1,onLoadSitesError:()=>d(!1)}),{formState:{errors:g},reset:j,watch:p,setValue:I,register:D,handleSubmit:Z,setError:E}=(0,y.cI)({defaultValues:{siteId:"",overwriteExisting:!1}}),V=p("siteId"),L=p("overwriteExisting"),A=o||m,z=!!V&&!A,_=Z(async e=>{try{var s;if(e.siteId||E("siteId",{message:"Site is required"}),!z)return;u(!0);let a=(await b.Z.post("/api/drugs-library/export",{...e,uuids:t})).data;if(null===(s=a.errors)||void 0===s?void 0:s.length)throw Error(a.errors.join(", "));x({variant:"success",title:"Success",message:"Data exported successfully!",onClose:()=>d(!1)})}catch(e){x({variant:"error",title:"Error",message:"Failed to export: "+e.message})}finally{u(!1)}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(S.Vq,{open:n,onOpenChange:e=>{j(),e&&f(),d(e)},children:[(0,a.jsx)(S.hg,{asChild:!0,children:(0,a.jsxs)(c.z,{className:"h-auto w-auto",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsx)("span",{children:t.length>1?"Export ".concat(t.length):"Export"})]})}),(0,a.jsxs)(S.cZ,{children:[(0,a.jsxs)(S.fK,{children:[(0,a.jsx)(S.$N,{children:"Export"}),(0,a.jsx)(S.Be,{className:"hidden",children:""})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N._,{htmlFor:"siteId",children:"Site *"}),(0,a.jsxs)(F.Ph,{name:"siteId",onValueChange:e=>I("siteId",e,{shouldDirty:!0}),children:[(0,a.jsx)(F.i4,{children:(0,a.jsx)(F.ki,{placeholder:"Select site"})}),(0,a.jsx)(F.Bw,{children:(0,a.jsxs)(F.DI,{children:[(0,a.jsx)(F.n5,{children:"Sites"}),h.map(e=>{let{siteId:s,name:t}=e;return(0,a.jsx)(F.Ql,{value:s,children:t},s)})]})})]}),!!(null===(s=g.siteId)||void 0===s?void 0:s.message)&&(0,a.jsx)("div",{className:"text-xs text-danger mt-1",children:g.siteId.message})]}),(0,a.jsxs)("div",{className:(0,l.cn)("flex gap-x-2"),children:[(0,a.jsx)(C.X,{name:"overwriteExisting",id:"overwriteExisting",checked:L,onCheckedChange:()=>I("overwriteExisting",!L,{shouldDirty:!0})}),(0,a.jsx)(N._,{secondary:!0,htmlFor:"overwriteExisting",children:"Overwrite existing"})]})]}),(0,a.jsxs)(S.cN,{children:[(0,a.jsx)(S.GG,{asChild:!0,children:(0,a.jsx)(c.z,{variant:"ghost",children:"Cancel"})}),(0,a.jsxs)(c.z,{onClick:_,disabled:!z,children:[(0,a.jsx)(v.Z,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})]}),A&&(0,a.jsx)(i.a,{overlay:!0})]})}function D(e){let{sortBy:s,typeFilter:t,statusFilter:r,onSortChange:l,onFilterChange:n}=e;return(0,a.jsx)("div",{className:"p-4 flex flex-col gap-y-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,a.jsx)("div",{className:"text-2xl",children:"Drugs & Fluids Library"}),(0,a.jsxs)("div",{className:"flex-1 flex flex-wrap items-center justify-end gap-x-4",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(F.Ph,{value:s,onValueChange:l,children:[(0,a.jsx)(F.i4,{className:"w-[140px]",children:(0,a.jsx)(F.ki,{placeholder:"Sort"})}),(0,a.jsxs)(F.Bw,{children:[(0,a.jsx)(F.Ql,{value:"name-asc",children:"Name (A-Z)"}),(0,a.jsx)(F.Ql,{value:"name-desc",children:"Name (Z-A)"}),(0,a.jsx)(F.Ql,{value:"type-asc",children:"Type (A-Z)"}),(0,a.jsx)(F.Ql,{value:"type-desc",children:"Type (Z-A)"}),(0,a.jsx)(F.Ql,{value:"key-asc",children:"Key (A-Z)"}),(0,a.jsx)(F.Ql,{value:"key-desc",children:"Key (Z-A)"})]})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)(F.Ph,{value:t||r||"all",onValueChange:e=>{"all"===e?n("",""):"drug"===e||"fluid"===e?n(e,""):("draft"===e||"published"===e)&&n("",e)},children:[(0,a.jsx)(F.i4,{className:"w-[140px]",children:(0,a.jsx)(F.ki,{placeholder:"All items"})}),(0,a.jsxs)(F.Bw,{children:[(0,a.jsx)(F.Ql,{value:"all",children:"All items"}),(0,a.jsx)(F.U$,{}),(0,a.jsxs)(F.DI,{children:[(0,a.jsx)(F.n5,{children:"Status"}),(0,a.jsx)(F.Ql,{value:"published",children:"Published"}),(0,a.jsx)(F.Ql,{value:"draft",children:"Draft"})]}),(0,a.jsx)(F.U$,{}),(0,a.jsxs)(F.DI,{children:[(0,a.jsx)(F.n5,{children:"Types"}),(0,a.jsx)(F.Ql,{value:"drug",children:"Drugs"}),(0,a.jsx)(F.Ql,{value:"fluid",children:"Fluids"})]})]})]})})]})]})})}var Z=t(71533),E=t(15868),V=t(42208),L=t(78867),A=t(96362),z=t(27413),_=t(12819),R=t(24959);function Q(e){let{item:s,disabled:t,copyDrugs:r,deleteDrugs:l,editLink:i}=e,{confirm:d}=(0,n.t)(),o={isDraft:!!s.isDraft,userId:s.draftCreatedByUserId,dataType:s.type},u=(0,R.v)(o);return t=t||u,(0,a.jsxs)("div",{className:"flex gap-x-2",children:[(0,a.jsx)(_.O,{...o}),(0,a.jsxs)(j.h_,{children:[(0,a.jsx)(j.$F,{asChild:!0,children:(0,a.jsx)(c.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:(0,a.jsx)(Z.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(j.AW,{children:[(0,a.jsx)(j.Xi,{asChild:!0,children:(0,a.jsx)(g.default,{href:i("".concat(s.itemId)),children:(0,a.jsx)(a.Fragment,{children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V.Z,{className:"mr-2 h-4 w-4"})," View"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.Z,{className:"mr-2 h-4 w-4"})," Edit"]})})})}),!t&&(0,a.jsx)(j.Xi,{onClick:()=>setTimeout(()=>{d(()=>r([s.itemId]),{title:"Copy drug",message:"Are you sure you want to copy drug?<br /> <b>".concat(s.drug,"</b>"),positiveLabel:"Yes, copy",negativeLabel:"Cancel"})},0),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.Z,{className:"mr-2 h-4 w-4"})," Copy"]})}),(0,a.jsx)(j.Xi,{asChild:!0,children:(0,a.jsxs)(g.default,{target:"_blank",href:"/drugs-fluids-and-feeds/".concat(s.itemId,"/metadata"),children:[(0,a.jsx)(A.Z,{className:"mr-2 h-4 w-4"}),"View metadata"]})}),!t&&(0,a.jsxs)(j.Xi,{onClick:()=>setTimeout(()=>{d(()=>l([s.itemId]),{title:"Delete drug",message:"Are you sure you want to delete drug?",positiveLabel:"Yes, delete",negativeLabel:"Cancel",danger:!0})},0),className:"text-danger focus:bg-danger focus:text-danger-foreground",children:[(0,a.jsx)(z.Z,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Delete"})]})]})]})]})}var O=t(73578),T=t(66070),B=t(81066),M=t(42033);function P(e){let{search:s,setSearch:t,onSearch:r}=e,l=e=>{t(s=>s.value?{...s,filter:e,results:(0,M.UZ)({searchValue:s.value,filter:e,results:s.unfilteredResults})}:{...s,filter:e})};return(0,a.jsxs)(a.Fragment,{children:[s.searching&&(0,a.jsx)(i.a,{overlay:!0}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-2 sm:flex-row sm:items-center sm:gap-x-2",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(B.M,{placeholder:"Search by key, title, label...",onSearch:r})}),!!s.value&&(0,a.jsx)("div",{className:"w-full sm:w-[200px]",children:(0,a.jsxs)(F.Ph,{value:s.filter,onValueChange:e=>l(e),children:[(0,a.jsx)(F.i4,{children:(0,a.jsx)(F.ki,{placeholder:"All matches"})}),(0,a.jsx)(F.Bw,{children:M.kv.map(e=>(0,a.jsx)(F.Ql,{value:e.value,children:e.label},e.value))})]})})]})]})}var Y=t(92735);function X(){return(0,a.jsx)(c.z,{asChild:!0,variant:"outline",children:(0,a.jsxs)(g.default,{href:"/drugs-fluids-and-feeds/metadata",target:"_blank",children:[(0,a.jsx)(Y.Z,{className:"mr-2 h-4 w-4"}),"Export metadata"]})})}function $(e){let{}=e,{confirm:s}=(0,n.t)(),{viewOnly:t}=(0,x.b)(),[f,g]=(0,r.useState)([]),{filteredDrugs:j,tableData:v,loading:b,addLink:y,selectedItemId:w,editLink:N,saveDrugs:C,deleteDrugs:k,copyDrugs:S,search:F,setSearch:Z,onSearch:E,typeFilter:V,statusFilter:L,sortBy:A,setTypeFilter:z,setStatusFilter:_,setSortBy:R}=(0,u.a)(),B=(0,r.useMemo)(()=>t,[t]),M=F.results,Y=(0,r.useMemo)(()=>{let e=new Map;return M.forEach(s=>{(null==s?void 0:s.itemId)&&e.set(s.itemId,s)}),e},[M]),$=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),U=(0,r.useCallback)(e=>{let s="".concat(null!=e?e:"");if(!F.value)return s;let t=F.value.toLowerCase();if(!s.toLowerCase().includes(t))return s;let r=RegExp("(".concat($(F.value),")"),"gi");return s.split(r).map((e,s)=>e?e.toLowerCase()===t?(0,a.jsx)("mark",{className:"rounded bg-yellow-200 px-1",children:e},s):(0,a.jsx)("span",{children:e},s):null)},[F.value]);return(0,a.jsxs)(a.Fragment,{children:[b&&(0,a.jsx)(i.a,{overlay:!0}),(0,a.jsx)(m.A,{disabled:B,item:j.filter(e=>e.itemId===w)[0],onChange:C}),!!f.length&&(0,a.jsxs)(h.h,{children:[(0,a.jsx)(I,{uuids:j.filter((e,s)=>f.includes(s)).map(e=>e.itemId)}),(0,a.jsxs)(c.z,{variant:"destructive",onClick:()=>setTimeout(()=>{s(()=>k(j.filter((e,s)=>f.includes(s)).map(e=>e.itemId)),{title:"Delete drugs",message:"Are you sure you want to delete drugs?",positiveLabel:"Yes, delete",negativeLabel:"Cancel",danger:!0})},0),children:["Delete ",f.length<2?"":f.length+" items"]})]}),(0,a.jsx)(D,{sortBy:A,typeFilter:V,statusFilter:L,onSortChange:R,onFilterChange:(e,s)=>{z(e),_(s)}}),(0,a.jsx)("div",{className:"px-4 pb-4",children:(0,a.jsx)(P,{search:F,setSearch:Z,onSearch:E})}),(0,a.jsx)(o.Separator,{}),(0,a.jsx)(d.DataTable,{onSelect:g,selectable:!B,headerActions:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(X,{}),(0,a.jsx)(p,{addDrugLink:y("drug"),addFluidLink:y("fluid")})]}),rowRenderer:F.value?e=>{let{props:s,cells:t,rowIndex:r}=e,n=j[r],i=n?Y.get(n.itemId):void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.SC,{...s,children:t}),i&&i.matches.length?(0,a.jsx)(O.SC,{...s,className:(0,l.cn)(s.className,"bg-yellow-50 hover:bg-yellow-50"),children:(0,a.jsx)(O.pj,{colSpan:t.length,className:"border-t p-0",children:(0,a.jsx)(T.Zb,{className:"m-4 border-none bg-white shadow-none",children:(0,a.jsx)("div",{className:"flex flex-col divide-y text-xs",children:i.matches.map((e,s)=>(0,a.jsxs)("div",{className:"flex flex-col gap-y-1 px-4 py-3 sm:flex-row sm:items-center sm:gap-x-4",children:[(0,a.jsxs)("span",{className:"font-medium text-muted-foreground",children:[e.fieldLabel,e.context?" (".concat(e.context,")"):""]}),(0,a.jsx)("span",{className:"text-foreground sm:ml-auto sm:text-right",children:U(e.fieldValue)})]},"".concat(e.field,"-").concat(s,"-").concat(e.fieldValue)))})})})}):null]})}:void 0,getRowOptions:e=>{let{rowIndex:s}=e,t=j[s];return t?{className:(0,l.cn)(t.isDraft&&"bg-danger/20 hover:bg-danger/30")}:{}},columns:[{name:"Drug / Fluid"},{name:"Type",tdClassName:"w-[80px]"},{name:"Key"},{name:"Dosage text"},{name:"",align:"right",cellRenderer(e){let{value:s}=e,t=j.filter(e=>e.itemId===s)[0];return t?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Q,{item:t,disabled:B,copyDrugs:S,deleteDrugs:k,editLink:N})}):null}}],data:v})]})}},82425:function(e,s,t){"use strict";t.d(s,{h:function(){return n}});var a=t(57437),r=t(25994),l=t(94508);function n(e){let{children:s,className:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-16"}),(0,a.jsx)("div",{className:(0,l.cn)("\n                        fixed \n                        left-0 \n                        bottom-0 \n                        h-16 \n                        w-full \n                        border-t \n                        border-t-border \n                        z-[1] \n                        bg-primary-foreground \n                        dark:bg-background \n                        shadow-md \n                        dark:shadow-foreground/10\n                    "),children:(0,a.jsx)(r.V,{children:(0,a.jsx)("div",{className:(0,l.cn)("flex justify-end gap-x-4",t),children:s})})})]})}},25994:function(e,s,t){"use strict";t.d(s,{V:function(){return l}});var a=t(57437),r=t(94508);function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{...t,className:(0,r.cn)("w-full max-w-screen-xl mx-auto p-5",s)})}},60657:function(e,s,t){"use strict";t.d(s,{_:function(){return n}});var a=t(57437),r=t(66070),l=t(94508);function n(e){let{color:s,children:t,errors:n=[]}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Zb,{className:(0,l.cn)("bg-destructive/20 border-destructive text-destructive","warning"===s&&"bg-yellow-200/20 border-yellow-400 text-yellow-600"),children:(0,a.jsxs)(r.aY,{className:"flex flex-col gap-y-4 px-4 py-2",children:[t,!!n.length&&(0,a.jsx)("div",{children:n.map((e,s)=>(0,a.jsx)("p",{children:e},"".concat(s)))})]})})})}},12819:function(e,s,t){"use strict";t.d(s,{O:function(){return x}});var a=t(57437),r=t(2265),l=t(66337),n=t(57054),i=t(24959),d=t(94508),c=t(69711),o=t(83464),u=t(60657);let x=(0,r.forwardRef)((e,s)=>{let{isDraft:t,userId:x,dataType:h,card:m}=e,f=(0,i.v)({isDraft:t,userId:x});(0,r.useImperativeHandle)(s,()=>({isLocked:f}),[f]);let{loading:g,error:j,user:p,getUser:v}=function(e){let{userId:s,loadOnMount:t=!1}=e,a=(0,r.useRef)(!1),[l,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(""),x=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;try{if(u(""),!l&&s){n(!0);let s=(await o.Z.get("/api/users/".concat(e))).data;d(s)}}catch(e){u(e.message)}finally{n(!1)}},[l,s]);return(0,r.useEffect)(()=>{t&&!a.current&&(a.current=!0,x())},[t,x]),{loading:l,user:i,error:c,getUser:x}}({userId:x,loadOnMount:!!m}),b=(0,r.useCallback)(async e=>{e&&!g&&!p&&x&&v()},[x,p,g]);return m&&f&&!g?(0,a.jsx)(u._,{children:(0,a.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),p?(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:p.displayName})," is working on this ",h||""]}):null]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(n.J2,{onOpenChange:b,children:[(0,a.jsx)(n.xo,{asChild:!0,children:(0,a.jsx)("button",{disabled:!f,children:(0,a.jsx)(l.Z,{className:(0,d.cn)("w-4 h-4 text-destructive/80",!f&&"opacity-0")})})}),(0,a.jsx)(n.yk,{className:"p-0 text-sm max-w-[200px]",children:g?(0,a.jsx)("div",{className:"p-2 flex justify-center",children:(0,a.jsx)(c.a,{padding:0})}):j||!p?(0,a.jsx)("div",{className:"p-2 text-destructive bg-destructive/20",children:j||"Failed to load user!"}):(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)("strong",{children:p.displayName})," is working on this ",h||""]})})]})})});x.displayName="LockStatus"},81066:function(e,s,t){"use strict";t.d(s,{M:function(){return n}});var a=t(57437),r=t(2265),l=t(94508);let n=(0,r.forwardRef)((e,s)=>{let{searchButton:t,hideSearchButton:n,onSearch:i,...d}=e,[c,o]=(0,r.useState)("");return(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),null==i||i(c)},children:(0,a.jsxs)("div",{className:(0,l.cn)("flex w-full"),children:[(0,a.jsx)("div",{className:(0,l.cn)("relative w-full"),children:(0,a.jsx)("input",{ref:s,type:"search",placeholder:"Search",value:c,...d,onChange:e=>{var s;let t=e.target.value;o(t),null===(s=d.onChange)||void 0===s||s.call(d,e),t||null==i||i(t)},className:(0,l.cn)("w-full pl-4 py-2 rounded-l-full border focus:outline-none focus:border-secondary bg-transparent",d.className)})}),!n&&(0,a.jsx)("button",{type:"submit",className:(0,l.cn)("px-5 py-2.5 transition-colors bg-transparent border border-l-0 rounded-r-full hover:bg-secondary/10 disabled:opacity-50 disabled:cursor-not-allowed",null==t?void 0:t.className),...t,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})})]})})});n.displayName="SearchInput"},57054:function(e,s,t){"use strict";t.d(s,{J2:function(){return i},xo:function(){return d},yk:function(){return c}});var a=t(57437),r=t(2265),l=t(51777),n=t(94508);let i=l.fC,d=l.xz,c=r.forwardRef((e,s)=>{let{className:t,align:r="center",sideOffset:i=4,...d}=e;return(0,a.jsx)(l.h_,{children:(0,a.jsx)(l.VY,{ref:s,align:r,sideOffset:i,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})})});c.displayName=l.VY.displayName},69304:function(e,s,t){"use strict";t.d(s,{Ei:function(){return v},FF:function(){return j},Tu:function(){return g},aM:function(){return o},bC:function(){return p},sw:function(){return u},ue:function(){return f},yo:function(){return c}});var a=t(57437),r=t(2265),l=t(70001),n=t(90535),i=t(32489),d=t(94508);let c=l.fC,o=l.xz,u=l.x8,x=l.h_,h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});h.displayName=l.aV.displayName;let m=(0,n.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),f=r.forwardRef((e,s)=>{let{side:t="right",className:r,children:n,hideCloseButton:c,...o}=e;return(0,a.jsxs)(x,{children:[(0,a.jsx)(h,{}),(0,a.jsxs)(l.VY,{ref:s,className:(0,d.cn)(m({side:t}),r),...o,children:[n,!0!==c&&(0,a.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=l.VY.displayName;let g=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};g.displayName="SheetHeader";let j=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};j.displayName="SheetFooter";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.Dx,{ref:s,className:(0,d.cn)("text-lg font-semibold text-foreground",t),...r})});p.displayName=l.Dx.displayName;let v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.dk,{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",t),...r})});v.displayName=l.dk.displayName},76818:function(e,s,t){"use strict";t.d(s,{g:function(){return n}});var a=t(57437),r=t(2265),l=t(94508);let n=r.forwardRef((e,s)=>{let{className:t,noRing:r,...n}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r&&"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",t),ref:s,...n})});n.displayName="Textarea"},71706:function(e,s,t){"use strict";t.d(s,{k:function(){return i}});var a=t(2265),r=t(83464),l=t(67132),n=t(98656);function i(e){let{loadOnMount:s=!0,onLoadSitesError:t}={...e},[i,d]=(0,a.useState)(!1),{alert:c}=(0,n.s)(),{getSites:o}=(0,l.b)(),[u,x]=(0,a.useState)([]),h=(0,a.useCallback)(async()=>{try{var e;d(!0);let s=(await r.Z.get("/api/sites?data="+JSON.stringify({types:["webeditor"]}))).data;if(null===(e=s.errors)||void 0===e?void 0:e.length)throw Error(s.errors.join(", "));x(s.data||[])}catch(e){c({title:"Error",message:"Failed to load sites: "+e.message,variant:"error",onClose:()=>null==t?void 0:t()})}finally{d(!1)}},[o,c,t]);return(0,a.useEffect)(()=>{s&&!u.length&&h()},[u,s,h]),{loading:i,sites:u,loadSites:h}}}},function(e){e.O(0,[6137,2696,3186,9327,5972,3464,7790,2972,1043,3238,604,9501,5966,6651,3728,20,8026,6024,7404,8577,502,5216,8961,7478,2117,1744],function(){return e(e.s=34165)}),_N_E=e.O()}]);