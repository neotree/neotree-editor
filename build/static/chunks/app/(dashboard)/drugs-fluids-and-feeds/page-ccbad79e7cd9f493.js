(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3638],{58039:function(e,l,s){Promise.resolve().then(s.bind(s,2400)),Promise.resolve().then(s.bind(s,25704))},2400:function(e,l,s){"use strict";s.d(l,{DrugsLibrary:function(){return X}});var r=s(57437),a=s(2265),t=s(37440),i=s(76230),n=s(39661),d=s(44380),c=s(50495),o=s(64344),u=s(44371),h=s(17647),x=s(17501),m=s(80929),j=s(42421),p=s(87138),f=s(46910);function v(e){let{addDrugLink:l,addFluidLink:s}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(f.h_,{children:[(0,r.jsx)(f.$F,{asChild:!0,children:(0,r.jsxs)(c.z,{variant:"outline",children:[(0,r.jsx)("span",{children:"Add"}),(0,r.jsx)(j.Z,{className:"w-4 h-4 ml-2"})]})}),(0,r.jsxs)(f.AW,{children:[(0,r.jsx)(f.Xi,{asChild:!0,children:(0,r.jsx)(p.default,{href:l,children:"New drug"})}),(0,r.jsx)(f.Xi,{asChild:!0,children:(0,r.jsx)(p.default,{href:s,children:"New fluid"})})]})]})})}var g=s(58184),y=s(38472),b=s(39343),N=s(53853),w=s(67135),C=s(86466),S=s(53699),k=s(90837),I=s(46294);function F(e){var l;let{uuids:s}=e,[i,d]=(0,a.useState)(!1),[o,u]=(0,a.useState)(!1),{alert:h}=(0,S.s)(),{sites:x,loading:m,loadSites:j}=(0,N.k)({loadOnMount:!1,onLoadSitesError:()=>d(!1)}),{formState:{errors:p},reset:f,watch:v,setValue:F,register:D,handleSubmit:Z,setError:A}=(0,b.cI)({defaultValues:{siteId:"",overwriteExisting:!1}}),E=v("siteId"),L=v("overwriteExisting"),z=o||m,_=!!E&&!z,V=Z(async e=>{try{var l;if(e.siteId||A("siteId",{message:"Site is required"}),!_)return;u(!0);let r=(await y.Z.post("/api/drugs-library/export",{...e,uuids:s})).data;if(null===(l=r.errors)||void 0===l?void 0:l.length)throw Error(r.errors.join(", "));h({variant:"success",title:"Success",message:"Data exported successfully!",onClose:()=>d(!1)})}catch(e){h({variant:"error",title:"Error",message:"Failed to export: "+e.message})}finally{u(!1)}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(k.Vq,{open:i,onOpenChange:e=>{f(),e&&j(),d(e)},children:[(0,r.jsx)(k.hg,{asChild:!0,children:(0,r.jsxs)(c.z,{className:"h-auto w-auto",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4 mr-1"}),(0,r.jsx)("span",{children:s.length>1?"Export ".concat(s.length):"Export"})]})}),(0,r.jsxs)(k.cZ,{children:[(0,r.jsxs)(k.fK,{children:[(0,r.jsx)(k.$N,{children:"Export"}),(0,r.jsx)(k.Be,{className:"hidden",children:""})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(w._,{htmlFor:"siteId",children:"Site *"}),(0,r.jsxs)(I.Ph,{name:"siteId",onValueChange:e=>F("siteId",e,{shouldDirty:!0}),children:[(0,r.jsx)(I.i4,{children:(0,r.jsx)(I.ki,{placeholder:"Select site"})}),(0,r.jsx)(I.Bw,{children:(0,r.jsxs)(I.DI,{children:[(0,r.jsx)(I.n5,{children:"Sites"}),x.map(e=>{let{siteId:l,name:s}=e;return(0,r.jsx)(I.Ql,{value:l,children:s},l)})]})})]}),!!(null===(l=p.siteId)||void 0===l?void 0:l.message)&&(0,r.jsx)("div",{className:"text-xs text-danger mt-1",children:p.siteId.message})]}),(0,r.jsxs)("div",{className:(0,t.cn)("flex gap-x-2"),children:[(0,r.jsx)(C.X,{name:"overwriteExisting",id:"overwriteExisting",checked:L,onCheckedChange:()=>F("overwriteExisting",!L,{shouldDirty:!0})}),(0,r.jsx)(w._,{secondary:!0,htmlFor:"overwriteExisting",children:"Overwrite existing"})]})]}),(0,r.jsxs)(k.cN,{children:[(0,r.jsx)(k.GG,{asChild:!0,children:(0,r.jsx)(c.z,{variant:"ghost",children:"Cancel"})}),(0,r.jsxs)(c.z,{onClick:V,disabled:!_,children:[(0,r.jsx)(g.Z,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})]}),z&&(0,r.jsx)(n.a,{overlay:!0})]})}function D(e){let{sortBy:l,typeFilter:s,statusFilter:a,onSortChange:t,onFilterChange:i}=e;return(0,r.jsx)("div",{className:"p-4 flex flex-col gap-y-4",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,r.jsx)("div",{className:"text-2xl",children:"Drugs & Fluids Library"}),(0,r.jsxs)("div",{className:"flex-1 flex flex-wrap items-center justify-end gap-x-4",children:[(0,r.jsx)("div",{children:(0,r.jsxs)(I.Ph,{value:l,onValueChange:t,children:[(0,r.jsx)(I.i4,{className:"w-[140px]",children:(0,r.jsx)(I.ki,{placeholder:"Sort"})}),(0,r.jsxs)(I.Bw,{children:[(0,r.jsx)(I.Ql,{value:"name-asc",children:"Name (A-Z)"}),(0,r.jsx)(I.Ql,{value:"name-desc",children:"Name (Z-A)"}),(0,r.jsx)(I.Ql,{value:"type-asc",children:"Type (A-Z)"}),(0,r.jsx)(I.Ql,{value:"type-desc",children:"Type (Z-A)"}),(0,r.jsx)(I.Ql,{value:"key-asc",children:"Key (A-Z)"}),(0,r.jsx)(I.Ql,{value:"key-desc",children:"Key (Z-A)"})]})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(I.Ph,{value:s||a||"all",onValueChange:e=>{"all"===e?i("",""):"drug"===e||"fluid"===e?i(e,""):("draft"===e||"published"===e)&&i("",e)},children:[(0,r.jsx)(I.i4,{className:"w-[140px]",children:(0,r.jsx)(I.ki,{placeholder:"All items"})}),(0,r.jsxs)(I.Bw,{children:[(0,r.jsx)(I.Ql,{value:"all",children:"All items"}),(0,r.jsx)(I.U$,{}),(0,r.jsxs)(I.DI,{children:[(0,r.jsx)(I.n5,{children:"Status"}),(0,r.jsx)(I.Ql,{value:"published",children:"Published"}),(0,r.jsx)(I.Ql,{value:"draft",children:"Draft"})]}),(0,r.jsx)(I.U$,{}),(0,r.jsxs)(I.DI,{children:[(0,r.jsx)(I.n5,{children:"Types"}),(0,r.jsx)(I.Ql,{value:"drug",children:"Drugs"}),(0,r.jsx)(I.Ql,{value:"fluid",children:"Fluids"})]})]})]})})]})]})})}var Z=s(45188),A=s(6649),E=s(75733),L=s(6884),z=s(23787),_=s(90399),V=s(61386),Q=s(71239);function T(e){let{item:l,disabled:s,copyDrugs:a,deleteDrugs:t,editLink:n}=e,{confirm:d}=(0,i.t)(),o={isDraft:!!l.isDraft,userId:l.draftCreatedByUserId,dataType:l.type},u=(0,Q.v)(o);return s=s||u,(0,r.jsxs)("div",{className:"flex gap-x-2",children:[(0,r.jsx)(V.O,{...o}),(0,r.jsxs)(f.h_,{children:[(0,r.jsx)(f.$F,{asChild:!0,children:(0,r.jsx)(c.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:(0,r.jsx)(Z.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(f.AW,{children:[(0,r.jsx)(f.Xi,{asChild:!0,children:(0,r.jsx)(p.default,{href:n("".concat(l.itemId)),children:(0,r.jsx)(r.Fragment,{children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.Z,{className:"mr-2 h-4 w-4"})," View"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{className:"mr-2 h-4 w-4"})," Edit"]})})})}),!s&&(0,r.jsx)(f.Xi,{onClick:()=>setTimeout(()=>{d(()=>a([l.itemId]),{title:"Copy drug",message:"Are you sure you want to copy drug?<br /> <b>".concat(l.drug,"</b>"),positiveLabel:"Yes, copy",negativeLabel:"Cancel"})},0),children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.Z,{className:"mr-2 h-4 w-4"})," Copy"]})}),(0,r.jsx)(f.Xi,{asChild:!0,children:(0,r.jsxs)(p.default,{target:"_blank",href:"/drugs-fluids-and-feeds/".concat(l.itemId,"/metadata"),children:[(0,r.jsx)(z.Z,{className:"mr-2 h-4 w-4"}),"View metadata"]})}),!s&&(0,r.jsxs)(f.Xi,{onClick:()=>setTimeout(()=>{d(()=>t([l.itemId]),{title:"Delete drug",message:"Are you sure you want to delete drug?",positiveLabel:"Yes, delete",negativeLabel:"Cancel",danger:!0})},0),className:"text-danger focus:bg-danger focus:text-danger-foreground",children:[(0,r.jsx)(_.Z,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Delete"})]})]})]})]})}var M=s(26975),B=s(36013),O=s(89229),G=s(43088);function P(e){let{search:l,setSearch:s,onSearch:a}=e,t=e=>{s(l=>l.value?{...l,filter:e,results:(0,G.UZ)({searchValue:l.value,filter:e,results:l.unfilteredResults})}:{...l,filter:e})};return(0,r.jsxs)(r.Fragment,{children:[l.searching&&(0,r.jsx)(n.a,{overlay:!0}),(0,r.jsxs)("div",{className:"flex flex-col gap-y-2 sm:flex-row sm:items-center sm:gap-x-2",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(O.M,{placeholder:"Search by key, title, label...",onSearch:a})}),!!l.value&&(0,r.jsx)("div",{className:"w-full sm:w-[200px]",children:(0,r.jsxs)(I.Ph,{value:l.filter,onValueChange:e=>t(e),children:[(0,r.jsx)(I.i4,{children:(0,r.jsx)(I.ki,{placeholder:"All matches"})}),(0,r.jsx)(I.Bw,{children:G.kv.map(e=>(0,r.jsx)(I.Ql,{value:e.value,children:e.label},e.value))})]})})]})]})}var $=s(37164);function R(){return(0,r.jsx)(c.z,{asChild:!0,variant:"outline",children:(0,r.jsxs)(p.default,{href:"/drugs-fluids-and-feeds/metadata",target:"_blank",children:[(0,r.jsx)($.Z,{className:"mr-2 h-4 w-4"}),"Export metadata"]})})}function X(e){let{}=e,{confirm:l}=(0,i.t)(),{viewOnly:s}=(0,h.b)(),[j,p]=(0,a.useState)([]),{filteredDrugs:f,tableData:g,loading:y,addLink:b,selectedItemId:N,editLink:w,saveDrugs:C,deleteDrugs:S,copyDrugs:k,search:I,setSearch:Z,onSearch:A,typeFilter:E,statusFilter:L,sortBy:z,setTypeFilter:_,setStatusFilter:V,setSortBy:Q}=(0,u.a)(),O=(0,a.useMemo)(()=>s,[s]),G=I.results,$=(0,a.useMemo)(()=>{let e=new Map;return G.forEach(l=>{(null==l?void 0:l.itemId)&&e.set(l.itemId,l)}),e},[G]),X=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),K=(0,a.useCallback)(e=>{let l="".concat(null!=e?e:"");if(!I.value)return l;let s=I.value.toLowerCase();if(!l.toLowerCase().includes(s))return l;let a=RegExp("(".concat(X(I.value),")"),"gi");return l.split(a).map((e,l)=>e?e.toLowerCase()===s?(0,r.jsx)("mark",{className:"rounded bg-yellow-200 px-1",children:e},l):(0,r.jsx)("span",{children:e},l):null)},[I.value]);return(0,r.jsxs)(r.Fragment,{children:[y&&(0,r.jsx)(n.a,{overlay:!0}),(0,r.jsx)(m.A,{disabled:O,item:f.filter(e=>e.itemId===N)[0],onChange:C}),!!j.length&&(0,r.jsxs)(x.h,{children:[(0,r.jsx)(F,{uuids:f.filter((e,l)=>j.includes(l)).map(e=>e.itemId)}),(0,r.jsxs)(c.z,{variant:"destructive",onClick:()=>setTimeout(()=>{l(()=>S(f.filter((e,l)=>j.includes(l)).map(e=>e.itemId)),{title:"Delete drugs",message:"Are you sure you want to delete drugs?",positiveLabel:"Yes, delete",negativeLabel:"Cancel",danger:!0})},0),children:["Delete ",j.length<2?"":j.length+" items"]})]}),(0,r.jsx)(D,{sortBy:z,typeFilter:E,statusFilter:L,onSortChange:Q,onFilterChange:(e,l)=>{_(e),V(l)}}),(0,r.jsx)("div",{className:"px-4 pb-4",children:(0,r.jsx)(P,{search:I,setSearch:Z,onSearch:A})}),(0,r.jsx)(o.Separator,{}),(0,r.jsx)(d.DataTable,{onSelect:p,selectable:!O,headerActions:(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,r.jsx)(R,{}),(0,r.jsx)(v,{addDrugLink:b("drug"),addFluidLink:b("fluid")})]}),rowRenderer:I.value?e=>{let{props:l,cells:s,rowIndex:a}=e,i=f[a],n=i?$.get(i.itemId):void 0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.SC,{...l,children:s}),n&&n.matches.length?(0,r.jsx)(M.SC,{...l,className:(0,t.cn)(l.className,"bg-yellow-50 hover:bg-yellow-50"),children:(0,r.jsx)(M.pj,{colSpan:s.length,className:"border-t p-0",children:(0,r.jsx)(B.Zb,{className:"m-4 border-none bg-white shadow-none",children:(0,r.jsx)("div",{className:"flex flex-col divide-y text-xs",children:n.matches.map((e,l)=>(0,r.jsxs)("div",{className:"flex flex-col gap-y-1 px-4 py-3 sm:flex-row sm:items-center sm:gap-x-4",children:[(0,r.jsxs)("span",{className:"font-medium text-muted-foreground",children:[e.fieldLabel,e.context?" (".concat(e.context,")"):""]}),(0,r.jsx)("span",{className:"text-foreground sm:ml-auto sm:text-right",children:K(e.fieldValue)})]},"".concat(e.field,"-").concat(l,"-").concat(e.fieldValue)))})})})}):null]})}:void 0,getRowOptions:e=>{let{rowIndex:l}=e,s=f[l];return s?{className:(0,t.cn)(s.isDraft&&"bg-danger/20 hover:bg-danger/30")}:{}},columns:[{name:"Drug / Fluid"},{name:"Type",tdClassName:"w-[80px]"},{name:"Key"},{name:"Dosage text"},{name:"",align:"right",cellRenderer(e){let{value:l}=e,s=f.filter(e=>e.itemId===l)[0];return s?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(T,{item:s,disabled:O,copyDrugs:k,deleteDrugs:S,editLink:w})}):null}}],data:g})]})}},89229:function(e,l,s){"use strict";s.d(l,{M:function(){return i}});var r=s(57437),a=s(2265),t=s(37440);let i=(0,a.forwardRef)((e,l)=>{let{searchButton:s,hideSearchButton:i,onSearch:n,...d}=e,[c,o]=(0,a.useState)("");return(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),null==n||n(c)},children:(0,r.jsxs)("div",{className:(0,t.cn)("flex w-full"),children:[(0,r.jsx)("div",{className:(0,t.cn)("relative w-full"),children:(0,r.jsx)("input",{ref:l,type:"search",placeholder:"Search",value:c,...d,onChange:e=>{var l;let s=e.target.value;o(s),null===(l=d.onChange)||void 0===l||l.call(d,e),s||null==n||n(s)},className:(0,t.cn)("w-full pl-4 py-2 rounded-l-full border focus:outline-none focus:border-secondary bg-transparent",d.className)})}),!i&&(0,r.jsx)("button",{type:"submit",className:(0,t.cn)("px-5 py-2.5 transition-colors bg-transparent border border-l-0 rounded-r-full hover:bg-secondary/10 disabled:opacity-50 disabled:cursor-not-allowed",null==s?void 0:s.className),...s,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})})]})})});i.displayName="SearchInput"},80852:function(e,l,s){"use strict";s.d(l,{L:function(){return n}});var r=s(57437),a=s(2265),t=s(84492),i=s(23920);function n(e){let{value:l,type:s,disabled:n,modal:d,multiple:c,placeholder:o,error:u,onChange:h,filterDataKeys:x}=e,{allDataKeys:m,extractDataKeys:j}=(0,i.M)(),p=(0,a.useMemo)(()=>{let e=m;return s&&""!==s.trim()&&(e=e.filter(e=>e.dataType===s)),x&&(e=e.filter(x)),e.map(e=>({label:e.name,value:e.uniqueKey,caption:e.dataType||"",description:e.label}))},[m,s,x]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(t.V,{multiple:c,modal:d,error:u,placeholder:"".concat(l||"")||o||"Select key",search:{placeholder:"Search data keys"},options:p,onSelect:e=>{let l=j(e.map(e=>e.value)).map(e=>({...e,children:j(e.options)}));null==h||h(l)}})})}},84492:function(e,l,s){"use strict";s.d(l,{V:function(){return h}});var r=s(57437),a=s(2265),t=s(1282),i=s(22468),n=s(50495),d=s(83102),c=s(90837),o=s(37440),u=s(85937);function h(e){let{options:l,selected:s,...a}=e;s=Array.isArray(s)?s:s?[s]:[];let t=l.map(e=>({...e,value:"".concat(e.value)})),i=s.map(e=>"".concat(e));if(!a.multiple){let[e]=Array.isArray(i)?i:[i];e&&t.find(l=>l.value===e)}return(0,r.jsx)(x,{...a,options:t,selected:i})}function x(e){var l;let{modal:s,header:h,placeholder:x,search:m,multiple:j=!1,error:p=!1,disabled:f=!1,selected:v,options:g=[],trigger:y,onTrigger:b,onSelect:N}=e,[w,C]=(0,a.useState)(""),S=(0,u.N)(w),[k,I]=(0,a.useState)([]),F=(0,a.useMemo)(()=>v?Array.isArray(v)?v.map(e=>g.find(l=>(null==l?void 0:l.value)===e)).map(e=>e):g.filter(e=>(null==e?void 0:e.value)===v)||[]:[],[v,g]),D=(0,a.useMemo)(()=>g.map(e=>{let l=F.map(e=>null==e?void 0:e.value).map(e=>"".concat(e||"")).filter(e=>e).includes("".concat(null==e?void 0:e.value));return l=l||k.includes(e.value),{...e,isSelected:l}}).sort((e,l)=>(e.disabled?1:0)-(l.disabled?1:0)).sort((e,l)=>{let s=e.isSelected?1:0;return(l.isSelected?1:0)-s}).filter(e=>{let l=S.toLowerCase();return!l||JSON.stringify([e.value||"",e.label||"",e.description||""]).toLowerCase().includes(l)}),[g,S,F,k]);return(0,a.useEffect)(()=>()=>C(""),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.Vq,{modal:s,onOpenChange:()=>{C(""),I([])},children:[(0,r.jsx)(c.hg,{asChild:!0,children:y||(0,r.jsxs)(n.z,{disabled:f,variant:"outline",className:(0,o.cn)("justify-between w-full",p&&"border border-destructive hover:bg-destructive/10"),onClick:b,children:[(0,r.jsx)("span",{className:F.length?"":"opacity-50",children:(null===(l=F[0])||void 0===l?void 0:l.label)||x||""}),(0,r.jsx)(t.Z,{className:"size-4 opacity-50"})]})}),(0,r.jsxs)(c.cZ,{hideCloseButton:!0,className:"flex flex-col max-h-[90%] gap-y-4 p-0 m-0 sm:max-w-xl",children:[(0,r.jsxs)(c.fK,{className:"border-b border-b-border px-4 py-4",children:[(0,r.jsx)(c.$N,{className:"hidden",children:""}),(0,r.jsx)(c.Be,{className:"hidden",children:""}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4",children:[m?(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(d.I,{type:"search",placeholder:m.placeholder||"",value:w,onChange:e=>C(e.target.value)})}):null,h]})]}),(0,r.jsx)("div",{className:"flex-1 flex flex-col gap-y-1 overflow-y-auto px-4 py-2 overflow-x-hidden",children:D.map(e=>{let l=j?"button":c.GG;return(0,r.jsx)(a.Fragment,{children:(0,r.jsx)(l,{onClick:()=>{e.disabled||(e.isSelected?j?I(l=>l.filter(l=>l!==e.value)):null==N||N(F.filter(l=>l.value!==e.value)):j?I(l=>[...l,e.value]):null==N||N([e]))},className:(0,o.cn)("flex flex-col gap-y-1 border border-border p-2 rounded-md items-start text-left",e.disabled?"opacity-50 cursor-not-allowed":"transition-colors hover:bg-primary/20",e.isSelected&&"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground"),children:(0,r.jsxs)("div",{className:"flex items-center",children:[e.isSelected?(0,r.jsx)(i.Z,{className:"size-4 mr-2"}):null,(0,r.jsxs)("div",{children:[e.caption?(0,r.jsx)("div",{className:"text-xs opacity-60",dangerouslySetInnerHTML:{__html:e.caption||""}}):null,(0,r.jsx)("p",{children:e.label}),e.description?(0,r.jsx)("div",{className:"text-xs opacity-60",dangerouslySetInnerHTML:{__html:e.description||""}}):null]})]})})},e.value)})}),(0,r.jsxs)(c.cN,{className:"border-t border-t-border px-4 py-2 items-center w-full gap-x-2",children:[(0,r.jsx)(c.GG,{asChild:!0,children:(0,r.jsx)(n.z,{variant:"ghost",children:"Close"})}),!!k.length&&(0,r.jsx)(c.GG,{asChild:!0,children:(0,r.jsx)(n.z,{onClick:()=>{null==N||N(k.map(e=>D.find(l=>l.value===e)).filter(e=>e))},children:"Save"})})]})]})]})})}},64344:function(e,l,s){"use strict";s.d(l,{Separator:function(){return n}});var r=s(57437),a=s(2265),t=s(48484),i=s(37440);let n=a.forwardRef((e,l)=>{let{className:s,orientation:a="horizontal",decorative:n=!0,...d}=e;return(0,r.jsx)(t.f,{ref:l,decorative:n,orientation:a,className:(0,i.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...d})});n.displayName=t.f.displayName},53853:function(e,l,s){"use strict";s.d(l,{k:function(){return n}});var r=s(2265),a=s(38472),t=s(17647),i=s(53699);function n(e){let{loadOnMount:l=!0,onLoadSitesError:s}={...e},[n,d]=(0,r.useState)(!1),{alert:c}=(0,i.s)(),{getSites:o}=(0,t.b)(),[u,h]=(0,r.useState)([]),x=(0,r.useCallback)(async()=>{try{var e;d(!0);let l=(await a.Z.get("/api/sites?data="+JSON.stringify({types:["webeditor"]}))).data;if(null===(e=l.errors)||void 0===e?void 0:e.length)throw Error(l.errors.join(", "));h(l.data||[])}catch(e){c({title:"Error",message:"Failed to load sites: "+e.message,variant:"error",onClose:()=>null==s?void 0:s()})}finally{d(!1)}},[o,c,s]);return(0,r.useEffect)(()=>{l&&!u.length&&x()},[u,l,x]),{loading:n,sites:u,loadSites:x}}}},function(e){e.O(0,[4868,1086,7468,6044,8472,193,231,638,5929,9343,4264,4635,7202,7763,4081,4380,259,3920,7420,4915,929,7478,7023,1744],function(){return e(e.s=58039)}),_N_E=e.O()}]);