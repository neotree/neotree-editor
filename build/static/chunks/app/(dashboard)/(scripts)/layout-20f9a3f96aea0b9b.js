(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{10565:function(e,t,r){Promise.resolve().then(r.bind(r,25704)),Promise.resolve().then(r.bind(r,23920)),Promise.resolve().then(r.bind(r,15701))},25704:function(e,t,r){"use strict";r.d(t,{Title:function(){return s}});var a=r(2265),n=r(20357);function s(e){let{children:t}=e;return(0,a.useEffect)(()=>{document.title=[n.env.NEXT_PUBLIC_APP_NAME||"",t||""].filter(e=>e).join(" - ")},[t]),(0,a.useEffect)(()=>()=>{document.title="".concat(n.env.NEXT_PUBLIC_APP_NAME||"")},[]),null}},15701:function(e,t,r){"use strict";r.d(t,{ScriptsContextProvider:function(){return d},h:function(){return l}});var a=r(57437),n=r(2265),s=r(16463),i=r(12491),o=r(38472),u=r(23733);let c=(0,n.createContext)(null),l=()=>(0,n.useContext)(c);function d(e){let{children:t,...r}=e,l=function(e){let{}=e,t=(0,s.useRouter)(),{scriptId:r}=(0,s.useParams)(),{parsed:a}=(0,u.l)(),[c,l]=(0,n.useState)(!1),[d,f]=(0,n.useState)({data:[]}),[v,p]=(0,n.useState)(!1),[h,g]=(0,n.useState)([]),C=(0,n.useCallback)(()=>{t.push("/")},[t]),E=(0,n.useCallback)(()=>{t.push("/script/".concat(r,"?").concat(i.Z.stringify({...a,section:"screens"})))},[t,a,r]),k=(0,n.useCallback)(()=>{t.push("/script/".concat(r,"?").concat(i.Z.stringify({...a,section:"diagnoses"})))},[t,a,r]),y=(0,n.useCallback)(async()=>{try{var e,t;l(!0);let a=await o.Z.get("/api/screens/list?data="+JSON.stringify({returnDraftsIfExist:!0,scriptsIds:[r]}));if(null===(t=a.data)||void 0===t?void 0:null===(e=t.errors)||void 0===e?void 0:e.length)throw Error(a.data.errors.join(", "));f(a.data)}catch(e){alert({title:"",message:"Error: "+e.message,variant:"error"})}finally{l(!1)}},[r,open,alert]);return{screens:d,screensLoading:c,keys:h,keysLoading:v,loadKeys:(0,n.useCallback)(async()=>{try{var e,t;p(!0);let a=await o.Z.get("/api/scripts/keys?data="+JSON.stringify({returnDraftsIfExist:!0,scriptsIds:[r]}));if(null===(t=a.data)||void 0===t?void 0:null===(e=t.errors)||void 0===e?void 0:e.length)throw Error(a.data.errors.join(", "));let n=a.data.data.reduce((e,t)=>[...e,...t.keys],[]);g(n)}catch(e){alert({title:"",message:"Error: "+e.message,variant:"error"})}finally{p(!1)}},[r,open,alert]),loadScreens:y,onCancelDiagnosisForm:k,onCancelScreenForm:E,onCancelScriptForm:C}}(r);return(0,a.jsx)(c.Provider,{value:{...r,...l},children:t})}},23733:function(e,t,r){"use strict";r.d(t,{l:function(){return i}});var a=r(16463),n=r(12491),s=r(2265);function i(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),r=(0,s.useMemo)(()=>t.toString(),[t]),i=(0,s.useMemo)(()=>n.Z.parse(t.toString()),[t]),o=(0,s.useCallback)(e=>n.Z.stringify({...i,...e}),[i]),u=(0,s.useCallback)(t=>{e.push("?".concat(o(t)))},[o,e]);return{parsed:i,stringified:r,replace:(0,s.useCallback)(t=>{e.replace("?".concat(o(t)))},[o,e]),push:u,toSearchParams:o}}}},function(e){e.O(0,[8472,7202,3472,3920,7478,7023,1744],function(){return e(e.s=10565)}),_N_E=e.O()}]);