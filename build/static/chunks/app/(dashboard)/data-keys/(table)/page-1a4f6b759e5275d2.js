(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1967],{11873:function(e,t,s){Promise.resolve().then(s.bind(s,6047)),Promise.resolve().then(s.bind(s,25704))},6047:function(e,t,s){"use strict";s.d(t,{DataKeysTable:function(){return T}});var n=s(57437),a=s(23920),r=s(44380),l=s(17647),i=s(37440),d=s(39661),o=s(92513),c=s(87138),u=s(50495),x=s(64344),f=s(83146),m=s(46294);function h(){let{sort:e,filter:t,onSort:s,setFilter:r}=(0,a.M)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"p-4 flex flex-col gap-y-4",children:(0,n.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,n.jsx)("div",{className:"text-2xl",children:"Data keys"}),(0,n.jsxs)("div",{className:"flex-1 flex flex-wrap items-center justify-end gap-x-4",children:[(0,n.jsx)("div",{children:(0,n.jsxs)(m.Ph,{value:e,onValueChange:e=>s(e),children:[(0,n.jsx)(m.i4,{children:(0,n.jsx)(m.ki,{placeholder:"Sort"})}),(0,n.jsx)(m.Bw,{children:f.F4.map(e=>(0,n.jsx)(m.Ql,{value:e.value,children:(0,n.jsxs)("div",{className:"flex items-center gap-x-2 w-[120px]",children:[(0,n.jsx)(e.Icon,{className:"size-4"}),(0,n.jsx)("span",{children:e.label})]})},e.value))})]})}),(0,n.jsx)("div",{children:(0,n.jsxs)(m.Ph,{value:t,onValueChange:e=>r("all"===e?"":e),children:[(0,n.jsx)(m.i4,{children:(0,n.jsx)(m.ki,{placeholder:"All keys"})}),(0,n.jsxs)(m.Bw,{children:[(0,n.jsx)(m.Ql,{value:"all",children:"All keys"}),(0,n.jsx)(m.U$,{}),(0,n.jsxs)(m.DI,{children:[(0,n.jsx)(m.n5,{children:"Status"}),f.UQ.map(e=>(0,n.jsx)(m.Ql,{value:e.value,children:e.label},e.value))]}),(0,n.jsx)(m.U$,{}),(0,n.jsxs)(m.DI,{children:[(0,n.jsx)(m.n5,{children:"Types"}),f.y0.map(e=>(0,n.jsx)(m.Ql,{value:e.value,children:e.label},e.value))]})]})]})}),(0,n.jsx)(u.z,{asChild:!0,variant:"ghost",className:"w-auto h-auto",children:(0,n.jsxs)(c.default,{href:"/data-keys/new",children:[(0,n.jsx)(o.Z,{className:"size-4 mr-2"}),"Add"]})})]})]})}),(0,n.jsx)(x.Z,{})]})}var p=s(2265),j=s(45188),g=s(75733),v=s(6649),N=s(90399),y=s(46910),w=s(76230);function b(e){let{rowIndex:t,disabled:s,setCurrentDataKeyUuid:r}=e,[l,o]=(0,p.useTransition)(),{dataKeys:u,deleteDataKeys:x}=(0,a.M)(),{confirm:f}=(0,w.t)(),m=u[t];return m?(0,n.jsxs)(n.Fragment,{children:[l&&(0,n.jsx)(d.a,{overlay:!0}),(0,n.jsxs)(y.h_,{children:[(0,n.jsx)(y.$F,{children:(0,n.jsx)(j.Z,{className:"h-4 w-4"})}),(0,n.jsxs)(y.AW,{children:[(0,n.jsx)(y.Xi,{asChild:!0,onClick:()=>setTimeout(()=>o(()=>{}),0),children:(0,n.jsx)(c.default,{href:"/data-keys/edit/".concat(m.uuid),children:s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{className:"h-4 w-4 mr-2"})," View"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.Z,{className:"h-4 w-4 mr-2"})," Edit"]})})}),(0,n.jsxs)(y.Xi,{className:(0,i.cn)("text-destructive",s&&"hidden"),onClick:()=>setTimeout(()=>{f(()=>x([m.uuid]),{title:"Delete data key",message:"Are you sure?"})},0),children:[(0,n.jsx)(N.Z,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]}):null}var k=s(17501),C=s(58184),E=s(39343),Z=s(53853),_=s(67135),P=s(86466),D=s(90837);function I(e){var t;let{uuids:s}=e,[r,l]=(0,p.useState)(!1),{dataKeys:o,exporting:c,exportDataKeys:x,extractDataKeys:f}=(0,a.M)(),{sites:h,loading:j,loadSites:g}=(0,Z.k)({loadOnMount:!1,onLoadSitesError:()=>l(!1)}),{formState:{errors:v},reset:N,watch:y,setValue:w,handleSubmit:b,setError:k}=(0,E.cI)({defaultValues:{siteId:"",overwriteExisting:!1}}),I=y("siteId"),z=y("overwriteExisting"),R=c||j,T=!!I&&!R,S=b(async e=>{if(e.siteId){let t=f(s,{withNested:!0}).map(e=>e.uuid);await x({...e,uuids:t}),l(!1)}else k("siteId",{message:"Site is required"})});return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(D.Vq,{open:r,onOpenChange:e=>{N(),e&&g(),l(e)},children:[(0,n.jsx)(D.hg,{asChild:!0,children:(0,n.jsxs)(u.z,{className:"h-auto w-auto",children:[(0,n.jsx)(C.Z,{className:"h-4 w-4 mr-1"}),(0,n.jsx)("span",{children:s.length>1?"Export ".concat(s.length):"Export"})]})}),(0,n.jsxs)(D.cZ,{children:[(0,n.jsxs)(D.fK,{children:[(0,n.jsx)(D.$N,{children:"Export"}),(0,n.jsx)(D.Be,{className:"hidden",children:""})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(_._,{htmlFor:"siteId",children:"Site *"}),(0,n.jsxs)(m.Ph,{name:"siteId",onValueChange:e=>w("siteId",e,{shouldDirty:!0}),children:[(0,n.jsx)(m.i4,{children:(0,n.jsx)(m.ki,{placeholder:"Select site"})}),(0,n.jsx)(m.Bw,{children:(0,n.jsxs)(m.DI,{children:[(0,n.jsx)(m.n5,{children:"Sites"}),h.map(e=>{let{siteId:t,name:s}=e;return(0,n.jsx)(m.Ql,{value:t,children:s},t)})]})})]}),!!(null===(t=v.siteId)||void 0===t?void 0:t.message)&&(0,n.jsx)("div",{className:"text-xs text-danger mt-1",children:v.siteId.message})]}),(0,n.jsxs)("div",{className:(0,i.cn)("flex gap-x-2"),children:[(0,n.jsx)(P.X,{name:"overwriteExisting",id:"overwriteExisting",checked:z,onCheckedChange:()=>w("overwriteExisting",!z,{shouldDirty:!0})}),(0,n.jsx)(_._,{secondary:!0,htmlFor:"overwriteExisting",children:"Overwrite existing"})]}),R&&(0,n.jsx)(d.a,{overlay:!0})]}),(0,n.jsxs)(D.cN,{children:[(0,n.jsx)(D.GG,{asChild:!0,children:(0,n.jsx)(u.z,{variant:"ghost",children:"Cancel"})}),(0,n.jsxs)(u.z,{onClick:S,disabled:!T,children:[(0,n.jsx)(C.Z,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})]})})}function z(e){let{disabled:t}=e,{confirm:s}=(0,w.t)(),{selected:r,setSelected:l,deleteDataKeys:i}=(0,a.M)();return t||!r.length?null:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(k.h,{children:[(0,n.jsx)(u.z,{variant:"ghost",onClick:()=>l([]),children:"Cancel"}),(0,n.jsx)(I,{uuids:r.map(e=>e.uuid)}),(0,n.jsxs)(u.z,{variant:"destructive",onClick:()=>setTimeout(()=>{s(()=>i(r.map(e=>e.uuid)),{title:"Delete data keys",message:"Are you sure?"})},0),children:[(0,n.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Delete",r.length>1?" ".concat(r.length," keys"):""]})]})})}var R=s(2814);function T(e){let{disabled:t}=e,{viewOnly:s}=(0,l.b)();t=t||s;let{dataKeys:o,selected:c,deleting:u,loadingDataKeys:x,setCurrentDataKeyUuid:f,setSelected:m,pagination:p,currentPage:j,itemsPerPage:g,setCurrentPage:v,searchValue:N,setSearchValue:y}=(0,a.M)(),w=e=>{v(e),m([])},k={selectable:!t,selectedIndexes:c.map(e=>e.index),onSelect:e=>m(e.map(e=>{var t;return{index:e,uuid:null===(t=o[e])||void 0===t?void 0:t.uuid}}).filter(e=>e.uuid)),getRowOptions(e){let{rowIndex:t}=e,n=o[t];return n?{className:(0,i.cn)(!s&&n.isDraft&&"bg-danger/20 hover:bg-danger/30")}:{}},search:{inputPlaceholder:"Search data keys",value:N,setValue:y},noDataMessage:(0,n.jsx)("div",{className:"mt-4 flex flex-col items-center justify-center gap-y-2",children:(0,n.jsx)("div",{children:"No data keys found."})}),columns:[{name:"Key"},{name:"Label"},{name:"Ref ID",cellClassName:"hidden"},{name:"Data type"},{name:"",align:"right",cellClassName:(0,i.cn)("w-10"),cellRenderer(e){let{rowIndex:s}=e;return(0,n.jsx)(b,{rowIndex:s,disabled:t,setCurrentDataKeyUuid:f})}}],data:o.map(e=>[e.name||"",e.label||"",e.refId||"",e.dataType||"",""])};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,n.jsx)(h,{}),(0,n.jsx)(r.DataTable,{...k}),p&&p.totalPages>1&&(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(R.tl,{children:(0,n.jsxs)(R.ng,{children:[(0,n.jsx)(R.nt,{children:(0,n.jsx)(R.dN,{onClick:()=>w(Math.max(1,j-1)),className:(0,i.cn)("cursor-pointer",1===j&&"pointer-events-none opacity-50")})}),(()=>{if(!p)return null;let{page:e,totalPages:t}=p,s=[];if(s.push(1),t<=7)for(let e=2;e<=t;e++)s.push(e);else{e>3&&s.push("ellipsis");for(let n=Math.max(2,e-1);n<=Math.min(t-1,e+1);n++)s.push(n);e<t-2&&s.push("ellipsis"),t>1&&s.push(t)}return s.map((t,s)=>"ellipsis"===t?(0,n.jsx)(R.nt,{children:(0,n.jsx)(R.Dj,{})},"ellipsis-".concat(s)):(0,n.jsx)(R.nt,{children:(0,n.jsx)(R.kN,{onClick:()=>w(t),isActive:t===e,className:"cursor-pointer",children:t})},t))})(),(0,n.jsx)(R.nt,{children:(0,n.jsx)(R.$0,{onClick:()=>w(Math.min(p.totalPages,j+1)),className:(0,i.cn)("cursor-pointer",j===p.totalPages&&"pointer-events-none opacity-50")})})]})}),(0,n.jsxs)("div",{className:"text-sm text-muted-foreground text-center",children:["Showing ",(j-1)*g+1," to ",Math.min(j*g,p.total)," of ",p.total," entries"]})]})]}),(0,n.jsx)(z,{disabled:t}),(u||x)&&(0,n.jsx)(d.a,{overlay:!0})]})}},17501:function(e,t,s){"use strict";s.d(t,{h:function(){return l}});var n=s(57437),a=s(77606),r=s(37440);function l(e){let{children:t,className:s}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-16"}),(0,n.jsx)("div",{className:(0,r.cn)("\n                        fixed \n                        left-0 \n                        bottom-0 \n                        h-16 \n                        w-full \n                        border-t \n                        border-t-border \n                        z-[1] \n                        bg-primary-foreground \n                        dark:bg-background \n                        shadow-md \n                        dark:shadow-foreground/10\n                    "),children:(0,n.jsx)(a.V,{children:(0,n.jsx)("div",{className:(0,r.cn)("flex justify-end gap-x-4",s),children:t})})})]})}},77606:function(e,t,s){"use strict";s.d(t,{V:function(){return r}});var n=s(57437),a=s(37440);function r(e){let{className:t,...s}=e;return(0,n.jsx)("div",{...s,className:(0,a.cn)("w-full max-w-screen-xl mx-auto p-5",t)})}},39661:function(e,t,s){"use strict";s.d(t,{a:function(){return r}});var n=s(57437),a=s(89627);function r(e){let{overlay:t,transparent:s}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",...t?{height:"100%",position:"fixed",top:0,left:0,bottom:0,zIndex:999,backgroundColor:s?"transparent":"rgba(255,255,255,.6)"}:{padding:"50px 0"}},children:(0,n.jsx)(a.Z,{style:{height:24,width:24},className:"animate-spin"})})})}},58502:function(e,t,s){"use strict";s.d(t,{SocketEventsListener:function(){return l}});var n=s(2265),a=s(16463),r=s(7752);function l(e){let{events:t}=e,s=(0,n.useRef)({eventsTimeouts:{},eventsTimestamps:{}});(0,n.useRef)(new Date().getTime());let l=(0,a.useRouter)();return(0,n.useEffect)(()=>{t.forEach(e=>{let{name:t,action:n,delay:a=100,onEvent:i}=e;r.Z.on(t,function(){for(var e=arguments.length,r=Array(e),d=0;d<e;d++)r[d]=arguments[d];let o=()=>{var e,s;(!n||r[0]===n)&&(null===(e=i.callback)||void 0===e||e.call(i,...r),(null==i?void 0:i.refreshRouter)&&(console.log(t,"refreshing..."),l.refresh()),(null===(s=i.redirect)||void 0===s?void 0:s.to)&&(i.redirect.replace?l.replace(i.redirect.to):l.push(i.redirect.to)))},c=new Date().getTime();a?(clearTimeout(s.current.eventsTimeouts[t]),s.current.eventsTimeouts[t]=setTimeout(()=>{s.current.eventsTimestamps[t]=c,o()},a)):(s.current.eventsTimestamps[t]=new Date().getTime(),o())})})},[t,l]),null}},25704:function(e,t,s){"use strict";s.d(t,{Title:function(){return r}});var n=s(2265),a=s(20357);function r(e){let{children:t}=e;return(0,n.useEffect)(()=>{document.title=[a.env.NEXT_PUBLIC_APP_NAME||"",t||""].filter(e=>e).join(" - ")},[t]),(0,n.useEffect)(()=>()=>{document.title="".concat(a.env.NEXT_PUBLIC_APP_NAME||"")},[]),null}},90837:function(e,t,s){"use strict";s.d(t,{$N:function(){return p},Be:function(){return j},GG:function(){return u},Vq:function(){return d},cN:function(){return h},cZ:function(){return f},fK:function(){return m},hg:function(){return o}});var n=s(57437),a=s(2265),r=s(13304),l=s(74697),i=s(37440);let d=r.fC,o=r.xz,c=r.h_,u=r.x8,x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});x.displayName=r.aV.displayName;let f=a.forwardRef((e,t)=>{let{className:s,children:a,hideCloseButton:d,...o}=e;return(0,n.jsxs)(c,{children:[(0,n.jsx)(x,{}),(0,n.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[a,!0!==d&&(0,n.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(l.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=r.VY.displayName;let m=e=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};m.displayName="DialogHeader";let h=e=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};h.displayName="DialogFooter";let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});p.displayName=r.Dx.displayName;let j=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});j.displayName=r.dk.displayName},67135:function(e,t,s){"use strict";s.d(t,{_:function(){return o}});var n=s(57437),a=s(2265),r=s(38364),l=s(13027),i=s(37440);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,t)=>{let{className:s,secondary:a,error:l,...o}=e;return(0,n.jsx)(r.f,{ref:t,className:(0,i.cn)(d(),a&&"text-xs",l?"text-danger":"",s),...o})});o.displayName=r.f.displayName},2814:function(e,t,s){"use strict";s.d(t,{$0:function(){return h},Dj:function(){return p},dN:function(){return m},kN:function(){return f},ng:function(){return u},nt:function(){return x},tl:function(){return c}});var n=s(57437),a=s(2265),r=s(70518),l=s(87592),i=s(63550),d=s(37440),o=s(50495);let c=e=>{let{className:t,...s}=e;return(0,n.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,d.cn)("mx-auto flex w-full justify-center",t),...s})};c.displayName="Pagination";let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("ul",{ref:t,className:(0,d.cn)("flex flex-row items-center gap-1",s),...a})});u.displayName="PaginationContent";let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)("li",{ref:t,className:(0,d.cn)("",s),...a})});x.displayName="PaginationItem";let f=e=>{let{className:t,isActive:s,size:a="icon",...r}=e;return(0,n.jsx)("a",{"aria-current":s?"page":void 0,className:(0,d.cn)((0,o.d)({variant:s?"outline":"ghost",size:a}),t),...r})};f.displayName="PaginationLink";let m=e=>{let{className:t,children:s,...a}=e;return(0,n.jsxs)(f,{"aria-label":"Go to previous page",size:"default",className:(0,d.cn)("gap-1 pl-2.5",t),...a,children:[(0,n.jsx)(r.Z,{className:"h-4 w-4"}),s||(0,n.jsx)("span",{children:"Previous"})]})};m.displayName="PaginationPrevious";let h=e=>{let{className:t,children:s,...a}=e;return(0,n.jsxs)(f,{"aria-label":"Go to next page",size:"default",className:(0,d.cn)("gap-1 pr-2.5",t),...a,children:[s||(0,n.jsx)("span",{children:"Next"}),(0,n.jsx)(l.Z,{className:"h-4 w-4"})]})};h.displayName="PaginationNext";let p=e=>{let{className:t,...s}=e;return(0,n.jsxs)("span",{"aria-hidden":!0,className:(0,d.cn)("flex h-9 w-9 items-center justify-center",t),...s,children:[(0,n.jsx)(i.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"More pages"})]})};p.displayName="PaginationEllipsis"},46294:function(e,t,s){"use strict";s.d(t,{Bw:function(){return p},DI:function(){return u},Ph:function(){return c},Ql:function(){return g},U$:function(){return v},i4:function(){return f},ki:function(){return x},n5:function(){return j}});var n=s(57437),a=s(2265),r=s(48297),l=s(42421),i=s(14392),d=s(22468),o=s(37440);let c=r.fC,u=r.ZA,x=r.B4,f=a.forwardRef((e,t)=>{let{className:s,children:a,error:i,...d}=e;return(0,n.jsxs)(r.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i&&"border-danger",s),...d,children:[a,(0,n.jsx)(r.JO,{asChild:!0,children:(0,n.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=r.xz.displayName;let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,n.jsx)(i.Z,{className:"h-4 w-4"})})});m.displayName=r.u_.displayName;let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})});h.displayName=r.$G.displayName;let p=a.forwardRef((e,t)=>{let{className:s,children:a,position:l="popper",...i}=e;return(0,n.jsx)(r.h_,{children:(0,n.jsxs)(r.VY,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,n.jsx)(m,{}),(0,n.jsx)(r.l_,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,n.jsx)(h,{})]})})});p.displayName=r.VY.displayName;let j=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})});j.displayName=r.__.displayName;let g=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,n.jsxs)(r.ck,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(r.wU,{children:(0,n.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(r.eT,{children:a})]})});g.displayName=r.ck.displayName;let v=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(r.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...a})});v.displayName=r.Z0.displayName},64344:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(57437),a=s(2265),r=s(48484),l=s(37440);let i=a.forwardRef((e,t)=>{let{className:s,orientation:a="horizontal",decorative:i=!0,...d}=e;return(0,n.jsx)(r.f,{ref:t,decorative:i,orientation:a,className:(0,l.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",s),...d})});i.displayName=r.f.displayName},17647:function(e,t,s){"use strict";s.d(t,{AppContextProvider:function(){return j},b:function(){return p}});var n=s(57437),a=s(2265),r=s(79512),l=s(16463),i=s(23314),d=s(44785);let o=d.Z.get,c=d.Z.set;d.Z.remove;var u={get:o,set:c};function x(){let e=u.get("mode");return e||(e="view",u.set("mode",e,{expires:31536e7})),e}var f=s(7752),m=s(58502);let h=(0,a.createContext)(null),p=()=>(0,a.useContext)(h);function j(e){let{children:t,...s}=e,d=function(e){(0,l.useRouter)();let{isAdmin:t,isSuperUser:s,sys:n}=e,{setTheme:i}=(0,r.F)();(0,a.useEffect)(()=>{"yes"===n.data.hide_theme_toggle&&i("light")},[n]);let d=(0,a.useCallback)(()=>(t||s?x():"view")||"view",[s,t]),[o,c]=(0,a.useState)(d()),m=!t&&!s||"view"===o,h=(0,a.useCallback)(function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let n=function(e){return u.set("mode",e,{expires:31536e7}),x()}(...t);return f.Z.emit("mode_changed",d()),c(d()),n},[d]),p=(0,a.useCallback)(()=>{c(d())},[d]);return{...e,mode:o,viewOnly:m,onModeChange:p,getMode:x,setMode:h}}(s),[o,c]=(0,a.useState)(!1);return((0,i.Z)(()=>{c(!0)}),o)?(0,n.jsxs)(h.Provider,{value:d,children:[t,(0,n.jsx)(m.SocketEventsListener,{events:[{name:"mode_changed",onEvent:{callback:d.onModeChange}}]})]}):null}},76230:function(e,t,s){"use strict";s.d(t,{t:function(){return r}});var n=s(39099);let a={danger:!1,title:"Confirm",message:"Are you sure?",positiveLabel:"Ok",negativeLabel:"Cancel"},r=(0,n.Ue)(e=>({isOpen:!1,...a,confirm:(t,s)=>e({isOpen:!0,...a,...s,onConfirm:t}),close:()=>e({isOpen:!1,onConfirm:void 0,...a})}))},53853:function(e,t,s){"use strict";s.d(t,{k:function(){return i}});var n=s(2265),a=s(38472),r=s(17647),l=s(53699);function i(e){let{loadOnMount:t=!0,onLoadSitesError:s}={...e},[i,d]=(0,n.useState)(!1),{alert:o}=(0,l.s)(),{getSites:c}=(0,r.b)(),[u,x]=(0,n.useState)([]),f=(0,n.useCallback)(async()=>{try{var e;d(!0);let t=(await a.Z.get("/api/sites?data="+JSON.stringify({types:["webeditor"]}))).data;if(null===(e=t.errors)||void 0===e?void 0:e.length)throw Error(t.errors.join(", "));x(t.data||[])}catch(e){o({title:"Error",message:"Failed to load sites: "+e.message,variant:"error",onClose:()=>null==s?void 0:s()})}finally{d(!1)}},[c,o,s]);return(0,n.useEffect)(()=>{t&&!u.length&&f()},[u,t,f]),{loading:i,sites:u,loadSites:f}}},7752:function(e,t,s){"use strict";var n=s(45040),a=s(20357);let r=(0,n.io)(a.env.NEXT_PUBLIC_APP_URL);t.Z=r}},function(e){e.O(0,[4868,1086,7468,6044,193,8472,231,638,2254,2860,8872,7202,581,4380,3920,7478,7023,1744],function(){return e(e.s=11873)}),_N_E=e.O()}]);