(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1967],{53473:function(e,t,a){Promise.resolve().then(a.bind(a,6047)),Promise.resolve().then(a.bind(a,25704))},6047:function(e,t,a){"use strict";a.d(t,{DataKeysTable:function(){return V}});var n=a(57437),s=a(23920),r=a(44380),i=a(17647),l=a(37440),d=a(39661),c=a(92513),o=a(87138),u=a(50495),f=a(64344),x=a(83146),m=a(46294);function h(){let{sort:e,filter:t,onSort:a,setFilter:r}=(0,s.M)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"p-4 flex flex-col gap-y-4",children:(0,n.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,n.jsx)("div",{className:"text-2xl",children:"Data keys"}),(0,n.jsxs)("div",{className:"flex-1 flex flex-wrap items-center justify-end gap-x-4",children:[(0,n.jsx)("div",{children:(0,n.jsxs)(m.Ph,{value:e,onValueChange:e=>a(e),children:[(0,n.jsx)(m.i4,{children:(0,n.jsx)(m.ki,{placeholder:"Sort"})}),(0,n.jsx)(m.Bw,{children:x.F4.map(e=>(0,n.jsx)(m.Ql,{value:e.value,children:(0,n.jsxs)("div",{className:"flex items-center gap-x-2 w-[160px]",children:[(0,n.jsx)(e.Icon,{className:"size-4"}),(0,n.jsx)("span",{children:e.label})]})},e.value))})]})}),(0,n.jsx)("div",{children:(0,n.jsxs)(m.Ph,{value:t,onValueChange:e=>r("all"===e?"":e),children:[(0,n.jsx)(m.i4,{children:(0,n.jsx)(m.ki,{placeholder:"All keys"})}),(0,n.jsxs)(m.Bw,{children:[(0,n.jsx)(m.Ql,{value:"all",children:"All keys"}),(0,n.jsx)(m.U$,{}),(0,n.jsxs)(m.DI,{children:[(0,n.jsx)(m.n5,{children:"Status"}),x.UQ.map(e=>(0,n.jsx)(m.Ql,{value:e.value,children:e.label},e.value))]}),(0,n.jsx)(m.U$,{}),(0,n.jsxs)(m.DI,{children:[(0,n.jsx)(m.n5,{children:"Types"}),x.y0.map(e=>(0,n.jsx)(m.Ql,{value:e.value,children:e.label},e.value))]})]})]})}),(0,n.jsx)(u.z,{asChild:!0,variant:"ghost",className:"w-auto h-auto",children:(0,n.jsxs)(o.default,{href:"/data-keys/new",children:[(0,n.jsx)(c.Z,{className:"size-4 mr-2"}),"Add"]})})]})]})}),(0,n.jsx)(f.Separator,{})]})}var p=a(2265),j=a(45188),g=a(75733),y=a(6649),v=a(90399),N=a(46910),w=a(76230),b=a(61386),k=a(71239);function C(e){let{rowIndex:t,disabled:a,setCurrentDataKeyUuid:r}=e,[i,c]=(0,p.useTransition)(),{dataKeys:u,deleteDataKeys:f}=(0,s.M)(),{confirm:x}=(0,w.t)(),m=u[t],h={isDraft:null==m?void 0:m.isDraft,userId:null==m?void 0:m.draftCreatedByUserId,dataType:"data key"},C=(0,k.v)(h);return(a=a||C,m)?(0,n.jsxs)("div",{className:"flex gap-x-2",children:[i&&(0,n.jsx)(d.a,{overlay:!0}),(0,n.jsx)(b.O,{...h}),(0,n.jsxs)(N.h_,{children:[(0,n.jsx)(N.$F,{children:(0,n.jsx)(j.Z,{className:"h-4 w-4"})}),(0,n.jsxs)(N.AW,{children:[(0,n.jsx)(N.Xi,{asChild:!0,onClick:()=>setTimeout(()=>c(()=>{}),0),children:(0,n.jsx)(o.default,{href:"/data-keys/edit/".concat(m.uuid),children:a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{className:"h-4 w-4 mr-2"})," View"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.Z,{className:"h-4 w-4 mr-2"})," Edit"]})})}),(0,n.jsxs)(N.Xi,{className:(0,l.cn)("text-destructive",a&&"hidden"),onClick:()=>setTimeout(()=>{x(()=>f([m.uuid]),{title:"Delete data key",message:"Are you sure?"})},0),children:[(0,n.jsx)(v.Z,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})]}):null}var Z=a(17501),z=a(58184),E=a(39343),I=a(53853),R=a(67135),_=a(86466),D=a(90837);function P(e){var t;let{uuids:a}=e,[r,i]=(0,p.useState)(!1),{dataKeys:c,exporting:o,exportDataKeys:f,extractDataKeys:x}=(0,s.M)(),{sites:h,loading:j,loadSites:g}=(0,I.k)({loadOnMount:!1,onLoadSitesError:()=>i(!1)}),{formState:{errors:y},reset:v,watch:N,setValue:w,handleSubmit:b,setError:k}=(0,E.cI)({defaultValues:{siteId:"",overwriteExisting:!1}}),C=N("siteId"),Z=N("overwriteExisting"),P=o||j,M=!!C&&!P,S=b(async e=>{if(e.siteId){let t=x(a,{withNested:!0}).map(e=>e.uuid);await f({...e,uuids:t}),i(!1)}else k("siteId",{message:"Site is required"})});return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(D.Vq,{open:r,onOpenChange:e=>{v(),e&&g(),i(e)},children:[(0,n.jsx)(D.hg,{asChild:!0,children:(0,n.jsxs)(u.z,{className:"h-auto w-auto",children:[(0,n.jsx)(z.Z,{className:"h-4 w-4 mr-1"}),(0,n.jsx)("span",{children:a.length>1?"Export ".concat(a.length):"Export"})]})}),(0,n.jsxs)(D.cZ,{children:[(0,n.jsxs)(D.fK,{children:[(0,n.jsx)(D.$N,{children:"Export"}),(0,n.jsx)(D.Be,{className:"hidden",children:""})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(R._,{htmlFor:"siteId",children:"Site *"}),(0,n.jsxs)(m.Ph,{name:"siteId",onValueChange:e=>w("siteId",e,{shouldDirty:!0}),children:[(0,n.jsx)(m.i4,{children:(0,n.jsx)(m.ki,{placeholder:"Select site"})}),(0,n.jsx)(m.Bw,{children:(0,n.jsxs)(m.DI,{children:[(0,n.jsx)(m.n5,{children:"Sites"}),h.map(e=>{let{siteId:t,name:a}=e;return(0,n.jsx)(m.Ql,{value:t,children:a},t)})]})})]}),!!(null===(t=y.siteId)||void 0===t?void 0:t.message)&&(0,n.jsx)("div",{className:"text-xs text-danger mt-1",children:y.siteId.message})]}),(0,n.jsxs)("div",{className:(0,l.cn)("flex gap-x-2"),children:[(0,n.jsx)(_.X,{name:"overwriteExisting",id:"overwriteExisting",checked:Z,onCheckedChange:()=>w("overwriteExisting",!Z,{shouldDirty:!0})}),(0,n.jsx)(R._,{secondary:!0,htmlFor:"overwriteExisting",children:"Overwrite existing"})]}),P&&(0,n.jsx)(d.a,{overlay:!0})]}),(0,n.jsxs)(D.cN,{children:[(0,n.jsx)(D.GG,{asChild:!0,children:(0,n.jsx)(u.z,{variant:"ghost",children:"Cancel"})}),(0,n.jsxs)(u.z,{onClick:S,disabled:!M,children:[(0,n.jsx)(z.Z,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})]})})}function M(e){let{disabled:t}=e,{confirm:a}=(0,w.t)(),{selected:r,setSelected:i,deleteDataKeys:l}=(0,s.M)();return t||!r.length?null:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(Z.h,{children:[(0,n.jsx)(u.z,{variant:"ghost",onClick:()=>i([]),children:"Cancel"}),(0,n.jsx)(P,{uuids:r.map(e=>e.uuid)}),(0,n.jsxs)(u.z,{variant:"destructive",onClick:()=>setTimeout(()=>{a(()=>l(r.map(e=>e.uuid)),{title:"Delete data keys",message:"Are you sure?"})},0),children:[(0,n.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Delete",r.length>1?" ".concat(r.length," keys"):""]})]})})}var S=a(2814);function V(e){let{disabled:t}=e,{viewOnly:a}=(0,i.b)();t=t||a;let{dataKeys:c,selected:o,deleting:u,loadingDataKeys:f,setCurrentDataKeyUuid:x,setSelected:m,pagination:p,currentPage:j,itemsPerPage:g,setCurrentPage:y,searchValue:v,setSearchValue:N}=(0,s.M)(),w=e=>{y(e),m([])},b={selectable:!t,selectedIndexes:o.map(e=>e.index),onSelect:e=>m(e.map(e=>{var t;return{index:e,uuid:null===(t=c[e])||void 0===t?void 0:t.uuid}}).filter(e=>e.uuid)),getRowOptions(e){let{rowIndex:t}=e,n=c[t];return n?{className:(0,l.cn)(!a&&n.isDraft&&"bg-danger/20 hover:bg-danger/30")}:{}},search:{inputPlaceholder:"Search data keys",value:v,setValue:N},noDataMessage:(0,n.jsx)("div",{className:"mt-4 flex flex-col items-center justify-center gap-y-2",children:(0,n.jsx)("div",{children:"No data keys found."})}),columns:[{name:"Key"},{name:"Label"},{name:"Ref ID",cellClassName:"hidden"},{name:"Data type"},{name:"",align:"right",cellClassName:(0,l.cn)("w-10"),cellRenderer(e){let{rowIndex:a}=e;return(0,n.jsx)(C,{rowIndex:a,disabled:t,setCurrentDataKeyUuid:x})}}],data:c.map(e=>[e.name||"",e.label||"",e.refId||"",e.dataType||"",""])};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,n.jsx)(h,{}),(0,n.jsx)(r.DataTable,{...b}),p&&p.totalPages>1&&(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(S.tl,{children:(0,n.jsxs)(S.ng,{children:[(0,n.jsx)(S.nt,{children:(0,n.jsx)(S.dN,{onClick:()=>w(Math.max(1,j-1)),className:(0,l.cn)("cursor-pointer",1===j&&"pointer-events-none opacity-50")})}),(()=>{if(!p)return null;let{page:e,totalPages:t}=p,a=[];if(a.push(1),t<=7)for(let e=2;e<=t;e++)a.push(e);else{e>3&&a.push("ellipsis");for(let n=Math.max(2,e-1);n<=Math.min(t-1,e+1);n++)a.push(n);e<t-2&&a.push("ellipsis"),t>1&&a.push(t)}return a.map((t,a)=>"ellipsis"===t?(0,n.jsx)(S.nt,{children:(0,n.jsx)(S.Dj,{})},"ellipsis-".concat(a)):(0,n.jsx)(S.nt,{children:(0,n.jsx)(S.kN,{onClick:()=>w(t),isActive:t===e,className:(0,l.cn)("cursor-pointer"),children:t})},t))})(),(0,n.jsx)(S.nt,{children:(0,n.jsx)(S.$0,{onClick:()=>w(Math.min(p.totalPages,j+1)),className:(0,l.cn)("cursor-pointer",j===p.totalPages&&"pointer-events-none opacity-50")})})]})}),(0,n.jsxs)("div",{className:"text-sm text-muted-foreground text-center",children:["Showing ",(j-1)*g+1," to ",Math.min(j*g,p.total)," of ",p.total," entries"]})]})]}),(0,n.jsx)(M,{disabled:t}),(u||f)&&(0,n.jsx)(d.a,{overlay:!0})]})}},17501:function(e,t,a){"use strict";a.d(t,{h:function(){return i}});var n=a(57437),s=a(77606),r=a(37440);function i(e){let{children:t,className:a}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-16"}),(0,n.jsx)("div",{className:(0,r.cn)("\n                        fixed \n                        left-0 \n                        bottom-0 \n                        h-16 \n                        w-full \n                        border-t \n                        border-t-border \n                        z-[1] \n                        bg-primary-foreground \n                        dark:bg-background \n                        shadow-md \n                        dark:shadow-foreground/10\n                    "),children:(0,n.jsx)(s.V,{children:(0,n.jsx)("div",{className:(0,r.cn)("flex justify-end gap-x-4",a),children:t})})})]})}},77606:function(e,t,a){"use strict";a.d(t,{V:function(){return r}});var n=a(57437),s=a(37440);function r(e){let{className:t,...a}=e;return(0,n.jsx)("div",{...a,className:(0,s.cn)("w-full max-w-screen-xl mx-auto p-5",t)})}},91337:function(e,t,a){"use strict";a.d(t,{_:function(){return i}});var n=a(57437),s=a(36013),r=a(37440);function i(e){let{color:t,children:a,errors:i=[]}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.Zb,{className:(0,r.cn)("bg-destructive/20 border-destructive text-destructive","warning"===t&&"bg-yellow-200/20 border-yellow-400 text-yellow-600"),children:(0,n.jsxs)(s.aY,{className:"flex flex-col gap-y-4 px-4 py-2",children:[a,!!i.length&&(0,n.jsx)("div",{children:i.map((e,t)=>(0,n.jsx)("p",{children:e},"".concat(t)))})]})})})}},39661:function(e,t,a){"use strict";a.d(t,{a:function(){return r}});var n=a(57437),s=a(89627);function r(e){let{overlay:t,transparent:a,padding:r="50px 0"}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",...t?{height:"100%",position:"fixed",top:0,left:0,bottom:0,zIndex:999,backgroundColor:a?"transparent":"rgba(255,255,255,.6)"}:{padding:r}},children:(0,n.jsx)(s.Z,{style:{height:24,width:24},className:"animate-spin"})})})}},61386:function(e,t,a){"use strict";a.d(t,{O:function(){return f}});var n=a(57437),s=a(2265),r=a(74453),i=a(19573),l=a(71239),d=a(37440),c=a(39661),o=a(38472),u=a(91337);let f=(0,s.forwardRef)((e,t)=>{let{isDraft:a,userId:f,dataType:x,card:m}=e,h=(0,l.v)({isDraft:a,userId:f});(0,s.useImperativeHandle)(t,()=>({isLocked:h}),[h]);let{loading:p,error:j,user:g,getUser:y}=function(e){let{userId:t,loadOnMount:a=!1}=e,n=(0,s.useRef)(!1),[r,i]=(0,s.useState)(!1),[l,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(""),f=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;try{if(u(""),!r&&t){i(!0);let t=(await o.Z.get("/api/users/".concat(e))).data;d(t)}}catch(e){u(e.message)}finally{i(!1)}},[r,t]);return(0,s.useEffect)(()=>{a&&!n.current&&(n.current=!0,f())},[a,f]),{loading:r,user:l,error:c,getUser:f}}({userId:f,loadOnMount:!!m}),v=(0,s.useCallback)(async e=>{e&&!p&&!g&&f&&y()},[f,g,p]);return m&&h&&!p?(0,n.jsx)(u._,{children:(0,n.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,n.jsx)(r.Z,{className:"w-4 h-4"}),g?(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:g.displayName})," is working on this ",x||""]}):null]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.J2,{onOpenChange:v,children:[(0,n.jsx)(i.xo,{asChild:!0,children:(0,n.jsx)("button",{disabled:!h,children:(0,n.jsx)(r.Z,{className:(0,d.cn)("w-4 h-4 text-destructive/80",!h&&"opacity-0")})})}),(0,n.jsx)(i.yk,{className:"p-0 text-sm max-w-[200px]",children:p?(0,n.jsx)("div",{className:"p-2 flex justify-center",children:(0,n.jsx)(c.a,{padding:0})}):j||!g?(0,n.jsx)("div",{className:"p-2 text-destructive bg-destructive/20",children:j||"Failed to load user!"}):(0,n.jsxs)("div",{className:"p-2",children:[(0,n.jsx)("strong",{children:g.displayName})," is working on this ",x||""]})})]})})});f.displayName="LockStatus"},25704:function(e,t,a){"use strict";a.d(t,{Title:function(){return r}});var n=a(2265),s=a(20357);function r(e){let{children:t}=e;return(0,n.useEffect)(()=>{document.title=[s.env.NEXT_PUBLIC_APP_NAME||"",t||""].filter(e=>e).join(" - ")},[t]),(0,n.useEffect)(()=>()=>{document.title="".concat(s.env.NEXT_PUBLIC_APP_NAME||"")},[]),null}},36013:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return d}});var n=a(57437),s=a(2265),r=a(37440);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...s})});l.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",a),...s})});o.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},90837:function(e,t,a){"use strict";a.d(t,{$N:function(){return p},Be:function(){return j},GG:function(){return u},Vq:function(){return d},cN:function(){return h},cZ:function(){return x},fK:function(){return m},hg:function(){return c}});var n=a(57437),s=a(2265),r=a(13304),i=a(74697),l=a(37440);let d=r.fC,c=r.xz,o=r.h_,u=r.x8,f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});f.displayName=r.aV.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,hideCloseButton:d,...c}=e;return(0,n.jsxs)(o,{children:[(0,n.jsx)(f,{}),(0,n.jsxs)(r.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[s,!0!==d&&(0,n.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(i.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let h=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="DialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=r.Dx.displayName;let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...s})});j.displayName=r.dk.displayName},67135:function(e,t,a){"use strict";a.d(t,{_:function(){return c}});var n=a(57437),s=a(2265),r=a(38364),i=a(13027),l=a(37440);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:a,secondary:s,error:i,...c}=e;return(0,n.jsx)(r.f,{ref:t,className:(0,l.cn)(d(),s&&"text-xs",i?"text-danger":"",a),...c})});c.displayName=r.f.displayName},2814:function(e,t,a){"use strict";a.d(t,{$0:function(){return h},Dj:function(){return p},dN:function(){return m},kN:function(){return x},ng:function(){return u},nt:function(){return f},tl:function(){return o}});var n=a(57437),s=a(2265),r=a(70518),i=a(87592),l=a(63550),d=a(37440),c=a(50495);let o=e=>{let{className:t,...a}=e;return(0,n.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,d.cn)("mx-auto flex w-full justify-center",t),...a})};o.displayName="Pagination";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("ul",{ref:t,className:(0,d.cn)("flex flex-row items-center gap-1",a),...s})});u.displayName="PaginationContent";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("li",{ref:t,className:(0,d.cn)("",a),...s})});f.displayName="PaginationItem";let x=e=>{let{className:t,isActive:a,size:s="icon",...r}=e;return(0,n.jsx)("a",{"aria-current":a?"page":void 0,className:(0,d.cn)((0,c.d)({variant:a?"outline":"ghost",size:s}),t),...r})};x.displayName="PaginationLink";let m=e=>{let{className:t,children:a,...s}=e;return(0,n.jsxs)(x,{"aria-label":"Go to previous page",size:"default",className:(0,d.cn)("gap-1 pl-2.5",t),...s,children:[(0,n.jsx)(r.Z,{className:"h-4 w-4"}),a||(0,n.jsx)("span",{children:"Previous"})]})};m.displayName="PaginationPrevious";let h=e=>{let{className:t,children:a,...s}=e;return(0,n.jsxs)(x,{"aria-label":"Go to next page",size:"default",className:(0,d.cn)("gap-1 pr-2.5",t),...s,children:[a||(0,n.jsx)("span",{children:"Next"}),(0,n.jsx)(i.Z,{className:"h-4 w-4"})]})};h.displayName="PaginationNext";let p=e=>{let{className:t,...a}=e;return(0,n.jsxs)("span",{"aria-hidden":!0,className:(0,d.cn)("flex h-9 w-9 items-center justify-center",t),...a,children:[(0,n.jsx)(l.Z,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"More pages"})]})};p.displayName="PaginationEllipsis"},19573:function(e,t,a){"use strict";a.d(t,{J2:function(){return l},xo:function(){return d},yk:function(){return c}});var n=a(57437),s=a(2265),r=a(61485),i=a(37440);let l=r.fC,d=r.xz,c=s.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:l=4,...d}=e;return(0,n.jsx)(r.h_,{children:(0,n.jsx)(r.VY,{ref:t,align:s,sideOffset:l,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})})});c.displayName=r.VY.displayName},46294:function(e,t,a){"use strict";a.d(t,{Bw:function(){return p},DI:function(){return u},Ph:function(){return o},Ql:function(){return g},U$:function(){return y},i4:function(){return x},ki:function(){return f},n5:function(){return j}});var n=a(57437),s=a(2265),r=a(17549),i=a(42421),l=a(14392),d=a(22468),c=a(37440);let o=r.fC,u=r.ZA,f=r.B4,x=s.forwardRef((e,t)=>{let{className:a,children:s,error:l,...d}=e;return(0,n.jsxs)(r.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",l&&"border-danger",a),...d,children:[s,(0,n.jsx)(r.JO,{asChild:!0,children:(0,n.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})});m.displayName=r.u_.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,n.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=r.$G.displayName;let p=s.forwardRef((e,t)=>{let{className:a,children:s,position:i="popper",...l}=e;return(0,n.jsx)(r.h_,{children:(0,n.jsxs)(r.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...l,children:[(0,n.jsx)(m,{}),(0,n.jsx)(r.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,n.jsx)(h,{})]})})});p.displayName=r.VY.displayName;let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})});j.displayName=r.__.displayName;let g=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,n.jsxs)(r.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(r.wU,{children:(0,n.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(r.eT,{children:s})]})});g.displayName=r.ck.displayName;let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)(r.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...s})});y.displayName=r.Z0.displayName},64344:function(e,t,a){"use strict";a.d(t,{Separator:function(){return l}});var n=a(57437),s=a(2265),r=a(48484),i=a(37440);let l=s.forwardRef((e,t)=>{let{className:a,orientation:s="horizontal",decorative:l=!0,...d}=e;return(0,n.jsx)(r.f,{ref:t,decorative:l,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...d})});l.displayName=r.f.displayName},76230:function(e,t,a){"use strict";a.d(t,{t:function(){return r}});var n=a(39099);let s={danger:!1,title:"Confirm",message:"Are you sure?",positiveLabel:"Ok",negativeLabel:"Cancel"},r=(0,n.Ue)(e=>({isOpen:!1,...s,confirm:(t,a)=>e({isOpen:!0,...s,...a,onConfirm:t}),close:()=>e({isOpen:!1,onConfirm:void 0,...s})}))},71239:function(e,t,a){"use strict";a.d(t,{v:function(){return s}});var n=a(17647);function s(e){let{isDraft:t,userId:a}=e,{authenticatedUser:s}=(0,n.b)();return!!(t&&a&&a!==(null==s?void 0:s.userId))}},53853:function(e,t,a){"use strict";a.d(t,{k:function(){return l}});var n=a(2265),s=a(38472),r=a(17647),i=a(53699);function l(e){let{loadOnMount:t=!0,onLoadSitesError:a}={...e},[l,d]=(0,n.useState)(!1),{alert:c}=(0,i.s)(),{getSites:o}=(0,r.b)(),[u,f]=(0,n.useState)([]),x=(0,n.useCallback)(async()=>{try{var e;d(!0);let t=(await s.Z.get("/api/sites?data="+JSON.stringify({types:["webeditor"]}))).data;if(null===(e=t.errors)||void 0===e?void 0:e.length)throw Error(t.errors.join(", "));f(t.data||[])}catch(e){c({title:"Error",message:"Failed to load sites: "+e.message,variant:"error",onClose:()=>null==a?void 0:a()})}finally{d(!1)}},[o,c,a]);return(0,n.useEffect)(()=>{t&&!u.length&&x()},[u,t,x]),{loading:l,sites:u,loadSites:x}}},70518:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(78030).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},45188:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(78030).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},63550:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(78030).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},75733:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(78030).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},74453:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(78030).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},92513:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(78030).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6649:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(78030).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},90399:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(78030).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},58184:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(78030).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},87138:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var n=a(231),s=a.n(n)},48484:function(e,t,a){"use strict";a.d(t,{f:function(){return c}});var n=a(2265),s=a(25171),r=a(57437),i="horizontal",l=["horizontal","vertical"],d=n.forwardRef((e,t)=>{let{decorative:a,orientation:n=i,...d}=e,c=l.includes(n)?n:i;return(0,r.jsx)(s.WV.div,{"data-orientation":c,...a?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:t})});d.displayName="Separator";var c=d}},function(e){e.O(0,[4868,1086,7468,6044,8472,193,231,638,5929,9343,4264,4635,7202,7763,4380,259,3920,7478,7023,1744],function(){return e(e.s=53473)}),_N_E=e.O()}]);