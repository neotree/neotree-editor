(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5870],{65718:function(e,t,a){Promise.resolve().then(a.bind(a,23920))},95229:function(e,t,a){"use strict";a.d(t,{Alert:function(){return s}});var l=a(53699),r=a(16463),n=a(2265);function s(e){let t=(0,r.useRouter)(),{alert:a}=(0,l.s)();return(0,n.useEffect)(()=>{let{redirectTo:l,onClose:r,...n}=e;a({...n,variant:n.variant||"error",buttonLabel:n.buttonLabel||"Ok",onClose:()=>{null==r||r(),l&&t.replace(l)}})},[a,t,e]),null}},76905:function(e,t,a){"use strict";a.d(t,{Uv:function(){return n},VO:function(){return r},d4:function(){return l},fR:function(){return i}});let l=[{value:"allSearches",label:"Found in all searches"},{value:"admissionSearches",label:"Found in admission searches"},{value:"twinSearches",label:"Found in twin searches"}],r=[{label:"Days & hours",value:"days_hours"},{label:"Years & Months",value:"years_months"}],n=[{name:"date",label:"Date"},{name:"datetime",label:"Date + Time"},{name:"dropdown",label:"Dropdown"},{name:"multi_select",label:"Multiple choice list"},{name:"number",label:"Number"},{name:"text",label:"Text"},{name:"time",label:"Time"},{name:"period",label:"Time period"}],s={calculation:null,condition:"",confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,refKey:null,label:null,minValue:null,maxValue:null,optional:!1,minDate:null,maxDate:null,minTime:null,maxTime:null,minDateKey:"",maxDateKey:"",minTimeKey:"",maxTimeKey:"",values:"",editable:!1},i={admission:[{...s,type:"dropdown",key:"BabyTransfered",values:"Y,Yes\nN,No",label:"Has the baby been transfered from another facility"},{...s,type:"text",key:"patientNUID",label:"Search patient's NUID",condition:"$BabyTransfered = 'Y'"},{...s,type:"dropdown",key:"BabyTwin",values:"Y,Yes\nN,No",label:"Does the baby have a twin?"},{...s,type:"text",key:"BabyTwinNUID",label:"Search twin's NUID",condition:"$BabyTwin = 'Y'"}],other:[{...s,type:"text",key:"patientNUID",values:"Y,Yes\nN,No",label:"Search patient's NUID"}]}},83146:function(e,t,a){"use strict";a.d(t,{$7:function(){return o},F4:function(){return m},PU:function(){return s},Tf:function(){return d},UQ:function(){return v},_S:function(){return i},m1:function(){return c},ph:function(){return b},uh:function(){return u},y0:function(){return f}});var l=a(76905),r=a(30139),n=a(28680);let s={headerFormat:"",headerFields:[],footerFields:[],sections:[]},i="Example: ($key = true and $key2 = false) or $key3 = 'HD'",o={fontSize:{},fontWeight:{},fontStyle:{},textColor:{},backgroundColor:{},highlight:{}},u=[{value:"screens",label:"Screens"},{value:"diagnoses",label:"Diagnoses"},{value:"print",label:"Print"}],c=[{label:"Admission",value:"admission"},{label:"Discharge",value:"discharge"},{label:"Neolab",value:"neolab"},{label:"Daily Record",value:"drecord"}],d=[{value:"checklist",label:"Checklist"},{value:"form",label:"Form"},{value:"management",label:"Management"},{value:"multi_select",label:"Multiple choice list"},{value:"single_select",label:"Single choice list"},{value:"progress",label:"Progress"},{value:"timer",label:"Timer"},{value:"yesno",label:"Yes/No"},{value:"drugs",label:"Drugs"},{value:"fluids",label:"Fluids"},{value:"zw_edliz_summary_table",label:"EDLIZ summary table (ZW)"},{value:"mwi_edliz_summary_table",label:"EDLIZ summary table (MWI)"},{value:"diagnosis",label:"Diagnosis"}],b=[{value:"risk",label:"Risk factor"},{value:"sign",label:"Sign/Symptom"}];({...d.reduce((e,t)=>{let a=t.value,l=t.value,r=[l,"".concat(l,"_option")];return"single_select"===a&&(r=[...r,"dropdown","dropdown_option"]),{...e,[l]:r}},{}),...l.Uv.reduce((e,t)=>{let a=t.name,l=t.name,r=[l,"".concat(l,"_option")];return"dropdown"===a&&(r=[...r,"single_select","single_select_option"]),{...e,[l]:r}},{})});let f=[{value:"checklist_option",label:"checklist_option",hasChildren:!1},{value:"multi_select",label:"multi_select",hasChildren:!0},{value:"multi_select_option",label:"multi_select_option",hasChildren:!1},{value:"single_select",label:"single_select",hasChildren:!0},{value:"single_select_option",label:"single_select_option",hasChildren:!1},{value:"yesno",label:"yesno",hasChildren:!1},{value:"drug",label:"drug",hasChildren:!1},{value:"fluid",label:"fluid",hasChildren:!1},{value:"zw_edliz_summary_table_option",label:"zw_edliz_summary_table_option",hasChildren:!1},{value:"mwi_edliz_summary_table_option",label:"mwi_edliz_summary_table_option",hasChildren:!1},{value:"diagnosis",label:"diagnosis",hasChildren:!1},{value:"date",label:"date",hasChildren:!1},{value:"datetime",label:"datetime",hasChildren:!1},{value:"dropdown",label:"dropdown",hasChildren:!0},{value:"dropdown_option",label:"dropdown_option",hasChildren:!1},{value:"number",label:"number",hasChildren:!1},{value:"text",label:"text",hasChildren:!1},{value:"timer",label:"timer",hasChildren:!1},{value:"period",label:"period",hasChildren:!1}],m=[{value:"label.asc",label:"Label (asc)",Icon:r.Z},{value:"label.desc",label:"Label (desc)",Icon:n.Z},{value:"key.asc",label:"Key (asc)",Icon:r.Z},{value:"key.desc",label:"Key (desc)",Icon:n.Z},{value:"type.asc",label:"Type (asc)",Icon:r.Z},{value:"type.desc",label:"Type (desc)",Icon:n.Z},{value:"refId.asc",label:"Ref ID (asc)",Icon:r.Z},{value:"refId.desc",label:"Ref ID (desc)",Icon:n.Z},{value:"createdAt.asc",label:"Date (asc)",Icon:r.Z},{value:"createdAt.desc",label:"Date (desc)",Icon:n.Z}],v=[{label:"Published",value:"published"},{label:"Drafts",value:"drafts"}]},23920:function(e,t,a){"use strict";a.d(t,{DataKeysCtxProvider:function(){return f},M:function(){return b}});var l=a(57437),r=a(2265),n=a(38472),s=a(73741),i=a(16463),o=a(53699),u=a(95229),c=a(83146);let d=(0,r.createContext)(null),b=()=>{let e=(0,r.useContext)(d);if(!e)throw Error("useChart must be used within a <DataKeysCtxProvider />");return e};function f(e){var t,a;let{children:b,prefetchDataKeys:f=!0}=e,v=(0,r.useRef)(!1),h=(0,i.useRouter)(),{alert:y}=(0,o.s)(),[p,g]=(0,s.v1)("uuid",{clearOnDefault:!0,shallow:!0,history:"push",defaultValue:""}),[k,w]=(0,r.useState)([]),[_,D]=(0,r.useState)(c.F4[0].value),[S,C]=(0,r.useState)(""),[E,x]=(0,r.useState)(!1),[I,T]=(0,r.useState)({data:[]}),[N,P]=(0,r.useState)(!1),A=(0,r.useCallback)(async()=>{x(!0),n.Z.get("/api/data-keys").then(e=>{e.data.data=m(e.data.data,_),T(e.data)}).catch(e=>{T({data:[],errors:[e.message]})}).finally(()=>x(!1))},[_]);(0,r.useEffect)(()=>{!v.current&&(v.current=!0,f&&A())},[f,A]);let[O,Z]=(0,r.useState)(!1),F=(0,r.useCallback)(async(e,t)=>{try{var a;Z(!0);let l=(await n.Z.post("/api/data-keys/save",{data:e,broadcastAction:!0})).data;(null===(a=l.errors)||void 0===a?void 0:a.length)?y({title:"Error",message:l.errors.join(", "),variant:"error"}):(await A(),h.refresh(),y({message:"Data key saved!",variant:"success",onClose:()=>null==t?void 0:t()}))}catch(e){y({title:"Error",message:"Failed to save data key: "+e.message,onClose:()=>null==t?void 0:t(e.message)})}finally{Z(!1)}},[y,h.refresh,A]),[R,j]=(0,r.useState)(!1),z=(0,r.useCallback)(async e=>{try{var t;j(!0);let a=(await n.Z.delete("/api/data-keys?data="+JSON.stringify({dataKeysIds:e,broadcastAction:!0}))).data;if(null===(t=a.errors)||void 0===t?void 0:t.length)throw Error(a.errors[0]);w([]),await A(),h.refresh(),y({title:"Success",message:"Data keys deleted successfully!",variant:"success"})}catch(e){y({title:"Error",message:e.message,variant:"error"})}finally{j(!1)}},[h.refresh,y,A]),[K,L]=(0,r.useState)(!1),U=(0,r.useCallback)(async e=>{try{var t;L(!0);let a=(await n.Z.post("/api/data-keys/export",e)).data;if(null===(t=a.errors)||void 0===t?void 0:t.length)throw Error(a.errors[0]);await A(),w([]),y({title:"Success",message:"Data exported successfully!",variant:"success"})}catch(e){y({title:"Error",message:e.message,variant:"error"})}finally{L(!1)}},[I.data,A,y]),V=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.F4[0].value;D(e),w([]),T(t=>({...t,data:m(t.data,e)}))},[]),Y=(0,r.useCallback)((e,t)=>{let a=e.map(e=>I.data.find(t=>t.uniqueKey===e||t.uuid===e)).filter(e=>e);return(null==t?void 0:t.withNested)&&a.filter(e=>e.options.length).forEach(e=>{let l=Y(e.options,t);a=[...a,...l]}),a.filter((e,t)=>a.map(e=>e.uniqueKey).indexOf(e.uniqueKey)===t)},[I]);return(null==I?void 0:null===(t=I.errors)||void 0===t?void 0:t.length)?(0,l.jsx)(u.Alert,{title:"Error",message:"Failed to load data keys: "+(null==I?void 0:null===(a=I.errors)||void 0===a?void 0:a.join(", ")),buttonLabel:"Try again",onClose:()=>A()}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(d.Provider,{value:{loadingDataKeys:E,saving:O,exporting:K,deleting:R,dataKeys:I.data,errors:I.errors,selected:k,currentDataKeyUuid:p,sort:_,filter:S,extractDataKeys:Y,deleteDataKeys:z,saveDataKeys:F,exportDataKeys:U,setCurrentDataKeyUuid:g,loadDataKeys:A,setSelected:w,setSort:D,onSort:V,setFilter:C},children:b})})}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.F4[0].value,a=[...e],l=e=>{let{key1:t,key2:a,sortDirection:l}=e;t=(t||"").trim().toLowerCase(),a=(a||"").trim().toLowerCase();let r=0;return"asc"===l?(t<a&&(r=-1),t>a&&(r=1)):(t>a&&(r=-1),t<a&&(r=1)),r};switch(t){case"refId.asc":a=e.sort((e,t)=>l({sortDirection:"asc",key1:(e.refId||"").trim(),key2:(t.refId||"").trim()}));break;case"refId.desc":a=e.sort((e,t)=>l({sortDirection:"desc",key1:(e.refId||"").trim(),key2:(t.refId||"").trim()}));break;case"key.desc":a=e.sort((e,t)=>l({sortDirection:"desc",key1:e.name,key2:t.name}));break;case"label.asc":a=e.sort((e,t)=>l({sortDirection:"asc",key1:(e.label||e.name||"").trim(),key2:(t.label||t.name||"").trim()}));break;case"label.desc":a=e.sort((e,t)=>l({sortDirection:"desc",key1:(e.label||e.name||"").trim(),key2:(t.label||t.name||"").trim()}));break;case"type.asc":a=e.sort((e,t)=>l({sortDirection:"asc",key1:(e.dataType||"").trim(),key2:(t.dataType||"").trim()}));break;case"type.desc":a=e.sort((e,t)=>l({sortDirection:"desc",key1:(e.dataType||"").trim(),key2:(t.dataType||"").trim()}));break;case"createdAt.asc":a=e.sort((e,t)=>l({sortDirection:"asc",key1:new Date(e.createdAt||"").getTime().toString(),key2:new Date(t.createdAt||"").getTime().toString()}));break;case"createdAt.desc":a=e.sort((e,t)=>l({sortDirection:"desc",key1:new Date(e.createdAt||"").getTime().toString(),key2:new Date(t.createdAt||"").getTime().toString()}));break;default:a=e.sort((e,t)=>l({sortDirection:"asc",key1:e.name,key2:t.name}))}return a}},53699:function(e,t,a){"use strict";a.d(t,{s:function(){return n}});var l=a(39099);let r={title:"",message:"",buttonLabel:"Ok",variant:"info",onClose:void 0},n=(0,l.Ue)(e=>({isOpen:!1,...r,alert:t=>e({isOpen:!0,...r,...t}),close:()=>e({isOpen:!1,onClose:void 0,...r})}))},78030:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var l=a(2265);/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,l.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:c,iconNode:d,...b}=e;return(0,l.createElement)("svg",{ref:t,...s,width:r,height:r,stroke:a,strokeWidth:o?24*Number(i)/Number(r):i,className:n("lucide",u),...b},[...d.map(e=>{let[t,a]=e;return(0,l.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let a=(0,l.forwardRef)((a,s)=>{let{className:o,...u}=a;return(0,l.createElement)(i,{ref:s,iconNode:t,className:n("lucide-".concat(r(e)),o),...u})});return a.displayName="".concat(e),a}},16463:function(e,t,a){"use strict";var l=a(71169);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}}),a.o(l,"usePathname")&&a.d(t,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}}),a.o(l,"useSearchParams")&&a.d(t,{useSearchParams:function(){return l.useSearchParams}})},46246:function(e,t,a){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=a(2265),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=l.useState,s=l.useEffect,i=l.useLayoutEffect,o=l.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!r(e,a)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),l=n({inst:{value:a,getSnapshot:t}}),r=l[0].inst,c=l[1];return i(function(){r.value=a,r.getSnapshot=t,u(r)&&c({inst:r})},[e,a,t]),s(function(){return u(r)&&c({inst:r}),e(function(){u(r)&&c({inst:r})})},[e]),o(a),a};t.useSyncExternalStore=void 0!==l.useSyncExternalStore?l.useSyncExternalStore:c},94453:function(e,t,a){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=a(2265),r=a(10554),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useSyncExternalStore,i=l.useRef,o=l.useEffect,u=l.useMemo,c=l.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,a,l,r){var d=i(null);if(null===d.current){var b={hasValue:!1,value:null};d.current=b}else b=d.current;var f=s(e,(d=u(function(){function e(e){if(!o){if(o=!0,s=e,e=l(e),void 0!==r&&b.hasValue){var t=b.value;if(r(t,e))return i=t}return i=e}if(t=i,n(s,e))return t;var a=l(e);return void 0!==r&&r(t,a)?(s=e,t):(s=e,i=a)}var s,i,o=!1,u=void 0===a?null:a;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,a,l,r]))[0],d[1]);return o(function(){b.hasValue=!0,b.value=f},[f]),c(f),f}},10554:function(e,t,a){"use strict";e.exports=a(46246)},35006:function(e,t,a){"use strict";e.exports=a(94453)},39099:function(e,t,a){"use strict";a.d(t,{Ue:function(){return b}});let l=e=>{let t;let a=new Set,l=(e,l)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=l?l:"object"!=typeof r||null===r)?r:Object.assign({},t,r),a.forEach(a=>a(t,e))}},r=()=>t,n={setState:l,getState:r,getInitialState:()=>s,subscribe:e=>(a.add(e),()=>a.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},s=t=e(l,r,n);return n},r=e=>e?l(e):l;var n=a(2265),s=a(35006);let{useDebugValue:i}=n,{useSyncExternalStoreWithSelector:o}=s,u=!1,c=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?r(e):e,a=(e,a)=>(function(e,t=c,a){a&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);let l=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,a);return i(l),l})(t,e,a);return Object.assign(a,t),a},b=e=>e?d(e):d}},function(e){e.O(0,[8472,7202,7478,7023,1744],function(){return e(e.s=65718)}),_N_E=e.O()}]);