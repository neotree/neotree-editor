(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6948],{32242:function(e,t,a){Promise.resolve().then(a.bind(a,29789)),Promise.resolve().then(a.bind(a,25704))},29789:function(e,t,a){"use strict";a.d(t,{DataKeysTable:function(){return A}});var l=a(57437),s=a(23920),n=a(94638),r=a(17647),i=a(37440),o=a(83146),d=a(39661),c=a(92513),u=a(50495),m=a(64344),f=a(46294);function h(){let{sort:e,filter:t,onSort:a,setFilter:n,setCurrentDataKeyUuid:r}=(0,s.M)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"p-4 flex flex-col gap-y-4",children:(0,l.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,l.jsx)("div",{className:"text-2xl",children:"Data keys"}),(0,l.jsxs)("div",{className:"flex-1 flex flex-wrap items-center justify-end gap-x-4",children:[(0,l.jsx)("div",{children:(0,l.jsxs)(f.Ph,{value:e,onValueChange:e=>a(e),children:[(0,l.jsx)(f.i4,{children:(0,l.jsx)(f.ki,{placeholder:"Sort"})}),(0,l.jsx)(f.Bw,{children:o.F4.map(e=>(0,l.jsx)(f.Ql,{value:e.value,children:(0,l.jsxs)("div",{className:"flex items-center gap-x-2 w-[120px]",children:[(0,l.jsx)(e.Icon,{className:"size-4"}),(0,l.jsx)("span",{children:e.label})]})},e.value))})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(f.Ph,{value:t,onValueChange:e=>n("all"===e?"":e),children:[(0,l.jsx)(f.i4,{children:(0,l.jsx)(f.ki,{placeholder:"All keys"})}),(0,l.jsxs)(f.Bw,{children:[(0,l.jsx)(f.Ql,{value:"all",children:"All keys"}),(0,l.jsx)(f.U$,{}),(0,l.jsxs)(f.DI,{children:[(0,l.jsx)(f.n5,{children:"Status"}),o.UQ.map(e=>(0,l.jsx)(f.Ql,{value:e.value,children:e.label},e.value))]}),(0,l.jsx)(f.U$,{}),(0,l.jsxs)(f.DI,{children:[(0,l.jsx)(f.n5,{children:"Types"}),o.y0.map(e=>(0,l.jsx)(f.Ql,{value:e.value,children:e.label},e.value))]})]})]})}),(0,l.jsxs)(u.z,{variant:"ghost",className:"w-auto h-auto",onClick:()=>r("new"),children:[(0,l.jsx)(c.Z,{className:"size-4 mr-2"}),"Add"]})]})]})}),(0,l.jsx)(m.Z,{})]})}var x=a(45188),p=a(75733),v=a(6649),b=a(90399),y=a(46910),g=a(76230);function j(e){let{rowIndex:t,disabled:a,setCurrentDataKeyUuid:n}=e,{dataKeys:r,deleteDataKeys:o}=(0,s.M)(),{confirm:d}=(0,g.t)(),c=r[t];return c?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(y.h_,{children:[(0,l.jsx)(y.$F,{children:(0,l.jsx)(x.Z,{className:"h-4 w-4"})}),(0,l.jsxs)(y.AW,{children:[!!a&&(0,l.jsxs)(y.Xi,{onClick:()=>setTimeout(()=>n(c.uuid),0),children:[(0,l.jsx)(p.Z,{className:"h-4 w-4 mr-2"})," View"]}),(0,l.jsxs)(y.Xi,{className:(0,i.cn)(a&&"hidden"),onClick:()=>setTimeout(()=>n(c.uuid),0),children:[(0,l.jsx)(v.Z,{className:"h-4 w-4 mr-2"})," Edit"]}),(0,l.jsxs)(y.Xi,{className:(0,i.cn)("text-destructive",a&&"hidden"),onClick:()=>setTimeout(()=>{d(()=>o([c.uuid]),{title:"Delete data key",message:"Are you sure?"})},0),children:[(0,l.jsx)(b.Z,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})}):null}var w=a(17501),N=a(2265),k=a(58184),C=a(39343),D=a(53853),_=a(67135),T=a(86466),S=a(90837);function Z(e){var t;let{uuids:a}=e,[n,r]=(0,N.useState)(!1),{exporting:o,exportDataKeys:c}=(0,s.M)(),{sites:m,loading:h,loadSites:x}=(0,D.k)({loadOnMount:!1,onLoadSitesError:()=>r(!1)}),{formState:{errors:p},reset:v,watch:b,setValue:y,handleSubmit:g,setError:j}=(0,C.cI)({defaultValues:{siteId:"",overwriteExisting:!1}}),w=b("siteId"),Z=b("overwriteExisting"),E=o||h,I=!!w&&!E,F=g(async e=>{e.siteId?await c({...e,uuids:a}):j("siteId",{message:"Site is required"})});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(S.Vq,{open:n,onOpenChange:e=>{v(),e&&x(),r(e)},children:[(0,l.jsx)(S.hg,{asChild:!0,children:(0,l.jsxs)(u.z,{className:"h-auto w-auto",children:[(0,l.jsx)(k.Z,{className:"h-4 w-4 mr-1"}),(0,l.jsx)("span",{children:a.length>1?"Export ".concat(a.length):"Export"})]})}),(0,l.jsxs)(S.cZ,{children:[(0,l.jsxs)(S.fK,{children:[(0,l.jsx)(S.$N,{children:"Export"}),(0,l.jsx)(S.Be,{className:"hidden",children:""})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(_._,{htmlFor:"siteId",children:"Site *"}),(0,l.jsxs)(f.Ph,{name:"siteId",onValueChange:e=>y("siteId",e,{shouldDirty:!0}),children:[(0,l.jsx)(f.i4,{children:(0,l.jsx)(f.ki,{placeholder:"Select site"})}),(0,l.jsx)(f.Bw,{children:(0,l.jsxs)(f.DI,{children:[(0,l.jsx)(f.n5,{children:"Sites"}),m.map(e=>{let{siteId:t,name:a}=e;return(0,l.jsx)(f.Ql,{value:t,children:a},t)})]})})]}),!!(null===(t=p.siteId)||void 0===t?void 0:t.message)&&(0,l.jsx)("div",{className:"text-xs text-danger mt-1",children:p.siteId.message})]}),(0,l.jsxs)("div",{className:(0,i.cn)("flex gap-x-2"),children:[(0,l.jsx)(T.X,{name:"overwriteExisting",id:"overwriteExisting",checked:Z,onCheckedChange:()=>y("overwriteExisting",!Z,{shouldDirty:!0})}),(0,l.jsx)(_._,{secondary:!0,htmlFor:"overwriteExisting",children:"Overwrite existing"})]})]}),(0,l.jsxs)(S.cN,{children:[(0,l.jsx)(S.GG,{asChild:!0,children:(0,l.jsx)(u.z,{variant:"ghost",children:"Cancel"})}),(0,l.jsxs)(u.z,{onClick:F,disabled:!I,children:[(0,l.jsx)(k.Z,{className:"h-4 w-4 mr-1"}),"Export"]})]})]})]}),E&&(0,l.jsx)(d.a,{overlay:!0})]})}function E(e){let{disabled:t}=e,{confirm:a}=(0,g.t)(),{selected:n,setSelected:r,deleteDataKeys:i}=(0,s.M)();return t||!n.length?null:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(w.h,{children:[(0,l.jsx)(u.z,{variant:"ghost",onClick:()=>r([]),children:"Cancel"}),(0,l.jsx)(Z,{uuids:n.map(e=>e.uuid)}),(0,l.jsxs)(u.z,{variant:"destructive",onClick:()=>setTimeout(()=>{a(()=>i(n.map(e=>e.uuid)),{title:"Delete data keys",message:"Are you sure?"})},0),children:[(0,l.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Delete",n.length>1?" ".concat(n.length," keys"):""]})]})})}var I=a(95317),F=a(83102),z=a(53699);function R(e){let{dataKey:t,disabled:a,modal:r,isChild:m,onClose:h,onSave:p}=e,{saving:j,saveDataKeys:w}=(0,s.M)(),{confirm:k}=(0,g.t)(),{alert:D}=(0,z.s)(),{control:T,register:S,handleSubmit:Z,watch:E,setValue:A}=(0,C.cI)({defaultValues:{...t,name:(null==t?void 0:t.name)||"",dataType:(null==t?void 0:t.dataType)||"",label:(null==t?void 0:t.label)||"",children:(null==t?void 0:t.children)||[],defaults:(null==t?void 0:t.defaults)||{},version:(null==t?void 0:t.version)||1}}),P=E("dataType"),V=E("children"),L=o.y0.find(e=>e.value===P),O=Z(async e=>{p?(p(e),h()):await w([e],e=>!e&&(null==h?void 0:h()))}),U=a||j,[K,M]=(0,N.useState)(null),[B,Y]=(0,N.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[j&&(0,l.jsx)(d.a,{overlay:!0}),(0,l.jsx)(I.yo,{open:!0,modal:r,children:(0,l.jsxs)(I.ue,{hideCloseButton:!0,side:"right",className:(0,i.cn)("p-0 m-0 flex flex-col",!m&&"w-full max-w-full sm:max-w-[80%] md:max-w-[80%] lg:max-w-[50%]"),children:[(0,l.jsxs)(I.Tu,{className:"flex flex-row items-center py-2 px-4 border-b border-b-border text-left sm:text-left",children:[(0,l.jsxs)(I.bC,{children:[t?"Edit":"New"," data key",m?" option":""]}),(0,l.jsx)(I.Ei,{className:"hidden"})]}),(B||null!==K)&&(0,l.jsx)(R,{modal:!0,isChild:!0,disabled:!1,dataKey:null!==K?V[K]:void 0,parentDataKey:t,onSave:e=>{null===K?A("children",[...V,{...e,dataType:"".concat(P,"_option")}]):A("children.".concat(K),e)},onClose:()=>{M(null),Y(!1)}}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col py-2 px-0 gap-y-4 overflow-y-auto",children:[!m&&(0,l.jsx)(C.Qr,{control:T,name:"dataType",disabled:U,rules:{required:!0},render:e=>{let{field:{value:a,onChange:s}}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"px-4",children:[(0,l.jsx)(_._,{htmlFor:"name",children:"Data type *"}),(0,l.jsxs)(f.Ph,{value:a,name:"name",onValueChange:e=>{s(e);let a=o.y0.find(t=>t.value===e);A("children",(null==a?void 0:a.hasChildren)?((null==t?void 0:t.children)||[]).map(t=>({...t,dataType:"".concat(e,"_option")})):[]),A("defaults",{...e===(null==t?void 0:t.dataType)?t.defaults:null==a?void 0:a.defaults})},children:[(0,l.jsx)(f.i4,{children:(0,l.jsx)(f.ki,{placeholder:"Select type"})}),(0,l.jsx)(f.Bw,{children:(0,l.jsx)(f.DI,{children:o.y0.map(e=>(0,l.jsx)(f.Ql,{value:e.value,children:e.label},e.value))})})]})]})})}}),(0,l.jsxs)("div",{className:"px-4",children:[(0,l.jsx)(_._,{htmlFor:"name",children:"Key *"}),(0,l.jsx)(F.I,{disabled:U,...S("name",{disabled:U,required:!0})})]}),(0,l.jsxs)("div",{className:"px-4",children:[(0,l.jsx)(_._,{htmlFor:"label",children:"Label *"}),(0,l.jsx)(F.I,{disabled:U,...S("label",{disabled:U,required:!0})})]}),(0,l.jsx)(C.Qr,{control:T,name:"children",disabled:U,render:e=>{let{field:{value:t}}=e;return(null==L?void 0:L.hasChildren)?(0,l.jsx)("div",{className:"mt-4 pt-4 border-t border-t-border",children:(0,l.jsx)(n.DataTable,{sortable:!a,search:{},title:"Options",headerActions:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(u.z,{variant:"ghost",className:"w-auto h-auto",onClick:()=>Y(!0),children:[(0,l.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Add"]})}),noDataMessage:(0,l.jsx)("div",{className:"mt-4 flex flex-col items-center justify-center gap-y-2",children:(0,l.jsx)("div",{children:"Data keys has no options"})}),getRowOptions:e=>{let{rowIndex:t}=e;return V[t]?{className:(0,i.cn)(t===K&&"bg-primary/20 hover:bg-primary/30")}:{}},columns:[{name:"Key"},{name:"Label"},{name:"Data type"},{name:"",align:"right",cellClassName:"w-20",cellRenderer(e){let{rowIndex:s}=e;return!t[s]||a?null:(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(y.h_,{children:[(0,l.jsx)(y.$F,{children:(0,l.jsx)(x.Z,{className:"h-4 w-4"})}),(0,l.jsxs)(y.AW,{children:[(0,l.jsxs)(y.Xi,{onClick:()=>setTimeout(()=>M(s),0),children:[(0,l.jsx)(v.Z,{className:"h-4 w-4 mr-2"})," Edit"]}),(0,l.jsxs)(y.Xi,{className:"text-destructive",onClick:()=>setTimeout(()=>k(()=>A("children",V.filter((e,t)=>t!==s)),{title:"Delete",message:"Are you sure you want to delete data key option?",danger:!0}),0),children:[(0,l.jsx)(b.Z,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})}}],data:t.map(e=>[e.name||"",e.label||"",e.dataType||"",""])})}):(0,l.jsx)(l.Fragment,{})}})]}),(0,l.jsxs)("div",{className:"border-t border-t-border px-4 py-2 flex gap-x-2 items-center",children:[(0,l.jsx)("i",{className:"text-sm text-destructive",children:"* Required"}),(0,l.jsx)("div",{className:"ml-auto"}),(0,l.jsx)(I.sw,{asChild:!0,children:(0,l.jsx)(u.z,{variant:"ghost",onClick:()=>h(),children:"Cancel"})}),!a&&(0,l.jsx)(I.sw,{asChild:!0,children:(0,l.jsx)(u.z,{onClick:()=>O(),disabled:U,children:"Save"})})]})]})})]})}function A(e){let{disabled:t}=e,{viewOnly:a}=(0,r.b)();t=t||a;let{dataKeys:c,selected:u,currentDataKeyUuid:m,filter:f,deleting:x,loadingDataKeys:p,setCurrentDataKeyUuid:v,setSelected:b}=(0,s.M)(),y={selectable:!t,selectedIndexes:u.map(e=>e.index),filter:e=>{let t=c[e];return!f||(f===o.UQ[0].value?!(null==t?void 0:t.isDraft):f===o.UQ[1].value?!!(null==t?void 0:t.isDraft):(console.log(null==t?void 0:t.dataType,f),(null==t?void 0:t.dataType)===f))},onSelect:e=>b(e.map(e=>{var t;return{index:e,uuid:null===(t=c[e])||void 0===t?void 0:t.uuid}}).filter(e=>e.uuid)),getRowOptions(e){let{rowIndex:t}=e,l=c[t];return l?{className:(0,i.cn)(!a&&l.isDraft&&"bg-danger/20 hover:bg-danger/30")}:{}},search:{inputPlaceholder:"Search data keys"},noDataMessage:(0,l.jsx)("div",{className:"mt-4 flex flex-col items-center justify-center gap-y-2",children:(0,l.jsx)("div",{children:"No data keys saved."})}),columns:[{name:"Key"},{name:"Label"},{name:"Data type"},{name:"",align:"right",cellClassName:(0,i.cn)("w-10"),cellRenderer(e){let{rowIndex:a}=e;return(0,l.jsx)(j,{rowIndex:a,disabled:t,setCurrentDataKeyUuid:v})}}],data:c.map(e=>[e.name||"",e.label||"",e.dataType||"",""])};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,l.jsx)(h,{}),(0,l.jsx)(n.DataTable,{...y})]}),(0,l.jsx)(E,{disabled:t}),!!m&&(0,l.jsx)(R,{disabled:t,dataKey:c.find(e=>e.uuid===m),onClose:()=>v("")}),(x||p)&&(0,l.jsx)(d.a,{overlay:!0})]})}},17501:function(e,t,a){"use strict";a.d(t,{h:function(){return r}});var l=a(57437),s=a(77606),n=a(37440);function r(e){let{children:t,className:a}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"h-16"}),(0,l.jsx)("div",{className:(0,n.cn)("\n                        fixed \n                        left-0 \n                        bottom-0 \n                        h-16 \n                        w-full \n                        border-t \n                        border-t-border \n                        z-[1] \n                        bg-primary-foreground \n                        dark:bg-background \n                        shadow-md \n                        dark:shadow-foreground/10\n                    "),children:(0,l.jsx)(s.V,{children:(0,l.jsx)("div",{className:(0,n.cn)("flex justify-end gap-x-4",a),children:t})})})]})}},95229:function(e,t,a){"use strict";a.d(t,{Alert:function(){return r}});var l=a(53699),s=a(16463),n=a(2265);function r(e){let t=(0,s.useRouter)(),{alert:a}=(0,l.s)();return(0,n.useEffect)(()=>{let{redirectTo:l,onClose:s,...n}=e;a({...n,variant:n.variant||"error",buttonLabel:n.buttonLabel||"Ok",onClose:()=>{null==s||s(),l&&t.replace(l)}})},[a,t,e]),null}},77606:function(e,t,a){"use strict";a.d(t,{V:function(){return n}});var l=a(57437),s=a(37440);function n(e){let{className:t,...a}=e;return(0,l.jsx)("div",{...a,className:(0,s.cn)("w-full max-w-screen-xl mx-auto p-5",t)})}},39661:function(e,t,a){"use strict";a.d(t,{a:function(){return n}});var l=a(57437),s=a(89627);function n(e){let{overlay:t,transparent:a}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",...t?{height:"100%",position:"fixed",top:0,left:0,bottom:0,zIndex:999,backgroundColor:a?"transparent":"rgba(255,255,255,.6)"}:{padding:"50px 0"}},children:(0,l.jsx)(s.Z,{style:{height:24,width:24},className:"animate-spin"})})})}},58502:function(e,t,a){"use strict";a.d(t,{SocketEventsListener:function(){return r}});var l=a(2265),s=a(16463),n=a(7752);function r(e){let{events:t}=e,a=(0,l.useRef)({eventsTimeouts:{},eventsTimestamps:{}});(0,l.useRef)(new Date().getTime());let r=(0,s.useRouter)();return(0,l.useEffect)(()=>{t.forEach(e=>{let{name:t,action:l,delay:s=100,onEvent:i}=e;n.Z.on(t,function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];let d=()=>{var e,a;(!l||n[0]===l)&&(null===(e=i.callback)||void 0===e||e.call(i,...n),(null==i?void 0:i.refreshRouter)&&(console.log(t,"refreshing..."),r.refresh()),(null===(a=i.redirect)||void 0===a?void 0:a.to)&&(i.redirect.replace?r.replace(i.redirect.to):r.push(i.redirect.to)))},c=new Date().getTime();s?(clearTimeout(a.current.eventsTimeouts[t]),a.current.eventsTimeouts[t]=setTimeout(()=>{a.current.eventsTimestamps[t]=c,d()},s)):(a.current.eventsTimestamps[t]=new Date().getTime(),d())})})},[t,r]),null}},25704:function(e,t,a){"use strict";a.d(t,{Title:function(){return n}});var l=a(2265),s=a(20357);function n(e){let{children:t}=e;return(0,l.useEffect)(()=>{document.title=[s.env.NEXT_PUBLIC_APP_NAME||"",t||""].filter(e=>e).join(" - ")},[t]),(0,l.useEffect)(()=>()=>{document.title="".concat(s.env.NEXT_PUBLIC_APP_NAME||"")},[]),null}},90837:function(e,t,a){"use strict";a.d(t,{$N:function(){return p},Be:function(){return v},GG:function(){return u},Vq:function(){return o},cN:function(){return x},cZ:function(){return f},fK:function(){return h},hg:function(){return d}});var l=a(57437),s=a(2265),n=a(13304),r=a(74697),i=a(37440);let o=n.fC,d=n.xz,c=n.h_,u=n.x8,m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});m.displayName=n.aV.displayName;let f=s.forwardRef((e,t)=>{let{className:a,children:s,hideCloseButton:o,...d}=e;return(0,l.jsxs)(c,{children:[(0,l.jsx)(m,{}),(0,l.jsxs)(n.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[s,!0!==o&&(0,l.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(r.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=n.VY.displayName;let h=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};h.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="DialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=n.Dx.displayName;let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});v.displayName=n.dk.displayName},83102:function(e,t,a){"use strict";a.d(t,{I:function(){return r}});var l=a(57437),s=a(2265),n=a(37440);let r=s.forwardRef((e,t)=>{let{className:a,type:s,noRing:r,error:i,...o}=e;return(0,l.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r&&"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",i&&"border-danger",i&&!r&&"focus-visible:ring-danger",a),ref:t,...o})});r.displayName="Input"},67135:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var l=a(57437),s=a(2265),n=a(38364),r=a(13027),i=a(37440);let o=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,secondary:s,error:r,...d}=e;return(0,l.jsx)(n.f,{ref:t,className:(0,i.cn)(o(),s&&"text-xs",r?"text-danger":"",a),...d})});d.displayName=n.f.displayName},46294:function(e,t,a){"use strict";a.d(t,{Bw:function(){return p},DI:function(){return u},Ph:function(){return c},Ql:function(){return b},U$:function(){return y},i4:function(){return f},ki:function(){return m},n5:function(){return v}});var l=a(57437),s=a(2265),n=a(48297),r=a(42421),i=a(14392),o=a(22468),d=a(37440);let c=n.fC,u=n.ZA,m=n.B4,f=s.forwardRef((e,t)=>{let{className:a,children:s,error:i,...o}=e;return(0,l.jsxs)(n.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i&&"border-danger",a),...o,children:[s,(0,l.jsx)(n.JO,{asChild:!0,children:(0,l.jsx)(r.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=n.xz.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,l.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=n.u_.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,l.jsx)(r.Z,{className:"h-4 w-4"})})});x.displayName=n.$G.displayName;let p=s.forwardRef((e,t)=>{let{className:a,children:s,position:r="popper",...i}=e;return(0,l.jsx)(n.h_,{children:(0,l.jsxs)(n.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...i,children:[(0,l.jsx)(h,{}),(0,l.jsx)(n.l_,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,l.jsx)(x,{})]})})});p.displayName=n.VY.displayName;let v=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})});v.displayName=n.__.displayName;let b=s.forwardRef((e,t)=>{let{className:a,children:s,...r}=e;return(0,l.jsxs)(n.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(n.wU,{children:(0,l.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,l.jsx)(n.eT,{children:s})]})});b.displayName=n.ck.displayName;let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})});y.displayName=n.Z0.displayName},64344:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var l=a(57437),s=a(2265),n=a(48484),r=a(37440);let i=s.forwardRef((e,t)=>{let{className:a,orientation:s="horizontal",decorative:i=!0,...o}=e;return(0,l.jsx)(n.f,{ref:t,decorative:i,orientation:s,className:(0,r.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...o})});i.displayName=n.f.displayName},95317:function(e,t,a){"use strict";a.d(t,{Ei:function(){return y},FF:function(){return v},Tu:function(){return p},aM:function(){return c},bC:function(){return b},sw:function(){return u},ue:function(){return x},yo:function(){return d}});var l=a(57437),s=a(2265),n=a(13304),r=a(13027),i=a(74697),o=a(37440);let d=n.fC,c=n.xz,u=n.x8,m=n.h_,f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});f.displayName=n.aV.displayName;let h=(0,r.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=s.forwardRef((e,t)=>{let{side:a="right",className:s,children:r,hideCloseButton:d,...c}=e;return(0,l.jsxs)(m,{children:[(0,l.jsx)(f,{}),(0,l.jsxs)(n.VY,{ref:t,className:(0,o.cn)(h({side:a}),s),...c,children:[r,!0!==d&&(0,l.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,l.jsx)(i.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=n.VY.displayName;let p=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};p.displayName="SheetHeader";let v=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};v.displayName="SheetFooter";let b=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",a),...s})});b.displayName=n.Dx.displayName;let y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(n.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...s})});y.displayName=n.dk.displayName},76905:function(e,t,a){"use strict";a.d(t,{Uv:function(){return n},VO:function(){return s},d4:function(){return l},fR:function(){return i}});let l=[{value:"allSearches",label:"Found in all searches"},{value:"admissionSearches",label:"Found in admission searches"},{value:"twinSearches",label:"Found in twin searches"}],s=[{label:"Days & hours",value:"days_hours"},{label:"Years & Months",value:"years_months"}],n=[{name:"date",label:"Date"},{name:"datetime",label:"Date + Time"},{name:"dropdown",label:"Dropdown"},{name:"multi_select",label:"Multiple choice list"},{name:"number",label:"Number"},{name:"text",label:"Text"},{name:"time",label:"Time"},{name:"period",label:"Time period"}],r={calculation:null,condition:"",confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,refKey:null,label:null,minValue:null,maxValue:null,optional:!1,minDate:null,maxDate:null,minTime:null,maxTime:null,minDateKey:"",maxDateKey:"",minTimeKey:"",maxTimeKey:"",values:"",editable:!1},i={admission:[{...r,type:"dropdown",key:"BabyTransfered",values:"Y,Yes\nN,No",label:"Has the baby been transfered from another facility"},{...r,type:"text",key:"patientNUID",label:"Search patient's NUID",condition:"$BabyTransfered = 'Y'"},{...r,type:"dropdown",key:"BabyTwin",values:"Y,Yes\nN,No",label:"Does the baby have a twin?"},{...r,type:"text",key:"BabyTwinNUID",label:"Search twin's NUID",condition:"$BabyTwin = 'Y'"}],other:[{...r,type:"text",key:"patientNUID",values:"Y,Yes\nN,No",label:"Search patient's NUID"}]}},83146:function(e,t,a){"use strict";a.d(t,{$7:function(){return o},F4:function(){return h},PU:function(){return r},Tf:function(){return u},UQ:function(){return x},_S:function(){return i},m1:function(){return c},ph:function(){return m},uh:function(){return d},y0:function(){return f}});var l=a(76905),s=a(30139),n=a(28680);let r={headerFormat:"",headerFields:[],footerFields:[],sections:[]},i="Example: ($key = true and $key2 = false) or $key3 = 'HD'",o={fontSize:{},fontWeight:{},fontStyle:{},textColor:{},backgroundColor:{},highlight:{}},d=[{value:"screens",label:"Screens"},{value:"diagnoses",label:"Diagnoses"},{value:"print",label:"Print"}],c=[{label:"Admission",value:"admission"},{label:"Discharge",value:"discharge"},{label:"Neolab",value:"neolab"},{label:"Daily Record",value:"drecord"}],u=[{value:"checklist",label:"Checklist"},{value:"form",label:"Form"},{value:"management",label:"Management"},{value:"multi_select",label:"Multiple choice list"},{value:"single_select",label:"Single choice list"},{value:"progress",label:"Progress"},{value:"timer",label:"Timer"},{value:"yesno",label:"Yes/No"},{value:"drugs",label:"Drugs"},{value:"fluids",label:"Fluids"},{value:"zw_edliz_summary_table",label:"EDLIZ summary table (ZW)"},{value:"mwi_edliz_summary_table",label:"EDLIZ summary table (MWI)"},{value:"diagnosis",label:"Diagnosis"}],m=[{value:"risk",label:"Risk factor"},{value:"sign",label:"Sign/Symptom"}];({...u.reduce((e,t)=>{let a=t.value,l=t.value,s=[l,"".concat(l,"_option")];return"single_select"===a&&(s=[...s,"dropdown","dropdown_option"]),{...e,[l]:s}},{}),...l.Uv.reduce((e,t)=>{let a=t.name,l=t.name,s=[l,"".concat(l,"_option")];return"dropdown"===a&&(s=[...s,"single_select","single_select_option"]),{...e,[l]:s}},{})});let f=[{value:"checklist",label:"checklist",hasChildren:!0,defaults:{}},{value:"multi_select",label:"multi_select",hasChildren:!0,defaults:{valuesOptions:[]}},{value:"single_select",label:"single_select",hasChildren:!0,defaults:{}},{value:"yesno",label:"yesno",hasChildren:!1,defaults:{positiveLabel:"Yes",negativeLabel:"No"}},{value:"drug",label:"drug",hasChildren:!1,defaults:{}},{value:"fluid",label:"fluid",hasChildren:!1,defaults:{}},{value:"zw_edliz_summary_table_option",label:"zw_edliz_summary_table_option",hasChildren:!1,defaults:{}},{value:"mwi_edliz_summary_table_option",label:"mwi_edliz_summary_table_option",hasChildren:!1,defaults:{}},{value:"diagnosis",label:"diagnosis",hasChildren:!1,defaults:{}},{value:"date",label:"date",hasChildren:!1,defaults:{}},{value:"datetime",label:"datetime",hasChildren:!1,defaults:{}},{value:"dropdown",label:"dropdown",hasChildren:!0,defaults:{}},{value:"number",label:"number",hasChildren:!1,defaults:{}},{value:"text",label:"text",hasChildren:!1,defaults:{}},{value:"timer",label:"timer",hasChildren:!1,defaults:{}},{value:"period",label:"period",hasChildren:!1,defaults:{}}],h=[{value:"label.asc",label:"Label (asc)",Icon:s.Z},{value:"label.desc",label:"Label (desc)",Icon:n.Z},{value:"key.asc",label:"Key (asc)",Icon:s.Z},{value:"key.desc",label:"Key (desc)",Icon:n.Z},{value:"type.asc",label:"Type (asc)",Icon:s.Z},{value:"type.desc",label:"Type (desc)",Icon:n.Z},{value:"createdAt.asc",label:"Date (asc)",Icon:s.Z},{value:"createdAt.desc",label:"Date (desc)",Icon:n.Z}],x=[{label:"Published",value:"published"},{label:"Drafts",value:"drafts"}]},17647:function(e,t,a){"use strict";a.d(t,{AppContextProvider:function(){return v},b:function(){return p}});var l=a(57437),s=a(2265),n=a(79512),r=a(16463),i=a(23314),o=a(44785);let d=o.Z.get,c=o.Z.set;o.Z.remove;var u={get:d,set:c};function m(){let e=u.get("mode");return e||(e="view",u.set("mode",e,{expires:31536e7})),e}var f=a(7752),h=a(58502);let x=(0,s.createContext)(null),p=()=>(0,s.useContext)(x);function v(e){let{children:t,...a}=e,o=function(e){(0,r.useRouter)();let{isAdmin:t,isSuperUser:a,sys:l}=e,{setTheme:i}=(0,n.F)();(0,s.useEffect)(()=>{"yes"===l.data.hide_theme_toggle&&i("light")},[l]);let o=(0,s.useCallback)(()=>(t||a?m():"view")||"view",[a,t]),[d,c]=(0,s.useState)(o()),h=!t&&!a||"view"===d,x=(0,s.useCallback)(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let l=function(e){return u.set("mode",e,{expires:31536e7}),m()}(...t);return f.Z.emit("mode_changed",o()),c(o()),l},[o]),p=(0,s.useCallback)(()=>{c(o())},[o]);return{...e,mode:d,viewOnly:h,onModeChange:p,getMode:m,setMode:x}}(a),[d,c]=(0,s.useState)(!1);return((0,i.Z)(()=>{c(!0)}),d)?(0,l.jsxs)(x.Provider,{value:o,children:[t,(0,l.jsx)(h.SocketEventsListener,{events:[{name:"mode_changed",onEvent:{callback:o.onModeChange}}]})]}):null}},23920:function(e,t,a){"use strict";a.d(t,{DataKeysCtxProvider:function(){return f},M:function(){return m}});var l=a(57437),s=a(2265),n=a(38472),r=a(73741),i=a(16463),o=a(53699),d=a(95229),c=a(83146);let u=(0,s.createContext)(null),m=()=>{let e=(0,s.useContext)(u);if(!e)throw Error("useChart must be used within a <DataKeysCtxProvider />");return e};function f(e){var t,a;let{children:m,prefetchSelectOptions:f,selectOptions:x=[],prefetchDataKeys:p=!0}=e,v=(0,s.useRef)(!1),b=(0,i.useRouter)(),{alert:y}=(0,o.s)(),[g,j]=(0,r.v1)("uuid",{clearOnDefault:!0,shallow:!0,history:"push",defaultValue:""}),[w,N]=(0,s.useState)([]),[k,C]=(0,s.useState)(c.F4[0].value),[D,_]=(0,s.useState)(""),[T,S]=(0,s.useState)(!1),[Z,E]=(0,s.useState)({data:[]}),[I,F]=(0,s.useState)(!1),[z,R]=(0,s.useState)(x),A=(0,s.useCallback)(async()=>new Promise(e=>{S(!0),n.Z.get("/api/data-keys").then(t=>{t.data.data=h(t.data.data,k),E(t.data),e(t.data.data||[])}).catch(t=>{E({data:[],errors:[t.message]}),e([])}).finally(()=>S(!1))}),[k]),P=(0,s.useCallback)(()=>new Promise(e=>{F(!0),n.Z.get("/api/data-keys/select-options").then(t=>{let a=t.data.data||[];R(a),e(a)}).catch(()=>{R([]),e([])}).finally(()=>F(!1))}),[]);(0,s.useEffect)(()=>{!v.current&&(v.current=!0,p&&A(),f&&P())},[f,p,A]);let[V,L]=(0,s.useState)(!1),O=(0,s.useCallback)(async(e,t)=>{try{var a;L(!0);let l=(await n.Z.post("/api/data-keys/save",{data:e,broadcastAction:!0})).data;(null===(a=l.errors)||void 0===a?void 0:a.length)?y({title:"Error",message:l.errors.join(", "),variant:"error"}):(await A(),b.refresh(),y({message:"Data key saved!",variant:"success",onClose:()=>null==t?void 0:t()}))}catch(e){y({title:"Error",message:"Failed to save data key: "+e.message,onClose:()=>null==t?void 0:t(e.message)})}finally{L(!1)}},[y,b.refresh,A]),[U,K]=(0,s.useState)(!1),M=(0,s.useCallback)(async e=>{try{var t;K(!0);let a=(await n.Z.delete("/api/data-keys?data="+JSON.stringify({dataKeysIds:e,broadcastAction:!0}))).data;if(null===(t=a.errors)||void 0===t?void 0:t.length)throw Error(a.errors[0]);N([]),await A(),b.refresh(),y({title:"Success",message:"Data keys deleted successfully!",variant:"success"})}catch(e){y({title:"Error",message:e.message,variant:"error"})}finally{K(!1)}},[b.refresh,y,A]),[B,Y]=(0,s.useState)(!1),$=(0,s.useCallback)(async e=>{try{var t;Y(!0);let a=(await n.Z.post("/api/data-keys/export",e)).data;if(null===(t=a.errors)||void 0===t?void 0:t.length)throw Error(a.errors[0]);b.refresh(),y({title:"Success",message:"Data exported successfully!",variant:"success"})}catch(e){y({title:"Error",message:e.message,variant:"error"})}finally{Y(!1)}},[b.refresh,y]),Q=(0,s.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.F4[0].value;C(e),N([]),E(t=>({...t,data:h(t.data,e)}))},[]);return(null==Z?void 0:null===(t=Z.errors)||void 0===t?void 0:t.length)?(0,l.jsx)(d.Alert,{title:"Error",message:"Failed to load data keys: "+(null==Z?void 0:null===(a=Z.errors)||void 0===a?void 0:a.join(", ")),buttonLabel:"Try again",onClose:()=>A()}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u.Provider,{value:{loadingDataKeys:T,saving:V,exporting:B,deleting:U,dataKeys:Z.data,errors:Z.errors,selected:w,currentDataKeyUuid:g,sort:k,filter:D,selectOptions:z,loadingSelectOptions:I,deleteDataKeys:M,saveDataKeys:O,exportDataKeys:$,setCurrentDataKeyUuid:j,loadDataKeys:A,setSelected:N,setSort:C,onSort:Q,setFilter:_},children:m})})}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.F4[0].value,a=[...e],l=e=>{let{key1:t,key2:a,sortDirection:l}=e;t=(t||"").trim().toLowerCase(),a=(a||"").trim().toLowerCase();let s=0;return"asc"===l?(t<a&&(s=-1),t>a&&(s=1)):(t>a&&(s=-1),t<a&&(s=1)),s};switch(t){case"key.desc":a=e.sort((e,t)=>l({sortDirection:"desc",key1:e.name,key2:t.name}));break;case"label.asc":a=e.sort((e,t)=>l({sortDirection:"asc",key1:(e.label||e.name||"").trim(),key2:(t.label||t.name||"").trim()}));break;case"label.desc":a=e.sort((e,t)=>l({sortDirection:"desc",key1:(e.label||e.name||"").trim(),key2:(t.label||t.name||"").trim()}));break;case"type.asc":a=e.sort((e,t)=>l({sortDirection:"asc",key1:(e.dataType||"").trim(),key2:(t.dataType||"").trim()}));break;case"type.desc":a=e.sort((e,t)=>l({sortDirection:"desc",key1:(e.dataType||"").trim(),key2:(t.dataType||"").trim()}));break;case"createdAt.asc":a=e.sort((e,t)=>l({sortDirection:"asc",key1:new Date(e.createdAt||"").getTime().toString(),key2:new Date(t.createdAt||"").getTime().toString()}));break;case"createdAt.desc":a=e.sort((e,t)=>l({sortDirection:"desc",key1:new Date(e.createdAt||"").getTime().toString(),key2:new Date(t.createdAt||"").getTime().toString()}));break;default:a=e.sort((e,t)=>l({sortDirection:"asc",key1:e.name,key2:t.name}))}return a}},53699:function(e,t,a){"use strict";a.d(t,{s:function(){return n}});var l=a(39099);let s={title:"",message:"",buttonLabel:"Ok",variant:"info",onClose:void 0},n=(0,l.Ue)(e=>({isOpen:!1,...s,alert:t=>e({isOpen:!0,...s,...t}),close:()=>e({isOpen:!1,onClose:void 0,...s})}))},76230:function(e,t,a){"use strict";a.d(t,{t:function(){return n}});var l=a(39099);let s={danger:!1,title:"Confirm",message:"Are you sure?",positiveLabel:"Ok",negativeLabel:"Cancel"},n=(0,l.Ue)(e=>({isOpen:!1,...s,confirm:(t,a)=>e({isOpen:!0,...s,...a,onConfirm:t}),close:()=>e({isOpen:!1,onConfirm:void 0,...s})}))},53853:function(e,t,a){"use strict";a.d(t,{k:function(){return i}});var l=a(2265),s=a(38472),n=a(17647),r=a(53699);function i(e){let{loadOnMount:t=!0,onLoadSitesError:a}={...e},[i,o]=(0,l.useState)(!1),{alert:d}=(0,r.s)(),{getSites:c}=(0,n.b)(),[u,m]=(0,l.useState)([]),f=(0,l.useCallback)(async()=>{try{var e;o(!0);let t=(await s.Z.get("/api/sites?data="+JSON.stringify({types:["webeditor"]}))).data;if(null===(e=t.errors)||void 0===e?void 0:e.length)throw Error(t.errors.join(", "));m(t.data||[])}catch(e){d({title:"Error",message:"Failed to load sites: "+e.message,variant:"error",onClose:()=>null==a?void 0:a()})}finally{o(!1)}},[c,d,a]);return(0,l.useEffect)(()=>{t&&!u.length&&f()},[u,t,f]),{loading:i,sites:u,loadSites:f}}},7752:function(e,t,a){"use strict";var l=a(45040),s=a(20357);let n=(0,l.io)(s.env.NEXT_PUBLIC_APP_URL);t.Z=n}},function(e){e.O(0,[4868,1086,7468,6044,193,8472,638,2254,8872,2860,7202,1692,4638,7478,7023,1744],function(){return e(e.s=32242)}),_N_E=e.O()}]);