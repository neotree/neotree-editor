(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5642],{66604:function(e,a,t){Promise.resolve().then(t.bind(t,85497))},85497:function(e,a,t){"use strict";t.d(a,{DashboardNavigation:function(){return ec}});var s=t(57437),n=t(2265),r=t(67132),i=t(27648),l=t(99376),d=t(49360);function o(){let e=(0,l.usePathname)(),{isDefaultUser:a,isSuperUser:t}=(0,r.b)();return[{label:"Scripts",href:"/",isActive:"/script/"===e.substring(0,8),id:(0,d.Z)(),hidden:!1},{label:"Data keys Library",href:"/data-keys",isActive:"/data-keys"===e.substring(0,10),id:(0,d.Z)(),hidden:!1},{label:"Drugs & Fluids Library",href:"/drugs-fluids-and-feeds",isActive:"/drugs-fluids-and-feeds/"===e.substring(0,24),id:(0,d.Z)(),hidden:!1},{label:"Configuration",href:"/configuration",id:(0,d.Z)(),hidden:!1},{label:"Hospitals",href:"/hospitals",id:(0,d.Z)(),hidden:!1},{label:"Users",href:"/users",id:(0,d.Z)(),hidden:a},{label:"Changelogs",href:"/changelogs",isActive:"/changelogs"===e.substring(0,11),id:(0,d.Z)(),hidden:!1},{label:"Settings",href:"/settings",isActive:"/settings/"===e.substring(0,9),id:(0,d.Z)(),hidden:!t}].filter(e=>!e.hidden).map(a=>({...a,isActive:a.isActive||e===a.href}))}var c=t(94508);function u(){let e=(0,l.usePathname)(),a=o();return(0,s.jsxs)("div",{className:"hidden md:flex",children:[(0,s.jsx)("div",{className:(0,c.cn)("w-[250px]")}),(0,s.jsx)("div",{className:(0,c.cn)("\n                        fixed\n                        top-0\n                        left-0\n                        w-[250px]\n                        h-full\n                        bg-primary-foreground\n                        dark:bg-background\n                        shadow-md\n                        dark:shadow-foreground/10\n                        flex\n                        flex-col\n                        z-[1]\n                        border-r\n                        border-border\n                        pt-28\n                    "),children:(0,s.jsx)("div",{className:"flex flex-col",children:a.map(a=>{let t=e===a.href;return(0,s.jsx)(i.default,{href:a.href,className:(0,c.cn)("p-4 flex flex-col justify-center transition-colors dark:text-foreground font-medium",t?"bg-primary/10 text-primary":"text-secondary hover:bg-primary/10 dark:hover:bg-primary-foreground/10"),children:a.label},a.id)})})})]})}var f=t(6760);function m(e){let{size:a,href:t,className:n,variant:r="default",theme:l="auto"}=e,d=(0,s.jsx)("div",{className:(0,c.cn)("font-bold text-primary",(()=>{switch(a){case"sm":return"w-20";case"lg":return"w-40";case"xl":return"w-80";case"2xl":return"w-[600px]";default:return"w-28"}})(),n),children:"icon"===r?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145.29",height:"78.354",viewBox:"0 0 145.29 78.354",className:"w-full h-auto",children:(0,s.jsxs)("g",{id:"Group_1377","data-name":"Group 1377",transform:"translate(0)",children:[(0,s.jsx)("path",{id:"Path_885","data-name":"Path 885",d:"M80.664,59.008a6.663,6.663,0,0,1-.159-1.541c-.006-.5.022-.993.056-1.487a20.31,20.31,0,0,1,2.705-8.488A13.118,13.118,0,0,1,87.514,43a7.745,7.745,0,0,1,6.009-1.066.191.191,0,0,1,0,.368l0,0A10.833,10.833,0,0,0,88.9,44.863a18.447,18.447,0,0,0-3.181,4.1A47.879,47.879,0,0,0,83.244,53.8c-.386.839-.754,1.695-1.125,2.559-.2.43-.363.868-.554,1.306l-.267.659c-.09.213-.178.459-.24.633l-.025.07a.193.193,0,0,1-.248.114A.2.2,0,0,1,80.664,59.008Z",transform:"translate(-3.081 -5.835)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_886","data-name":"Path 886",d:"M81.873,58.957c-.063-.175-.149-.42-.241-.633l-.267-.659c-.189-.438-.354-.876-.554-1.306-.37-.865-.739-1.72-1.123-2.559a48.218,48.218,0,0,0-2.477-4.838,18.487,18.487,0,0,0-3.18-4.1A10.833,10.833,0,0,0,69.409,42.3l0,0a.191.191,0,0,1-.13-.236.2.2,0,0,1,.135-.132A7.74,7.74,0,0,1,75.416,43a13.118,13.118,0,0,1,4.248,4.5,20.309,20.309,0,0,1,2.705,8.488c.033.493.063.989.056,1.487a6.664,6.664,0,0,1-.159,1.541.193.193,0,0,1-.368.019Z",transform:"translate(-9.675 -5.835)",fill:"#2b304a"}),(0,s.jsxs)("g",{id:"Group_1284","data-name":"Group 1284",transform:"translate(0 57.147)",children:[(0,s.jsx)("path",{id:"Path_887","data-name":"Path 887",d:"M48.5,63.117V74.659a1.605,1.605,0,1,1-3.208,0V63.491c0-3.291-2.042-5.416-5.041-5.416a5.163,5.163,0,0,0-5.333,5.416V74.659a1.605,1.605,0,1,1-3.208,0V56.784a1.61,1.61,0,0,1,1.625-1.666,1.629,1.629,0,0,1,1.584,1.666v.749a8.317,8.317,0,0,1,6.041-2.415C45.586,55.118,48.5,58.242,48.5,63.117Z",transform:"translate(-31.711 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_888","data-name":"Path 888",d:"M65.279,64.493V64.7a1.772,1.772,0,0,1-1.958,2H48.988a7.165,7.165,0,0,0,7.458,6.668,8.063,8.063,0,0,0,5.292-1.958,1.666,1.666,0,0,1,1.084-.459,1.378,1.378,0,0,1,1.415,1.415,1.862,1.862,0,0,1-.792,1.46,10.79,10.79,0,0,1-7.04,2.5,10.605,10.605,0,0,1-.376-21.207A8.984,8.984,0,0,1,65.279,64.493Zm-16.166-.625H61.986a5.747,5.747,0,0,0-6.041-5.833A6.918,6.918,0,0,0,49.113,63.867Z",transform:"translate(-23.53 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_889","data-name":"Path 889",d:"M81.9,65.7A10.625,10.625,0,1,1,71.273,55.118,10.563,10.563,0,0,1,81.9,65.7Zm-17.959.043a7.267,7.267,0,0,0,7.293,7.582,7.631,7.631,0,1,0-7.293-7.582Z",transform:"translate(-14.732 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_890","data-name":"Path 890",d:"M82.669,55.407H87.71a1.437,1.437,0,1,1,0,2.874H82.669V69.364c0,2.667,1.376,3.875,4.292,3.875.708,0,1.208-.084,1.666-.084a1.291,1.291,0,0,1,1.458,1.25,1.431,1.431,0,0,1-1.166,1.458,8.954,8.954,0,0,1-2.624.292c-4.418,0-6.834-2.333-6.834-6.583V58.281H77.377a1.438,1.438,0,1,1,0-2.874h2.083",transform:"translate(-5.796 -54.948)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_891","data-name":"Path 891",d:"M98.757,56.909a1.5,1.5,0,0,1-1.625,1.5,5.984,5.984,0,0,0-6.334,6v10.25a1.605,1.605,0,1,1-3.208,0V56.784a1.611,1.611,0,0,1,1.626-1.666A1.627,1.627,0,0,1,90.8,56.784v1.5a8.145,8.145,0,0,1,6.334-2.875A1.526,1.526,0,0,1,98.757,56.909Z",transform:"translate(1.076 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_892","data-name":"Path 892",d:"M115.537,64.493V64.7a1.772,1.772,0,0,1-1.958,2H99.246a7.166,7.166,0,0,0,7.459,6.668A8.059,8.059,0,0,0,112,71.409a1.673,1.673,0,0,1,1.084-.459,1.379,1.379,0,0,1,1.417,1.415,1.862,1.862,0,0,1-.792,1.46,10.791,10.791,0,0,1-7.042,2.5,10.605,10.605,0,0,1-.374-21.207A8.984,8.984,0,0,1,115.537,64.493Zm-16.166-.625h12.875a5.748,5.748,0,0,0-6.041-5.833A6.921,6.921,0,0,0,99.372,63.867Z",transform:"translate(5.961 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_893","data-name":"Path 893",d:"M130.531,64.493V64.7a1.772,1.772,0,0,1-1.958,2H114.24a7.166,7.166,0,0,0,7.459,6.668,8.059,8.059,0,0,0,5.29-1.958,1.67,1.67,0,0,1,1.084-.459,1.379,1.379,0,0,1,1.417,1.415,1.862,1.862,0,0,1-.792,1.46,10.791,10.791,0,0,1-7.042,2.5,10.605,10.605,0,0,1-.374-21.207A8.984,8.984,0,0,1,130.531,64.493Zm-16.166-.625H127.24a5.749,5.749,0,0,0-6.041-5.833A6.919,6.919,0,0,0,114.366,63.867Z",transform:"translate(14.758 -55.118)",fill:"#2b304a"})]}),(0,s.jsx)("path",{id:"Path_894","data-name":"Path 894",d:"M69.853,22.729a1.984,1.984,0,0,1,.4,1.282,1.935,1.935,0,0,1-.611,1.365,1.81,1.81,0,0,1-1.452.438,2.047,2.047,0,0,1-1.206-.592l1.142-.335a1.771,1.771,0,0,0,.719-.4A5.347,5.347,0,0,0,69.853,22.729Z",transform:"translate(-11.015 -16.976)",fill:"#70a487"}),(0,s.jsx)("path",{id:"Path_895","data-name":"Path 895",d:"M70.662,26.239a11.037,11.037,0,0,1,1.073-1.157c.178-.186.308-.428.551-.5a1.653,1.653,0,0,1,.911-.008.1.1,0,0,1,.075.092,1.338,1.338,0,0,1-.309.9,1.393,1.393,0,0,1-.724.328,15.275,15.275,0,0,1-1.509.447.063.063,0,0,1-.078-.043A.069.069,0,0,1,70.662,26.239Z",transform:"translate(-8.864 -15.929)",fill:"#70a487"}),(0,s.jsx)("path",{id:"Path_896","data-name":"Path 896",d:"M72.955,21.678a1.327,1.327,0,0,1-.068,1.092,1.433,1.433,0,0,1-.993.754,1.536,1.536,0,0,1-1.173-.27,1.584,1.584,0,0,1-.6-.889,9.644,9.644,0,0,0,1.549-.008A3.35,3.35,0,0,0,72.955,21.678Z",transform:"translate(-9.176 -17.592)",fill:"#70a487"}),(0,s.jsx)("path",{id:"Path_897","data-name":"Path 897",d:"M81.24,26.792A13.745,13.745,0,0,0,78.51,22.63a7.648,7.648,0,0,0-4.118-2.34,7.9,7.9,0,0,0-4.6.687,10.032,10.032,0,0,0-3.757,2.717,8.985,8.985,0,0,0-1.479,8.549,7.885,7.885,0,0,0,6.184,5.476,1.318,1.318,0,0,1,1.084.982l.019.071a12.176,12.176,0,0,0,3.956,5.99,20.038,20.038,0,0,0,6.525,3.74c4.775,1.785,10.049,1.176,14.774-.8a23.673,23.673,0,0,0,6.414-4.113,20.209,20.209,0,0,0,2.585-2.78,14.245,14.245,0,0,0,1.89-3.166,5.645,5.645,0,0,0,.408-3.213,5.01,5.01,0,0,0-1.661-2.739,11.55,11.55,0,0,0-6.764-2.6l.168-.013a48.305,48.305,0,0,1-7.551.073c-1.242-.083-2.48-.187-3.713-.325l-1.845-.217a4.589,4.589,0,0,0-1.718-.027,15.026,15.026,0,0,0-6.3,3.351,11.97,11.97,0,0,0-2.417,2.707,4.6,4.6,0,0,0-.76,3.478,4.717,4.717,0,0,1,.557-3.594,12.335,12.335,0,0,1,2.306-2.937,15.473,15.473,0,0,1,6.452-3.811,6.707,6.707,0,0,1,1.956-.108l1.839.04c1.227.016,2.45,0,3.67-.036a53.618,53.618,0,0,0,7.2-.592.926.926,0,0,1,.148-.013h.021a13.292,13.292,0,0,1,8.353,2.751,7.582,7.582,0,0,1,2.658,4.022,8.228,8.228,0,0,1-.4,4.792c-2.329,5.611-7,9.549-12.25,11.917a25.592,25.592,0,0,1-8.4,2.122,20.71,20.71,0,0,1-8.649-1.25,21.868,21.868,0,0,1-7.488-4.446,14.962,14.962,0,0,1-4.646-7.6l1.1,1.054a9.839,9.839,0,0,1-5.093-2.648,10.939,10.939,0,0,1-2.842-4.857A10.542,10.542,0,0,1,69.3,19.7a9.073,9.073,0,0,1,5.3-.341,8.4,8.4,0,0,1,4.314,2.916A13.477,13.477,0,0,1,81.24,26.792Z",transform:"translate(-14.001 -19.103)",fill:"#70a487"})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145.29",height:"78.354",viewBox:"0 0 145.29 78.354",className:(0,c.cn)("w-full h-auto","auto"===l?"dark:hidden":"light"!==l&&"hidden"),children:(0,s.jsxs)("g",{id:"Group_1377","data-name":"Group 1377",transform:"translate(0)",children:[(0,s.jsx)("path",{id:"Path_885","data-name":"Path 885",d:"M80.664,59.008a6.663,6.663,0,0,1-.159-1.541c-.006-.5.022-.993.056-1.487a20.31,20.31,0,0,1,2.705-8.488A13.118,13.118,0,0,1,87.514,43a7.745,7.745,0,0,1,6.009-1.066.191.191,0,0,1,0,.368l0,0A10.833,10.833,0,0,0,88.9,44.863a18.447,18.447,0,0,0-3.181,4.1A47.879,47.879,0,0,0,83.244,53.8c-.386.839-.754,1.695-1.125,2.559-.2.43-.363.868-.554,1.306l-.267.659c-.09.213-.178.459-.24.633l-.025.07a.193.193,0,0,1-.248.114A.2.2,0,0,1,80.664,59.008Z",transform:"translate(-3.081 -5.835)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_886","data-name":"Path 886",d:"M81.873,58.957c-.063-.175-.149-.42-.241-.633l-.267-.659c-.189-.438-.354-.876-.554-1.306-.37-.865-.739-1.72-1.123-2.559a48.218,48.218,0,0,0-2.477-4.838,18.487,18.487,0,0,0-3.18-4.1A10.833,10.833,0,0,0,69.409,42.3l0,0a.191.191,0,0,1-.13-.236.2.2,0,0,1,.135-.132A7.74,7.74,0,0,1,75.416,43a13.118,13.118,0,0,1,4.248,4.5,20.309,20.309,0,0,1,2.705,8.488c.033.493.063.989.056,1.487a6.664,6.664,0,0,1-.159,1.541.193.193,0,0,1-.368.019Z",transform:"translate(-9.675 -5.835)",fill:"#2b304a"}),(0,s.jsxs)("g",{id:"Group_1284","data-name":"Group 1284",transform:"translate(0 57.147)",children:[(0,s.jsx)("path",{id:"Path_887","data-name":"Path 887",d:"M48.5,63.117V74.659a1.605,1.605,0,1,1-3.208,0V63.491c0-3.291-2.042-5.416-5.041-5.416a5.163,5.163,0,0,0-5.333,5.416V74.659a1.605,1.605,0,1,1-3.208,0V56.784a1.61,1.61,0,0,1,1.625-1.666,1.629,1.629,0,0,1,1.584,1.666v.749a8.317,8.317,0,0,1,6.041-2.415C45.586,55.118,48.5,58.242,48.5,63.117Z",transform:"translate(-31.711 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_888","data-name":"Path 888",d:"M65.279,64.493V64.7a1.772,1.772,0,0,1-1.958,2H48.988a7.165,7.165,0,0,0,7.458,6.668,8.063,8.063,0,0,0,5.292-1.958,1.666,1.666,0,0,1,1.084-.459,1.378,1.378,0,0,1,1.415,1.415,1.862,1.862,0,0,1-.792,1.46,10.79,10.79,0,0,1-7.04,2.5,10.605,10.605,0,0,1-.376-21.207A8.984,8.984,0,0,1,65.279,64.493Zm-16.166-.625H61.986a5.747,5.747,0,0,0-6.041-5.833A6.918,6.918,0,0,0,49.113,63.867Z",transform:"translate(-23.53 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_889","data-name":"Path 889",d:"M81.9,65.7A10.625,10.625,0,1,1,71.273,55.118,10.563,10.563,0,0,1,81.9,65.7Zm-17.959.043a7.267,7.267,0,0,0,7.293,7.582,7.631,7.631,0,1,0-7.293-7.582Z",transform:"translate(-14.732 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_890","data-name":"Path 890",d:"M82.669,55.407H87.71a1.437,1.437,0,1,1,0,2.874H82.669V69.364c0,2.667,1.376,3.875,4.292,3.875.708,0,1.208-.084,1.666-.084a1.291,1.291,0,0,1,1.458,1.25,1.431,1.431,0,0,1-1.166,1.458,8.954,8.954,0,0,1-2.624.292c-4.418,0-6.834-2.333-6.834-6.583V58.281H77.377a1.438,1.438,0,1,1,0-2.874h2.083",transform:"translate(-5.796 -54.948)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_891","data-name":"Path 891",d:"M98.757,56.909a1.5,1.5,0,0,1-1.625,1.5,5.984,5.984,0,0,0-6.334,6v10.25a1.605,1.605,0,1,1-3.208,0V56.784a1.611,1.611,0,0,1,1.626-1.666A1.627,1.627,0,0,1,90.8,56.784v1.5a8.145,8.145,0,0,1,6.334-2.875A1.526,1.526,0,0,1,98.757,56.909Z",transform:"translate(1.076 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_892","data-name":"Path 892",d:"M115.537,64.493V64.7a1.772,1.772,0,0,1-1.958,2H99.246a7.166,7.166,0,0,0,7.459,6.668A8.059,8.059,0,0,0,112,71.409a1.673,1.673,0,0,1,1.084-.459,1.379,1.379,0,0,1,1.417,1.415,1.862,1.862,0,0,1-.792,1.46,10.791,10.791,0,0,1-7.042,2.5,10.605,10.605,0,0,1-.374-21.207A8.984,8.984,0,0,1,115.537,64.493Zm-16.166-.625h12.875a5.748,5.748,0,0,0-6.041-5.833A6.921,6.921,0,0,0,99.372,63.867Z",transform:"translate(5.961 -55.118)",fill:"#2b304a"}),(0,s.jsx)("path",{id:"Path_893","data-name":"Path 893",d:"M130.531,64.493V64.7a1.772,1.772,0,0,1-1.958,2H114.24a7.166,7.166,0,0,0,7.459,6.668,8.059,8.059,0,0,0,5.29-1.958,1.67,1.67,0,0,1,1.084-.459,1.379,1.379,0,0,1,1.417,1.415,1.862,1.862,0,0,1-.792,1.46,10.791,10.791,0,0,1-7.042,2.5,10.605,10.605,0,0,1-.374-21.207A8.984,8.984,0,0,1,130.531,64.493Zm-16.166-.625H127.24a5.749,5.749,0,0,0-6.041-5.833A6.919,6.919,0,0,0,114.366,63.867Z",transform:"translate(14.758 -55.118)",fill:"#2b304a"})]}),(0,s.jsx)("path",{id:"Path_894","data-name":"Path 894",d:"M69.853,22.729a1.984,1.984,0,0,1,.4,1.282,1.935,1.935,0,0,1-.611,1.365,1.81,1.81,0,0,1-1.452.438,2.047,2.047,0,0,1-1.206-.592l1.142-.335a1.771,1.771,0,0,0,.719-.4A5.347,5.347,0,0,0,69.853,22.729Z",transform:"translate(-11.015 -16.976)",fill:"#70a487"}),(0,s.jsx)("path",{id:"Path_895","data-name":"Path 895",d:"M70.662,26.239a11.037,11.037,0,0,1,1.073-1.157c.178-.186.308-.428.551-.5a1.653,1.653,0,0,1,.911-.008.1.1,0,0,1,.075.092,1.338,1.338,0,0,1-.309.9,1.393,1.393,0,0,1-.724.328,15.275,15.275,0,0,1-1.509.447.063.063,0,0,1-.078-.043A.069.069,0,0,1,70.662,26.239Z",transform:"translate(-8.864 -15.929)",fill:"#70a487"}),(0,s.jsx)("path",{id:"Path_896","data-name":"Path 896",d:"M72.955,21.678a1.327,1.327,0,0,1-.068,1.092,1.433,1.433,0,0,1-.993.754,1.536,1.536,0,0,1-1.173-.27,1.584,1.584,0,0,1-.6-.889,9.644,9.644,0,0,0,1.549-.008A3.35,3.35,0,0,0,72.955,21.678Z",transform:"translate(-9.176 -17.592)",fill:"#70a487"}),(0,s.jsx)("path",{id:"Path_897","data-name":"Path 897",d:"M81.24,26.792A13.745,13.745,0,0,0,78.51,22.63a7.648,7.648,0,0,0-4.118-2.34,7.9,7.9,0,0,0-4.6.687,10.032,10.032,0,0,0-3.757,2.717,8.985,8.985,0,0,0-1.479,8.549,7.885,7.885,0,0,0,6.184,5.476,1.318,1.318,0,0,1,1.084.982l.019.071a12.176,12.176,0,0,0,3.956,5.99,20.038,20.038,0,0,0,6.525,3.74c4.775,1.785,10.049,1.176,14.774-.8a23.673,23.673,0,0,0,6.414-4.113,20.209,20.209,0,0,0,2.585-2.78,14.245,14.245,0,0,0,1.89-3.166,5.645,5.645,0,0,0,.408-3.213,5.01,5.01,0,0,0-1.661-2.739,11.55,11.55,0,0,0-6.764-2.6l.168-.013a48.305,48.305,0,0,1-7.551.073c-1.242-.083-2.48-.187-3.713-.325l-1.845-.217a4.589,4.589,0,0,0-1.718-.027,15.026,15.026,0,0,0-6.3,3.351,11.97,11.97,0,0,0-2.417,2.707,4.6,4.6,0,0,0-.76,3.478,4.717,4.717,0,0,1,.557-3.594,12.335,12.335,0,0,1,2.306-2.937,15.473,15.473,0,0,1,6.452-3.811,6.707,6.707,0,0,1,1.956-.108l1.839.04c1.227.016,2.45,0,3.67-.036a53.618,53.618,0,0,0,7.2-.592.926.926,0,0,1,.148-.013h.021a13.292,13.292,0,0,1,8.353,2.751,7.582,7.582,0,0,1,2.658,4.022,8.228,8.228,0,0,1-.4,4.792c-2.329,5.611-7,9.549-12.25,11.917a25.592,25.592,0,0,1-8.4,2.122,20.71,20.71,0,0,1-8.649-1.25,21.868,21.868,0,0,1-7.488-4.446,14.962,14.962,0,0,1-4.646-7.6l1.1,1.054a9.839,9.839,0,0,1-5.093-2.648,10.939,10.939,0,0,1-2.842-4.857A10.542,10.542,0,0,1,69.3,19.7a9.073,9.073,0,0,1,5.3-.341,8.4,8.4,0,0,1,4.314,2.916A13.477,13.477,0,0,1,81.24,26.792Z",transform:"translate(-14.001 -19.103)",fill:"#70a487"})]})}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"145.29",height:"78.354",viewBox:"0 0 145.29 78.354",className:(0,c.cn)("w-full h-auto","auto"===l?"hidden dark:hidden":"dark"!==l&&"hidden"),children:(0,s.jsxs)("g",{id:"Group_1378","data-name":"Group 1378",transform:"translate(0)",children:[(0,s.jsx)("path",{id:"Path_885","data-name":"Path 885",d:"M80.664,59.008a6.663,6.663,0,0,1-.159-1.541c-.006-.5.022-.993.056-1.487a20.31,20.31,0,0,1,2.705-8.488A13.118,13.118,0,0,1,87.514,43a7.745,7.745,0,0,1,6.009-1.066.191.191,0,0,1,0,.368l0,0A10.833,10.833,0,0,0,88.9,44.863a18.447,18.447,0,0,0-3.181,4.1A47.879,47.879,0,0,0,83.244,53.8c-.386.839-.754,1.695-1.125,2.559-.2.43-.363.868-.554,1.306l-.267.659c-.09.213-.178.459-.24.633l-.025.07a.193.193,0,0,1-.248.114A.2.2,0,0,1,80.664,59.008Z",transform:"translate(-3.081 -5.835)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_886","data-name":"Path 886",d:"M81.873,58.957c-.063-.175-.149-.42-.241-.633l-.267-.659c-.189-.438-.354-.876-.554-1.306-.37-.865-.739-1.72-1.123-2.559a48.218,48.218,0,0,0-2.477-4.838,18.487,18.487,0,0,0-3.18-4.1A10.833,10.833,0,0,0,69.409,42.3l0,0a.191.191,0,0,1-.13-.236.2.2,0,0,1,.135-.132A7.74,7.74,0,0,1,75.416,43a13.118,13.118,0,0,1,4.248,4.5,20.309,20.309,0,0,1,2.705,8.488c.033.493.063.989.056,1.487a6.664,6.664,0,0,1-.159,1.541.193.193,0,0,1-.368.019Z",transform:"translate(-9.675 -5.835)",fill:"#ffffff"}),(0,s.jsxs)("g",{id:"Group_1284","data-name":"Group 1284",transform:"translate(0 57.147)",children:[(0,s.jsx)("path",{id:"Path_887","data-name":"Path 887",d:"M48.5,63.117V74.659a1.605,1.605,0,1,1-3.208,0V63.491c0-3.291-2.042-5.416-5.041-5.416a5.163,5.163,0,0,0-5.333,5.416V74.659a1.605,1.605,0,1,1-3.208,0V56.784a1.61,1.61,0,0,1,1.625-1.666,1.629,1.629,0,0,1,1.584,1.666v.749a8.317,8.317,0,0,1,6.041-2.415C45.586,55.118,48.5,58.242,48.5,63.117Z",transform:"translate(-31.711 -55.118)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_888","data-name":"Path 888",d:"M65.279,64.493V64.7a1.772,1.772,0,0,1-1.958,2H48.988a7.165,7.165,0,0,0,7.458,6.668,8.063,8.063,0,0,0,5.292-1.958,1.666,1.666,0,0,1,1.084-.459,1.378,1.378,0,0,1,1.415,1.415,1.862,1.862,0,0,1-.792,1.46,10.79,10.79,0,0,1-7.04,2.5,10.605,10.605,0,0,1-.376-21.207A8.984,8.984,0,0,1,65.279,64.493Zm-16.166-.625H61.986a5.747,5.747,0,0,0-6.041-5.833A6.918,6.918,0,0,0,49.113,63.867Z",transform:"translate(-23.53 -55.118)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_889","data-name":"Path 889",d:"M81.9,65.7A10.625,10.625,0,1,1,71.273,55.118,10.563,10.563,0,0,1,81.9,65.7Zm-17.959.043a7.267,7.267,0,0,0,7.293,7.582,7.631,7.631,0,1,0-7.293-7.582Z",transform:"translate(-14.732 -55.118)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_890","data-name":"Path 890",d:"M82.669,55.407H87.71a1.437,1.437,0,1,1,0,2.874H82.669V69.364c0,2.667,1.376,3.875,4.292,3.875.708,0,1.208-.084,1.666-.084a1.291,1.291,0,0,1,1.458,1.25,1.431,1.431,0,0,1-1.166,1.458,8.954,8.954,0,0,1-2.624.292c-4.418,0-6.834-2.333-6.834-6.583V58.281H77.377a1.438,1.438,0,1,1,0-2.874h2.083",transform:"translate(-5.796 -54.948)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_891","data-name":"Path 891",d:"M98.757,56.909a1.5,1.5,0,0,1-1.625,1.5,5.984,5.984,0,0,0-6.334,6v10.25a1.605,1.605,0,1,1-3.208,0V56.784a1.611,1.611,0,0,1,1.626-1.666A1.627,1.627,0,0,1,90.8,56.784v1.5a8.145,8.145,0,0,1,6.334-2.875A1.526,1.526,0,0,1,98.757,56.909Z",transform:"translate(1.076 -55.118)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_892","data-name":"Path 892",d:"M115.537,64.493V64.7a1.772,1.772,0,0,1-1.958,2H99.246a7.166,7.166,0,0,0,7.459,6.668A8.059,8.059,0,0,0,112,71.409a1.673,1.673,0,0,1,1.084-.459,1.379,1.379,0,0,1,1.417,1.415,1.862,1.862,0,0,1-.792,1.46,10.791,10.791,0,0,1-7.042,2.5,10.605,10.605,0,0,1-.374-21.207A8.984,8.984,0,0,1,115.537,64.493Zm-16.166-.625h12.875a5.748,5.748,0,0,0-6.041-5.833A6.921,6.921,0,0,0,99.372,63.867Z",transform:"translate(5.961 -55.118)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_893","data-name":"Path 893",d:"M130.531,64.493V64.7a1.772,1.772,0,0,1-1.958,2H114.24a7.166,7.166,0,0,0,7.459,6.668,8.059,8.059,0,0,0,5.29-1.958,1.67,1.67,0,0,1,1.084-.459,1.379,1.379,0,0,1,1.417,1.415,1.862,1.862,0,0,1-.792,1.46,10.791,10.791,0,0,1-7.042,2.5,10.605,10.605,0,0,1-.374-21.207A8.984,8.984,0,0,1,130.531,64.493Zm-16.166-.625H127.24a5.749,5.749,0,0,0-6.041-5.833A6.919,6.919,0,0,0,114.366,63.867Z",transform:"translate(14.758 -55.118)",fill:"#ffffff"})]}),(0,s.jsx)("path",{id:"Path_894","data-name":"Path 894",d:"M69.853,22.729a1.984,1.984,0,0,1,.4,1.282,1.935,1.935,0,0,1-.611,1.365,1.81,1.81,0,0,1-1.452.438,2.047,2.047,0,0,1-1.206-.592l1.142-.335a1.771,1.771,0,0,0,.719-.4A5.347,5.347,0,0,0,69.853,22.729Z",transform:"translate(-11.015 -16.976)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_895","data-name":"Path 895",d:"M70.662,26.239a11.037,11.037,0,0,1,1.073-1.157c.178-.186.308-.428.551-.5a1.653,1.653,0,0,1,.911-.008.1.1,0,0,1,.075.092,1.338,1.338,0,0,1-.309.9,1.393,1.393,0,0,1-.724.328,15.275,15.275,0,0,1-1.509.447.063.063,0,0,1-.078-.043A.069.069,0,0,1,70.662,26.239Z",transform:"translate(-8.864 -15.929)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_896","data-name":"Path 896",d:"M72.955,21.678a1.327,1.327,0,0,1-.068,1.092,1.433,1.433,0,0,1-.993.754,1.536,1.536,0,0,1-1.173-.27,1.584,1.584,0,0,1-.6-.889,9.644,9.644,0,0,0,1.549-.008A3.35,3.35,0,0,0,72.955,21.678Z",transform:"translate(-9.176 -17.592)",fill:"#ffffff"}),(0,s.jsx)("path",{id:"Path_897","data-name":"Path 897",d:"M81.24,26.792A13.745,13.745,0,0,0,78.51,22.63a7.648,7.648,0,0,0-4.118-2.34,7.9,7.9,0,0,0-4.6.687,10.032,10.032,0,0,0-3.757,2.717,8.985,8.985,0,0,0-1.479,8.549,7.885,7.885,0,0,0,6.184,5.476,1.318,1.318,0,0,1,1.084.982l.019.071a12.176,12.176,0,0,0,3.956,5.99,20.038,20.038,0,0,0,6.525,3.74c4.775,1.785,10.049,1.176,14.774-.8a23.673,23.673,0,0,0,6.414-4.113,20.209,20.209,0,0,0,2.585-2.78,14.245,14.245,0,0,0,1.89-3.166,5.645,5.645,0,0,0,.408-3.213,5.01,5.01,0,0,0-1.661-2.739,11.55,11.55,0,0,0-6.764-2.6l.168-.013a48.305,48.305,0,0,1-7.551.073c-1.242-.083-2.48-.187-3.713-.325l-1.845-.217a4.589,4.589,0,0,0-1.718-.027,15.026,15.026,0,0,0-6.3,3.351,11.97,11.97,0,0,0-2.417,2.707,4.6,4.6,0,0,0-.76,3.478,4.717,4.717,0,0,1,.557-3.594,12.335,12.335,0,0,1,2.306-2.937,15.473,15.473,0,0,1,6.452-3.811,6.707,6.707,0,0,1,1.956-.108l1.839.04c1.227.016,2.45,0,3.67-.036a53.618,53.618,0,0,0,7.2-.592.926.926,0,0,1,.148-.013h.021a13.292,13.292,0,0,1,8.353,2.751,7.582,7.582,0,0,1,2.658,4.022,8.228,8.228,0,0,1-.4,4.792c-2.329,5.611-7,9.549-12.25,11.917a25.592,25.592,0,0,1-8.4,2.122,20.71,20.71,0,0,1-8.649-1.25,21.868,21.868,0,0,1-7.488-4.446,14.962,14.962,0,0,1-4.646-7.6l1.1,1.054a9.839,9.839,0,0,1-5.093-2.648,10.939,10.939,0,0,1-2.842-4.857A10.542,10.542,0,0,1,69.3,19.7a9.073,9.073,0,0,1,5.3-.341,8.4,8.4,0,0,1,4.314,2.916A13.477,13.477,0,0,1,81.24,26.792Z",transform:"translate(-14.001 -19.103)",fill:"#ffffff"})]})})]})});return t?(0,s.jsx)(i.default,{href:t,children:d}):d}var h=t(25994),x=t(85929),p=t(97226),g=t(25922),y=t(62869),j=t(84190);function v(){let{setTheme:e}=(0,g.F)();return(0,s.jsxs)(j.h_,{children:[(0,s.jsx)(j.$F,{asChild:!0,children:(0,s.jsxs)(y.z,{variant:"ghost",size:"icon",className:"hover:text-muted-foreground",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(p.Z,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(j.AW,{align:"end",children:[(0,s.jsx)(j.Xi,{onClick:()=>e("light"),children:"Light"}),(0,s.jsx)(j.Xi,{onClick:()=>e("dark"),children:"Dark"}),(0,s.jsx)(j.Xi,{onClick:()=>e("system"),children:"System"})]})]})}function b(){let{sys:e}=(0,r.b)();return o(),e.data.use_plain_background,null}var N=t(58293),w=t(69304);function C(){let e=(0,l.usePathname)(),a=o();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(w.yo,{children:[(0,s.jsx)(w.aM,{asChild:!0,children:(0,s.jsx)(y.z,{className:"lg:hidden",variant:"ghost",children:(0,s.jsx)(N.Z,{className:"h-6 w-6 hover:text-primary-foreground"})})}),(0,s.jsxs)(w.ue,{side:"left",className:"p-0 m-0 flex flex-col gap-y-6",children:[(0,s.jsx)(w.Tu,{children:(0,s.jsx)(w.bC,{className:"flex justify-center py-5",children:(0,s.jsx)(m,{size:"lg",href:"/"})})}),(0,s.jsx)("div",{className:"flex flex-col",children:a.map((a,t)=>{let n=e===a.href;return(0,s.jsx)(w.sw,{asChild:!0,children:(0,s.jsx)(i.default,{href:a.href,className:(0,c.cn)("p-4 flex flex-col justify-center transition-colors dark:text-foreground",n?"bg-primary text-primary-foreground":"text-secondary hover:bg-primary/10 dark:hover:bg-primary-foreground/10"),children:a.label})},t)})})]})]})})}var A=t(66344),k=t(47692),Z=t(80605),P=t(86180);function _(e){let{user:a}=e,{sys:t}=(0,r.b)(),{confirm:l}=(0,P.t)(),d=(0,n.useCallback)(()=>{l(()=>(0,Z.signOut)({callbackUrl:"/login",redirect:!0}),{title:"Log out",message:"Are you sure you want to log out?",negativeLabel:"Cancel",positiveLabel:"Log out"})},[l]),o="yes"===t.data.use_plain_background;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"font-bold",children:(null==a?void 0:a.displayName)||""}),(0,s.jsxs)(j.h_,{children:[(0,s.jsx)(j.$F,{asChild:!0,children:(0,s.jsx)(y.z,{variant:"ghost",size:"icon",className:(0,c.cn)("transition-colors rounded-full hover:text-primary-foreground hover:bg-primary h-12 w-12",o?"":"text-primary-foreground hover:bg-primary-foreground/20"),children:(0,s.jsx)(A.Z,{className:"h-8 w-8"})})}),(0,s.jsxs)(j.AW,{children:[(0,s.jsx)(j.Ju,{children:"My Account"}),(0,s.jsx)(j.VD,{}),(0,s.jsx)(j.Xi,{asChild:!0,className:(0,c.cn)("yes"===t.data.hide_account_settings_page&&"hidden"),children:(0,s.jsx)(i.default,{href:"/account",children:"Account settings"})}),(0,s.jsx)(j.VD,{}),(0,s.jsxs)(j.Xi,{onClick:d,children:[(0,s.jsx)(k.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Log out"})]})]})]})]})}var V=t(83464),S=t(98656),M=t(69711),z=t(26110),T=t(8272),D=t(74991),R=t(26815),F=t(73526);let E=[{label:"my changes only",value:"0"},{label:"everything",value:"1"}];function H(e){let{variant:a}=e,{alert:t}=(0,S.s)(),[i,l]=(0,n.useState)(!1),[d,o]=(0,n.useState)("0"),{publishData:c,discardDrafts:u}=(0,r.b)(),f=(0,n.useCallback)(async()=>{try{l(!0);let e=(await V.Z.post("/api/ops/publish-data",{scope:Number(d)})).data;e.errors?t({variant:"error",title:"Failed to publish data",message:e.errors.map(e=>'<div class="mb-1 text-sm text-danger">'.concat(e,"</div>")).join("")}):(await F.pb.clearAllChanges(),t({variant:"success",title:"Success",message:"Data published successfully!",onClose:()=>window.location.reload()}))}catch(e){t({variant:"error",title:"Error",message:e.message})}finally{l(!1)}},[d,c,t]),m=(0,n.useCallback)(async()=>{try{l(!0);let e=(await V.Z.post("/api/ops/discard-drafts",{scope:Number(d)})).data;e.errors?t({variant:"error",title:"Failed to discard changes",message:e.errors.map(e=>'<div class="mb-1 text-sm text-danger">'.concat(e,"</div>")).join("")}):(await F.pb.clearAllChanges(),t({variant:"success",title:"Success",message:"Data discarded successfully!",onClose:()=>window.location.reload()}))}catch(e){t({variant:"error",title:"Error",message:e.message})}finally{l(!1)}},[d,u,t]),h="discard"===a?(0,s.jsx)(y.z,{variant:"destructive",className:"h-auto text-xs px-2 py-1",children:"Discard changes"}):(0,s.jsx)(y.z,{className:"h-auto text-xs px-4 py-1",children:"Publish"});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(z.Vq,{children:[(0,s.jsx)(z.hg,{asChild:!0,children:h}),(0,s.jsxs)(z.cZ,{children:[i&&(0,s.jsx)(M.a,{overlay:!0}),(0,s.jsxs)(z.fK,{children:[(0,s.jsxs)(z.$N,{children:[(0,T.Z)(a)," data"]}),(0,s.jsx)(z.Be,{})]}),(0,s.jsx)("div",{children:(0,s.jsx)(D.E,{defaultValue:E[0].value,onValueChange:e=>o(e),className:"flex flex-col gap-y-4",children:E.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(D.m,{value:e.value,id:e.value}),(0,s.jsxs)(R._,{secondary:!0,htmlFor:e.value,children:[(0,T.Z)(a)," ",e.label]})]},e.value))})}),(0,s.jsxs)(z.cN,{children:[(0,s.jsx)(z.GG,{asChild:!0,children:(0,s.jsx)(y.z,{variant:"ghost",children:"Cancel"})}),(0,s.jsxs)(y.z,{variant:"discard"===a?"destructive":void 0,onClick:"discard"===a?m:f,children:[(0,T.Z)(a)," data"]})]})]})]})})}function O(e){let{}=e,{confirm:a}=(0,P.t)(),{alert:t}=(0,S.s)(),[i,l]=(0,n.useState)(!1),{mode:d,sys:o,shouldPublishData:u,isAdmin:f,isSuperUser:m,setMode:x,publishData:p,discardDrafts:g}=(0,r.b)();(0,n.useCallback)(async()=>{try{l(!0);let e=(await V.Z.post("/api/ops/publish-data")).data;e.errors?t({variant:"error",title:"Failed to publish data",message:e.errors.map(e=>'<div class="mb-1 text-sm text-danger">'.concat(e,"</div>")).join("")}):t({variant:"success",title:"Success",message:"Data published successfully!",onClose:()=>window.location.reload()})}catch(e){t({variant:"error",title:"Error",message:e.message})}finally{l(!1)}},[p,t]),(0,n.useCallback)(async()=>{try{l(!0);let e=(await V.Z.post("/api/ops/discard-drafts")).data;e.errors?t({variant:"error",title:"Failed to discard changes",message:e.errors.map(e=>'<div class="mb-1 text-sm text-danger">'.concat(e,"</div>")).join("")}):t({variant:"success",title:"Success",message:"Data discarded successfully!",onClose:()=>window.location.reload()})}catch(e){t({variant:"error",title:"Error",message:e.message})}finally{l(!1)}},[g,t]),o.data.use_plain_background;let y=f||m;return(0,s.jsxs)(s.Fragment,{children:[i&&(0,s.jsx)(M.a,{overlay:!0}),(0,s.jsx)(h.V,{className:"p-0 flex items-center justify-center h-full",children:(0,s.jsxs)("div",{className:"text-secondary-foreground flex items-center justify-center gap-x-2 text-xs",children:[(0,s.jsxs)("span",{children:["You're in ",(0,s.jsx)("b",{children:d})," mode"]}),(0,s.jsxs)("a",{href:"#",className:(0,c.cn)("text-primary",!y&&"hidden"),onClick:e=>{e.preventDefault(),x("development"===d?"view":"development")},children:["Switch to ",(0,s.jsx)("b",{children:"development"===d?"view":"development"})," mode"]}),"development"===d&&u&&(m||f)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H,{variant:"publish"}),(0,s.jsx)(H,{variant:"discard"})]})]})})]})}var I=t(52170),L=t(35974),G=t(91723),B=t(49322),U=t(57054),q=t(43643);let Y=n.forwardRef((e,a)=>{let{className:t,children:n,...r}=e;return(0,s.jsxs)(q.fC,{ref:a,className:(0,c.cn)("relative overflow-hidden",t),...r,children:[(0,s.jsx)(q.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,s.jsx)(X,{}),(0,s.jsx)(q.Ns,{})]})});Y.displayName=q.fC.displayName;let X=n.forwardRef((e,a)=>{let{className:t,orientation:n="vertical",...r}=e;return(0,s.jsx)(q.gb,{ref:a,orientation:n,className:(0,c.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:(0,s.jsx)(q.q4,{className:"relative flex-1 rounded-full bg-border"})})});X.displayName=q.gb.displayName;var J=t(6512),$=t(64014);function W(e){let{entityId:a,entityType:t,entityTitle:n,className:r,showDetails:i=!0,onClick:l}=e,{pendingChanges:d,changeCount:o,hasChanges:u,getChangesSummary:f}=(0,I.k)({entityId:a,entityType:t,entityTitle:n,autoTrack:!1});if(!u)return null;let m=f();return i?(0,s.jsxs)(U.J2,{children:[(0,s.jsx)(U.xo,{asChild:!0,children:(0,s.jsxs)(y.z,{variant:"outline",size:"sm",className:(0,c.cn)("gap-2",r),children:[(0,s.jsx)(B.Z,{className:"h-4 w-4 text-orange-500"}),(0,s.jsxs)("span",{children:[o," pending ",1===o?"change":"changes"]})]})}),(0,s.jsx)(U.yk,{className:"w-96",align:"end",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-sm",children:"Pending Changes"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"These changes will be saved when you click Save or Publish"})]}),(0,s.jsx)(J.Separator,{}),m&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-xs font-medium",children:"Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Total changes:"}),(0,s.jsx)("span",{className:"ml-2 font-medium",children:m.total})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Fields modified:"}),(0,s.jsx)("span",{className:"ml-2 font-medium",children:m.fields.size})]})]})]}),(0,s.jsx)(J.Separator,{}),(0,s.jsx)(Y,{className:"h-[200px]",children:(0,s.jsx)("div",{className:"space-y-2",children:d.map((e,a)=>(0,s.jsxs)("div",{className:"p-2 rounded-md bg-muted/50 text-xs space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:e.fieldName}),(0,s.jsx)(L.C,{variant:"outline",className:"text-xs",children:e.action})]}),(0,s.jsx)("div",{className:"text-muted-foreground",children:(0,$.WU)(new Date(e.timestamp),"MMM d, h:mm a")}),e.description&&(0,s.jsx)("div",{className:"text-muted-foreground italic",children:e.description})]},e.id||a))})}),l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(J.Separator,{}),(0,s.jsx)(y.z,{variant:"outline",size:"sm",className:"w-full",onClick:e=>{e.preventDefault(),e.stopPropagation(),l()},children:"View Full History"})]})]})})]}):(0,s.jsxs)(L.C,{variant:"secondary",className:(0,c.cn)("gap-1 cursor-pointer hover:bg-secondary/80 transition-colors",r),onClick:e=>{e.preventDefault(),e.stopPropagation(),null==l||l()},children:[(0,s.jsx)(G.Z,{className:"h-3 w-3"}),o," unsaved ",1===o?"change":"changes"]})}var K=t(65621),Q=t(32489),ee=t(48736),ea=t(962);let et=ea.fC,es=ea.wy,en=ea.Fw;var er=t(40875),ei=t(10407);let el={create:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/20",update:"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-500/20",delete:"bg-red-500/10 text-red-700 dark:text-red-400 border-red-500/20",modify:"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-500/20"};function ed(e){let{isOpen:a,onClose:t,allChangesByEntity:r={},className:i}=e,[l,d]=(0,n.useState)(new Set),o=e=>{d(a=>{let t=new Set(a);return t.has(e)?t.delete(e):t.add(e),t})};if(!a)return null;let u=Object.entries(r),f=u.reduce((e,a)=>{let[,t]=a;return e+t.changes.length},0);return(0,s.jsxs)("div",{className:(0,c.cn)("fixed right-0 top-0 h-full w-[600px] bg-background border-l shadow-lg z-50 flex flex-col",i),children:[(0,s.jsxs)("div",{className:"p-4 border-b space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(K.Z,{className:"h-5 w-5"}),(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Pending Changes"})]}),(0,s.jsx)(y.z,{variant:"ghost",size:"sm",onClick:t,children:(0,s.jsx)(Q.Z,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[f," ",1===f?"change":"changes"," across ",u.length," ",1===u.length?"entity":"entities"]})})]}),(0,s.jsx)(Y,{className:"flex-1 p-4",children:0===u.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[(0,s.jsx)(ee.Z,{className:"h-12 w-12 mb-4 opacity-50"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:"No pending changes"}),(0,s.jsx)("p",{className:"text-sm",children:"All changes have been saved"})]}):(0,s.jsx)("div",{className:"space-y-4",children:u.map(e=>{let[a,t]=e,{changes:n,title:r}=t,i=l.has(a),d=n[0],u=(null==d?void 0:d.entityType)||"Unknown",f=r||(null==d?void 0:d.entityTitle);return(0,s.jsx)(et,{open:i,onOpenChange:()=>o(a),children:(0,s.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-muted/30 p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)(es,{asChild:!0,children:(0,s.jsx)(y.z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:i?(0,s.jsx)(er.Z,{className:"h-4 w-4"}):(0,s.jsx)(ei.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium text-sm",children:f}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[u," â€¢ ",n.length," ",1===n.length?"change":"changes"]})]})]}),(0,s.jsx)(L.C,{variant:"secondary",className:"ml-2",children:n.length})]})}),(0,s.jsx)(en,{children:(0,s.jsx)("div",{className:"p-4 space-y-2",children:n.map((e,a)=>{let t=el[e.action]||"bg-gray-500/10 text-gray-700 dark:text-gray-400 border-gray-500/20";return(0,s.jsxs)("div",{className:"p-3 rounded-md border bg-card space-y-2",children:[(0,s.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,s.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(L.C,{variant:"outline",className:(0,c.cn)("text-xs",t),children:e.action}),(0,s.jsx)("span",{className:"font-medium text-sm",children:e.fieldName})]}),e.description&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,s.jsx)(G.Z,{className:"h-3 w-3"}),new Date(e.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})]})}),(void 0!==e.oldValue||void 0!==e.newValue)&&(0,s.jsx)("div",{className:"pt-2 space-y-2 border-t",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[void 0!==e.oldValue&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-muted-foreground mb-1",children:"Previous"}),(0,s.jsx)("div",{className:"p-2 rounded bg-red-500/10 font-mono break-all",children:"object"==typeof e.oldValue?JSON.stringify(e.oldValue,null,2):String(e.oldValue)})]}),void 0!==e.newValue&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-muted-foreground mb-1",children:"New"}),(0,s.jsx)("div",{className:"p-2 rounded bg-green-500/10 font-mono break-all",children:"object"==typeof e.newValue?JSON.stringify(e.newValue,null,2):String(e.newValue)})]})]})})]},e.id||a)})})})]})},a)})})})]})}function eo(e){let{user:a,showSidebar:t,showTopBar:i,showThemeToggle:l}=e,[d,o]=(0,n.useState)(!1),[u,x]=(0,n.useState)(!1),{sys:p,info:g}=(0,r.b)(),{allChangesByEntity:y,hasChanges:j}=(0,I.k)({autoTrack:!1}),N="yes"===p.data.use_plain_background;if((0,f.Z)(()=>{o(!0)}),!d)return null;let w=Object.values(y||{}).reduce((e,a)=>e+a.changes.length,0);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,c.cn)("h-16",!!i&&"h-24")}),!!i&&(0,s.jsx)("div",{className:(0,c.cn)("\n              fixed \n              top-0 \n              left-0\n              border-b\n              h-8\n              w-full\n              z-[1]\n            ",N?"bg-background border-b-border":"bg-secondary border-b-border/5"),children:(0,s.jsx)(O,{})}),(0,s.jsx)("div",{className:(0,c.cn)("\n            fixed\n            top-0\n            left-0\n            w-full\n            h-16\n            shadow-md\n            dark:shadow-foreground/10\n            flex\n            justify-center\n            z-[1]\n          ",N?"bg-primary-foreground dark:bg-background":"bg-primary text-primary-foreground dark:bg-background",!!i&&"top-8"),children:(0,s.jsxs)(h.V,{className:(0,c.cn)("\n              flex\n              flex-1\n              gap-x-4\n              py-0\n            ",t&&"max-w-full"),children:[(0,s.jsx)("div",{className:"my-auto",children:(0,s.jsx)(C,{})}),(0,s.jsx)("div",{className:"my-auto",children:(0,s.jsx)(m,{size:"sm",href:"/",theme:"dark"})}),!!g&&(0,s.jsxs)("div",{className:"my-auto",children:["v",g.dataVersion]}),(0,s.jsx)("div",{className:"ml-auto"}),(0,s.jsx)(b,{}),j&&w>0&&(0,s.jsx)("div",{className:"my-auto",children:(0,s.jsx)(W,{showDetails:!1,onClick:()=>x(!0)})}),(0,s.jsx)("div",{className:"flex gap-x-2 items-center my-auto",children:(0,s.jsx)(_,{user:a})}),(0,s.jsx)("div",{className:(0,c.cn)("my-auto",!l&&"hidden"),children:(0,s.jsx)(v,{})})]})}),(0,s.jsx)(ed,{isOpen:u,onClose:()=>x(!1),allChangesByEntity:y})]})}function ec(e){let{sys:a,isAdmin:t,isSuperUser:i}=(0,r.b)(),l="yes"!==a.data.hide_theme_toggle,{allChangesByEntity:d}=(0,I.k)({autoTrack:!1});return((0,n.useMemo)(()=>d?Object.values(d).reduce((e,a)=>e+a.changes.length,0):0,[d]),e.user)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{}),(0,s.jsx)(eo,{user:e.user,showTopBar:!0,showSidebar:!0,showThemeToggle:l})]}):null}},25994:function(e,a,t){"use strict";t.d(a,{V:function(){return r}});var s=t(57437),n=t(94508);function r(e){let{className:a,...t}=e;return(0,s.jsx)("div",{...t,className:(0,n.cn)("w-full max-w-screen-xl mx-auto p-5",a)})}},69711:function(e,a,t){"use strict";t.d(a,{a:function(){return r}});var s=t(57437),n=t(15001);function r(e){let{overlay:a,transparent:t,padding:r="50px 0"}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",...a?{height:"100%",position:"fixed",top:0,left:0,bottom:0,zIndex:999,backgroundColor:t?"transparent":"rgba(255,255,255,.6)"}:{padding:r}},children:(0,s.jsx)(n.Z,{style:{height:24,width:24},className:"animate-spin"})})})}},19820:function(e,a,t){"use strict";t.d(a,{SocketEventsListener:function(){return i}});var s=t(2265),n=t(99376),r=t(62265);function i(e){let{events:a}=e,t=(0,s.useRef)({eventsTimeouts:{},eventsTimestamps:{}});(0,s.useRef)(new Date().getTime());let i=(0,n.useRouter)();return(0,s.useEffect)(()=>{a.forEach(e=>{let{name:a,action:s,delay:n=100,onEvent:l}=e;r.Z.on(a,function(){for(var e=arguments.length,r=Array(e),d=0;d<e;d++)r[d]=arguments[d];let o=()=>{var e,t;(!s||r[0]===s)&&(null===(e=l.callback)||void 0===e||e.call(l,...r),(null==l?void 0:l.refreshRouter)&&(console.log(a,"refreshing..."),i.refresh()),(null===(t=l.redirect)||void 0===t?void 0:t.to)&&(l.redirect.replace?i.replace(l.redirect.to):i.push(l.redirect.to)))},c=new Date().getTime();n?(clearTimeout(t.current.eventsTimeouts[a]),t.current.eventsTimeouts[a]=setTimeout(()=>{t.current.eventsTimestamps[a]=c,o()},n)):(t.current.eventsTimestamps[a]=new Date().getTime(),o())})})},[a,i]),null}},35974:function(e,a,t){"use strict";t.d(a,{C:function(){return l}});var s=t(57437);t(2265);var n=t(90535),r=t(94508);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:a,variant:t,...n}=e;return(0,s.jsx)("div",{className:(0,r.cn)(i({variant:t}),a),...n})}},62869:function(e,a,t){"use strict";t.d(a,{d:function(){return d},z:function(){return o}});var s=t(57437),n=t(2265),r=t(37053),i=t(90535),l=t(94508);let d=(0,i.j)("\n    inline-flex\n    items-center\n    justify-center\n    whitespace-nowrap\n    rounded-md\n    text-sm\n    font-medium\n    transition-colors\n    focus-visible:outline-none\n    disabled:pointer-events-none\n    disabled:opacity-50\n  ",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"border border-input bg-background hover:bg-primary/20","primary-outline":"border border-primary text-primary bg-transparent hover:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-primary/20 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,a)=>{let{className:t,variant:n,size:i,asChild:o=!1,...c}=e,u=o?r.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(d({variant:n,size:i,className:t})),ref:a,...c})});o.displayName="Button"},26110:function(e,a,t){"use strict";t.d(a,{$N:function(){return p},Be:function(){return g},GG:function(){return u},Vq:function(){return d},cN:function(){return x},cZ:function(){return m},fK:function(){return h},hg:function(){return o}});var s=t(57437),n=t(2265),r=t(70001),i=t(32489),l=t(94508);let d=r.fC,o=r.xz,c=r.h_,u=r.x8,f=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.aV,{ref:a,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n})});f.displayName=r.aV.displayName;let m=n.forwardRef((e,a)=>{let{className:t,children:n,hideCloseButton:d,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(f,{}),(0,s.jsxs)(r.VY,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[n,!0!==d&&(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let h=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};h.displayName="DialogHeader";let x=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};x.displayName="DialogFooter";let p=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.Dx,{ref:a,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...n})});p.displayName=r.Dx.displayName;let g=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.dk,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...n})});g.displayName=r.dk.displayName},84190:function(e,a,t){"use strict";t.d(a,{$F:function(){return u},AW:function(){return f},Ju:function(){return x},VD:function(){return p},Xi:function(){return m},bO:function(){return h},h_:function(){return c}});var s=t(57437),n=t(2265),r=t(28119),i=t(10407),l=t(30401),d=t(40519),o=t(94508);let c=r.fC,u=r.xz;r.ZA,r.Uv,r.Tr,r.Ee,n.forwardRef((e,a)=>{let{className:t,inset:n,children:l,...d}=e;return(0,s.jsxs)(r.fF,{ref:a,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",n&&"pl-8",t),...d,children:[l,(0,s.jsx)(i.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=r.fF.displayName,n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.tu,{ref:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}).displayName=r.tu.displayName;let f=n.forwardRef((e,a)=>{let{className:t,sideOffset:n=4,...i}=e;return(0,s.jsx)(r.Uv,{children:(0,s.jsx)(r.VY,{ref:a,sideOffset:n,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});f.displayName=r.VY.displayName;let m=n.forwardRef((e,a)=>{let{className:t,inset:n,...i}=e;return(0,s.jsx)(r.ck,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",t),...i})});m.displayName=r.ck.displayName;let h=n.forwardRef((e,a)=>{let{className:t,children:n,checked:i,...d}=e;return(0,s.jsxs)(r.oC,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:i,...d,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})}),n]})});h.displayName=r.oC.displayName,n.forwardRef((e,a)=>{let{className:t,children:n,...i}=e;return(0,s.jsxs)(r.Rk,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(d.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=r.Rk.displayName;let x=n.forwardRef((e,a)=>{let{className:t,inset:n,...i}=e;return(0,s.jsx)(r.__,{ref:a,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",t),...i})});x.displayName=r.__.displayName;let p=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...n})});p.displayName=r.Z0.displayName},26815:function(e,a,t){"use strict";t.d(a,{_:function(){return o}});var s=t(57437),n=t(2265),r=t(370),i=t(90535),l=t(94508);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=n.forwardRef((e,a)=>{let{className:t,secondary:n,error:i,...o}=e;return(0,s.jsx)(r.f,{ref:a,className:(0,l.cn)(d(),n&&"text-xs",i?"text-danger":"",t),...o})});o.displayName=r.f.displayName},57054:function(e,a,t){"use strict";t.d(a,{J2:function(){return l},xo:function(){return d},yk:function(){return o}});var s=t(57437),n=t(2265),r=t(51777),i=t(94508);let l=r.fC,d=r.xz,o=n.forwardRef((e,a)=>{let{className:t,align:n="center",sideOffset:l=4,...d}=e;return(0,s.jsx)(r.h_,{children:(0,s.jsx)(r.VY,{ref:a,align:n,sideOffset:l,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})})});o.displayName=r.VY.displayName},74991:function(e,a,t){"use strict";t.d(a,{E:function(){return d},m:function(){return o}});var s=t(57437),n=t(2265),r=t(42325),i=t(40519),l=t(94508);let d=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.fC,{className:(0,l.cn)("grid gap-2",t),...n,ref:a})});d.displayName=r.fC.displayName;let o=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.ck,{ref:a,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:(0,s.jsx)(r.z$,{className:"flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=r.ck.displayName},6512:function(e,a,t){"use strict";t.d(a,{Separator:function(){return l}});var s=t(57437),n=t(2265),r=t(90759),i=t(94508);let l=n.forwardRef((e,a)=>{let{className:t,orientation:n="horizontal",decorative:l=!0,...d}=e;return(0,s.jsx)(r.f,{ref:a,decorative:l,orientation:n,className:(0,i.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",t),...d})});l.displayName=r.f.displayName},69304:function(e,a,t){"use strict";t.d(a,{Ei:function(){return j},FF:function(){return g},Tu:function(){return p},aM:function(){return c},bC:function(){return y},sw:function(){return u},ue:function(){return x},yo:function(){return o}});var s=t(57437),n=t(2265),r=t(70001),i=t(90535),l=t(32489),d=t(94508);let o=r.fC,c=r.xz,u=r.x8,f=r.h_,m=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:a})});m.displayName=r.aV.displayName;let h=(0,i.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=n.forwardRef((e,a)=>{let{side:t="right",className:n,children:i,hideCloseButton:o,...c}=e;return(0,s.jsxs)(f,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(r.VY,{ref:a,className:(0,d.cn)(h({side:t}),n),...c,children:[i,!0!==o&&(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.VY.displayName;let p=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};p.displayName="SheetHeader";let g=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};g.displayName="SheetFooter";let y=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.Dx,{ref:a,className:(0,d.cn)("text-lg font-semibold text-foreground",t),...n})});y.displayName=r.Dx.displayName;let j=n.forwardRef((e,a)=>{let{className:t,...n}=e;return(0,s.jsx)(r.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t),...n})});j.displayName=r.dk.displayName},67132:function(e,a,t){"use strict";t.d(a,{AppContextProvider:function(){return g},b:function(){return p}});var s=t(57437),n=t(2265),r=t(25922),i=t(99376),l=t(6760),d=t(64131);let o=d.Z.get,c=d.Z.set;d.Z.remove;var u={get:o,set:c};function f(){let e=u.get("mode");return e||(e="view",u.set("mode",e,{expires:31536e7})),e}var m=t(62265),h=t(19820);let x=(0,n.createContext)(null),p=()=>(0,n.useContext)(x);function g(e){let{children:a,...t}=e,d=function(e){(0,i.useRouter)();let{isAdmin:a,isSuperUser:t,sys:s}=e,{setTheme:l}=(0,r.F)();(0,n.useEffect)(()=>{"yes"===s.data.hide_theme_toggle&&l("light")},[s]);let d=(0,n.useCallback)(()=>(a||t?f():"view")||"view",[t,a]),[o,c]=(0,n.useState)(d()),h=!a&&!t||"view"===o,x=(0,n.useCallback)(function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];let s=function(e){return u.set("mode",e,{expires:31536e7}),f()}(...a);return m.Z.emit("mode_changed",d()),c(d()),s},[d]),p=(0,n.useCallback)(()=>{c(d())},[d]);return{...e,mode:o,viewOnly:h,onModeChange:p,getMode:f,setMode:x}}(t),[o,c]=(0,n.useState)(!1);return((0,l.Z)(()=>{c(!0)}),o)?(0,s.jsxs)(x.Provider,{value:d,children:[a,(0,s.jsx)(h.SocketEventsListener,{events:[{name:"mode_changed",onEvent:{callback:d.onModeChange}}]})]}):null}},98656:function(e,a,t){"use strict";t.d(a,{s:function(){return r}});var s=t(59625);let n={title:"",message:"",buttonLabel:"Ok",variant:"info",onClose:void 0},r=(0,s.Ue)(e=>({isOpen:!1,...n,alert:a=>e({isOpen:!0,...n,...a}),close:()=>e({isOpen:!1,onClose:void 0,...n})}))},86180:function(e,a,t){"use strict";t.d(a,{t:function(){return r}});var s=t(59625);let n={danger:!1,title:"Confirm",message:"Are you sure?",positiveLabel:"Ok",negativeLabel:"Cancel"},r=(0,s.Ue)(e=>({isOpen:!1,...n,confirm:(a,t)=>e({isOpen:!0,...n,...t,onConfirm:a}),close:()=>e({isOpen:!1,onConfirm:void 0,...n})}))},52170:function(e,a,t){"use strict";t.d(a,{k:function(){return i}});var s=t(2265),n=t(66365),r=t(73526);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{entityId:a,entityType:t,entityTitle:i,userId:l,autoTrack:d=!0}=e,[o,c]=(0,s.useState)(null),u=(0,n.yR)(async()=>a?await r.pb.getEntityChanges(a,t):await r.pb.getRecentChanges(100),[a,t]),f=(0,n.yR)(async()=>await r.pb.getChangeCount(a),[a]),m=(0,n.yR)(async()=>await r.pb.getAllChangesByEntity(),[]);(0,s.useEffect)(()=>{let e=null,s=!1;return d&&a&&t?(r.pb.clearAllSessions().catch(()=>{}),r.pb.startSession(a,t,i,l).then(a=>{s||(e=a||null,c(a||null))}),()=>{s=!0,e&&r.pb.endSession(e)}):()=>{s=!0}},[d,a,t,i,l]);let h=(0,s.useCallback)(async e=>{a&&t&&i&&(await r.pb.addChange({...e,entityId:a,entityType:t,entityTitle:i,userId:l}),o&&await r.pb.updateSession(o))},[a,t,i,l,o]),x=(0,s.useCallback)(async e=>{if(a&&t&&i){for(let s of e)await r.pb.addChange({...s,entityId:a,entityType:t,entityTitle:i,userId:l});o&&await r.pb.updateSession(o)}},[a,t,i,l,o]),p=(0,s.useCallback)(async()=>{a&&(await r.pb.clearEntityChanges(a,t),o&&await r.pb.endSession(o))},[a,t,o]),g=(0,s.useCallback)(async()=>{await r.pb.clearAllChanges()},[]),y=(0,s.useCallback)(()=>{var e;if(!u)return null;let a={total:u.length,byAction:{},byField:{},fields:new Set,entityTitle:null===(e=u[0])||void 0===e?void 0:e.entityTitle};return u.forEach(e=>{a.byAction[e.action]=(a.byAction[e.action]||0)+1,a.byField[e.fieldName]=(a.byField[e.fieldName]||0)+1,a.fields.add(e.fieldName)}),a},[u]);return{pendingChanges:u||[],changeCount:f||0,allChangesByEntity:m||{},trackChange:h,trackChanges:x,clearChanges:p,clearAllChanges:g,getChangesSummary:y,hasChanges:(f||0)>0,entityTitle:i}}},73526:function(e,a,t){"use strict";t.d(a,{pb:function(){return i}});var s=t(35966);class n extends s.ZP{constructor(){super("NeotreeChangeLogDB"),this.version(1).stores({pendingChanges:"++id, entityId, entityType, timestamp, userId, [entityId+fieldPath]",changeSessions:"++id, sessionId, entityId, entityType, startedAt, lastModifiedAt"})}}let r=new n,i={async addChange(e){let a=Date.now(),t="string"==typeof e.entityTitle&&e.entityTitle.trim().length?e.entityTitle.trim():"".concat(e.entityType," ").concat(e.entityId);return await r.pendingChanges.add({...e,entityTitle:t,timestamp:a})},async updateChange(e,a){let t={...a};return a.entityTitle&&"string"==typeof a.entityTitle&&(t.entityTitle=a.entityTitle.trim().length>0?a.entityTitle.trim():void 0),await r.pendingChanges.update(e,t)},deleteChange:async e=>await r.pendingChanges.delete(e),async getEntityChanges(e,a){let t=r.pendingChanges.where("entityId").equals(e);return a?await t.and(e=>e.entityType===a).toArray():await t.toArray()},async getAllChangesByEntity(){let e=await r.pendingChanges.toArray(),a={};return e.forEach(e=>{let t="".concat(e.entityType,":").concat(e.entityId);a[t]||(a[t]={title:"string"==typeof e.entityTitle&&e.entityTitle.trim().length?e.entityTitle.trim():"".concat(e.entityType," ").concat(e.entityId),changes:[]}),a[t].changes.push(e)}),a},getChangeCount:async e=>e?await r.pendingChanges.where("entityId").equals(e).count():await r.pendingChanges.count(),clearEntityChanges:async(e,a)=>a?await r.pendingChanges.where("entityId").equals(e).and(e=>e.entityType===a).delete():await r.pendingChanges.where("entityId").equals(e).delete(),clearAllChanges:async()=>await r.pendingChanges.clear(),getChangesByUser:async e=>await r.pendingChanges.where("userId").equals(e).toArray(),async getRecentChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return await r.pendingChanges.orderBy("timestamp").reverse().limit(e).toArray()},async startSession(e,a,t,s){let n="".concat(a,"-").concat(e,"-").concat(Date.now()),i={sessionId:n,entityId:e,entityType:a,entityTitle:t,startedAt:Date.now(),lastModifiedAt:Date.now(),changeCount:0,userId:s};return await r.changeSessions.add(i),n},async updateSession(e){let a=await r.changeSessions.where("sessionId").equals(e).first();a&&await r.changeSessions.update(a.id,{lastModifiedAt:Date.now(),changeCount:(a.changeCount||0)+1})},endSession:async e=>await r.changeSessions.where("sessionId").equals(e).delete(),clearAllSessions:async()=>await r.changeSessions.clear(),getActiveSession:async e=>await r.changeSessions.where("entityId").equals(e).first()}},62265:function(e,a,t){"use strict";var s=t(68680),n=t(40257);let r=(0,s.io)(n.env.NEXT_PUBLIC_APP_URL);a.Z=r},8272:function(e,a){"use strict";a.Z=e=>"".concat(e||"").charAt(0).toUpperCase()+"".concat(e||"").slice(1)},94508:function(e,a,t){"use strict";t.d(a,{cn:function(){return r}});var s=t(61994),n=t(53335);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,n.m6)((0,s.W)(a))}}},function(e){e.O(0,[6137,1475,253,5972,3464,7790,2972,1254,5966,605,8813,1328,5691,7478,2117,1744],function(){return e(e.s=66604)}),_N_E=e.O()}]);