(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7647],{30711:function(e,n,t){Promise.resolve().then(t.bind(t,32454)),Promise.resolve().then(t.bind(t,95229)),Promise.resolve().then(t.bind(t,25704))},44099:function(e,n,t){"use strict";t.d(n,{W:function(){return a}});var s=t(57437),r=t(37440);function a(e){let{children:n,header:t,footer:a,classes:l}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:(0,r.cn)("flex flex-col fixed h-full w-full top-0 left-0 z-[999999] bg-background",null==l?void 0:l.bg),children:[(0,s.jsx)("div",{className:(0,r.cn)("flex-1 overflow-y-auto",t&&"pt-14",a&&"pb-14"),children:n}),!!t&&(0,s.jsx)("div",{className:(0,r.cn)("fixed top-0 h-14 w-full border-b border-b-border bg-background p-4 flex items-center gap-x-2",null==l?void 0:l.bg),children:t}),!!a&&(0,s.jsx)("div",{className:(0,r.cn)("fixed bottom-0 h-14 w-full border-t border-t-border bg-background p-4 flex items-center gap-x-2",null==l?void 0:l.bg),children:a})]})})}},32454:function(e,n,t){"use strict";t.d(n,{SessionForm:function(){return N}});var s=t(57437),r=t(2265),a=t(79512),l=t(99913),i=t(59061),o=t(63550),d=t(50121),c=t(37440),u=t(50495),f=t(76230),m=t(44099),x=t(69846),v=t(76942),p=t(36013),g=t(74697),h=t(76780);function b(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:(0,c.cn)("hidden overflow-y-auto md:flex md:flex-col md:gap-y-4 fixed top-14 right-0 bottom-0 bg-background w-[350px]","border-l border-l-border"),children:[(0,s.jsx)("div",{className:"px-4 py-2 flex justify-end border-b border-b-border",children:(0,s.jsx)(u.z,{size:"icon",variant:"ghost",className:"rounded-full",onClick:e.onX,children:(0,s.jsx)(g.Z,{className:"h-5 w-5"})})}),(0,s.jsx)(j,{...e})]})})}function j(e){var n,t,a,l,i;let{script:o,diagnoses:d,screens:u}=e,[f,m]=(0,r.useState)("screens");return o.data?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-1 mt-4 px-4 text-sm",children:[(0,s.jsxs)("div",{children:["Script ID: ",(0,s.jsx)("b",{children:(null===(n=o.data)||void 0===n?void 0:n.oldScriptId)||(null===(t=o.data)||void 0===t?void 0:t.scriptId)})]}),(0,s.jsxs)("div",{children:["Script Title: ",(0,s.jsx)("b",{children:null===(a=o.data)||void 0===a?void 0:a.title})]}),(0,s.jsxs)("div",{children:["Script Version: ",(0,s.jsx)("b",{children:null===(l=o.data)||void 0===l?void 0:l.version})]}),(0,s.jsxs)("div",{children:["Hospital: ",(0,s.jsx)("b",{children:null===(i=o.data)||void 0===i?void 0:i.hospitalName})]})]}),(0,s.jsx)(x.m,{options:[{value:"screens",label:"Screens"},{value:"diagnoses",label:"diagnoses"}],onChange:m}),(0,s.jsxs)("div",{children:["screens"===f&&(0,s.jsx)(v.DataTable,{columns:[{name:"Title"},{name:"Type"},{name:""}],data:u.data.map(e=>[e.title,e.type])}),"diagnoses"===f&&(0,s.jsx)(v.DataTable,{columns:[{name:"Name"},{name:""}],data:d.data.map(e=>[e.name,""])})]})]})}):(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)(p.Zb,{children:(0,s.jsxs)(p.aY,{className:(0,c.cn)("p-4 text-xl text-center text-danger bg-danger/10","flex flex-col justify-center items-center"),children:[(0,s.jsx)(h.Z,{className:"w-12 h-12"}),(0,s.jsx)("span",{children:"Script not found!"})]})})})}function N(e){let{session:n,script:t,diagnoses:x,screens:v}=e,{theme:p}=(0,a.F)(),{confirm:g}=(0,f.t)(),[h,j]=(0,r.useState)(JSON.stringify(n.data,null,4)),[N,y]=(0,r.useState)(!0),[w,C]=(0,r.useState)(!1),S=(0,r.useMemo)(()=>h!==JSON.stringify(n.data,null,4),[n.data,h]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(m.W,{header:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:["UID: ",(0,s.jsx)("b",{children:n.data.uid})]}),(0,s.jsx)("div",{className:"flex-1"}),N?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(u.z,{variant:"ghost",onClick:()=>y(!1),children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Edit"]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.z,{variant:"link",className:"text-danger hover:text-danger",onClick:()=>{let e=()=>{y(!0),j(JSON.stringify(n.data,null,4))};S?g(e,{danger:!0,title:"Cancel",message:"Are you sure you want to cancel? Your changes will be lost!",positiveLabel:"Yes, cancel"}):e()},children:"Cancel"}),(0,s.jsxs)(u.z,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Save"]})]}),w&&(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(u.z,{variant:"ghost",className:"text-primary",onClick:()=>C(!1),children:(0,s.jsx)(o.Z,{className:"h-6 w-6"})})})]}),children:[!w&&(0,s.jsx)(b,{...e,onX:()=>C(!0)}),(0,s.jsx)("div",{className:(0,c.cn)(!w&&"md:pr-[350px]"),children:(0,s.jsx)(d.Z,{value:h,language:"json",placeholder:"Enter JSON",onChange:e=>j(e.target.value),padding:15,disabled:N,"data-color-mode":p||"light",style:{fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}})})]})})}},95229:function(e,n,t){"use strict";t.d(n,{Alert:function(){return l}});var s=t(53699),r=t(16463),a=t(2265);function l(e){let n=(0,r.useRouter)(),{alert:t}=(0,s.s)();return(0,a.useEffect)(()=>{let{redirectTo:s,onClose:r,...a}=e;t({...a,variant:a.variant||"error",buttonLabel:a.buttonLabel||"Ok",onClose:()=>{null==r||r(),s&&n.replace(s)}})},[t,n,e]),null}},69846:function(e,n,t){"use strict";t.d(n,{m:function(){return d}});var s=t(57437),r=t(2265),a=t(87138),l=t(16463),i=t(12491),o=t(85273);function d(e){let{options:n,searchParamsKey:t,onChange:d}=e,c=(0,r.useRef)(null),[u,f]=(0,r.useState)(0),m=(0,l.useSearchParams)(),x=(0,r.useMemo)(()=>i.Z.parse(m.toString()),[m]),v=(0,r.useMemo)(()=>t?x[t]:null,[x,t]),p=(0,r.useMemo)(()=>{var e;return(null===(e=n.filter(e=>e.value===v)[0])||void 0===e?void 0:e.value)||n[0].value},[v,n]),g=(0,r.useMemo)(()=>!!t,[t]);return(0,r.useEffect)(()=>{u&&setTimeout(()=>{window.scrollTo({top:u}),f(0)},100)},[u]),(0,s.jsx)("div",{ref:c,children:(0,s.jsxs)(o.mQ,{defaultValue:p,value:p,className:"w-full [&>div]:w-full",onValueChange:d,children:[(0,s.jsx)(o.dr,{children:n.map(e=>(0,s.jsx)(o.SP,{asChild:g,value:e.value,className:"flex-1",onClick:()=>{var e,n;return f((null===(n=c.current)||void 0===n?void 0:null===(e=n.getBoundingClientRect())||void 0===e?void 0:e.top)||0)},children:g?(0,s.jsx)(a.default,{href:"?".concat(i.Z.stringify({...x,[t]:e.value})),children:e.label}):e.label},e.value))}),n.map(e=>(0,s.jsx)(o.nU,{value:e.value,className:"hidden"},e.value))]})})}},25704:function(e,n,t){"use strict";t.d(n,{Title:function(){return a}});var s=t(2265),r=t(20357);function a(e){let{children:n}=e;return(0,s.useEffect)(()=>{document.title=[r.env.NEXT_PUBLIC_APP_NAME,n].filter(e=>e).join(" - ")},[n]),(0,s.useEffect)(()=>()=>{document.title="".concat(r.env.NEXT_PUBLIC_APP_NAME)},[]),null}},36013:function(e,n,t){"use strict";t.d(n,{Zb:function(){return l},aY:function(){return i}});var s=t(57437),r=t(2265),a=t(37440);let l=r.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:n,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card",r.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:n,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...r})}).displayName="CardHeader",r.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,s.jsx)("h3",{ref:n,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})}).displayName="CardTitle",r.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,s.jsx)("p",{ref:n,className:(0,a.cn)("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let i=r.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:n,className:(0,a.cn)("p-6 pt-0",t),...r})});i.displayName="CardContent",r.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:n,className:(0,a.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},85273:function(e,n,t){"use strict";t.d(n,{SP:function(){return d},dr:function(){return o},mQ:function(){return i},nU:function(){return c}});var s=t(57437),r=t(2265),a=t(62447),l=t(37440);let i=a.fC,o=r.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,s.jsx)(a.aV,{ref:n,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});o.displayName=a.aV.displayName;let d=r.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,s.jsx)(a.xz,{ref:n,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});d.displayName=a.xz.displayName;let c=r.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,s.jsx)(a.VY,{ref:n,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});c.displayName=a.VY.displayName},53699:function(e,n,t){"use strict";t.d(n,{s:function(){return a}});var s=t(39099);let r={title:"",message:"",buttonLabel:"Ok",variant:"info",onClose:void 0},a=(0,s.Ue)(e=>({isOpen:!1,...r,alert:n=>e({isOpen:!0,...r,...n}),close:()=>e({isOpen:!1,onClose:void 0,...r})}))},76230:function(e,n,t){"use strict";t.d(n,{t:function(){return a}});var s=t(39099);let r={danger:!1,title:"Confirm",message:"Are you sure?",positiveLabel:"Ok",negativeLabel:"Cancel"},a=(0,s.Ue)(e=>({isOpen:!1,...r,confirm:(n,t)=>e({isOpen:!0,...r,...t,onConfirm:n}),close:()=>e({isOpen:!1,onConfirm:void 0,...r})}))}},function(e){e.O(0,[8362,8502,7867,5176,659,7776,9343,4199,7651,231,9748,6942,7478,7023,1744],function(){return e(e.s=30711)}),_N_E=e.O()}]);