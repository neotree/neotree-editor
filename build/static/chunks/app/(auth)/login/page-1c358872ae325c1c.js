(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{81905:function(e,t,r){Promise.resolve().then(r.bind(r,37712)),Promise.resolve().then(r.bind(r,25704))},37712:function(e,t,r){"use strict";r.d(t,{Form:function(){return v}});var n=r(57437),s=r(2265),i=r(39343),a=r(83102),o=r(50495),u=r(53699);function l(e){let{email:t,sendAuthCode:r,onAuthCode:l}=e,{alert:c}=(0,u.s)(),[d,f]=(0,s.useState)(!1),{register:m,handleSubmit:p}=(0,i.cI)({shouldUnregister:!1,defaultValues:{email:t||""}}),v=p(async e=>{let{email:t}=e;try{f(!0);let{tokenId:e}=await r({email:t});l({tokenId:e,email:t})}catch(e){c({title:"Error",message:e.message,variant:"error"})}finally{f(!1)}});return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("form",{className:" flex flex-col gap-y-4 ",onSubmit:e=>{e.preventDefault(),v()},children:[(0,n.jsx)("div",{children:(0,n.jsx)(a.I,{type:"email",placeholder:"Email address",...m("email",{required:!0,disabled:d})})}),(0,n.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,n.jsx)(o.z,{type:"submit",disabled:d,className:"w-full",children:d?"Please wait...":"Send verification code"})})]})})}var c=r(30998),d=r(16463),f=r(94268),m=r(37440);function p(e){let{email:t,onSendCode:r}=e,{alert:l}=(0,u.s)(),p=(0,d.useRouter)(),[v,h]=(0,s.useState)(!1),[b,g]=(0,s.useState)(!0),[x,y]=(0,s.useState)(!1),{watch:j,setValue:w,register:S,handleSubmit:E}=(0,i.cI)({shouldUnregister:!1,defaultValues:{email:t,code:"",password:""}}),N=j("code"),P=E(async e=>{try{h(!0);let r=await (0,c.signIn)("credentials",{...e,email:t,redirect:!1});if(null==r?void 0:r.ok)p.replace("/");else throw Error((null==r?void 0:r.error)||"Failed to sign in")}catch(e){l({title:"Error",message:e.message,variant:"error"})}finally{h(!1)}});return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("form",{className:" flex flex-col gap-y-4 ",onSubmit:e=>{e.preventDefault(),P()},children:[(0,n.jsx)("div",{children:(0,n.jsx)(a.I,{type:"email",placeholder:"Email address",...S("email",{disabled:!0})})}),(0,n.jsx)("div",{className:(0,m.cn)("flex justify-center",b?"":"hidden"),children:(0,n.jsx)(f.Zn,{maxLength:6,value:N,required:b,onChange:e=>{w("code",e),6===e.length&&P()},children:(0,n.jsx)(f.hf,{children:(()=>{let e=[];for(let t=0;t<6;t++)e.push((0,n.jsx)(f.cY,{index:t,className:"w-14"},t));return e})()})})}),(0,n.jsx)("div",{className:(0,m.cn)(x?"":"hidden"),children:(0,n.jsx)(a.I,{type:"password",placeholder:"Password",...S("password",{required:x,disabled:v})})}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,n.jsx)(o.z,{type:"submit",disabled:v,className:"w-full",children:v?"Please wait...":"Sign in"}),(0,n.jsxs)("div",{className:"flex flex-col items-end gap-y-1",children:[(0,n.jsx)("a",{href:"#",className:(0,m.cn)("text text-sm transition-colors text-secondary/60 hover:text-secondary",v&&"opacity-20"),onClick:e=>{e.preventDefault(),v||(w("code",""),w("password",""),x?(y(!1),g(!0)):(y(!0),g(!1)))},children:x?"Sign in with code":"Sign in with password"}),b&&(0,n.jsx)("a",{href:"#",className:(0,m.cn)("text text-sm transition-colors text-secondary/60 hover:text-secondary",v&&"opacity-20"),onClick:e=>{e.preventDefault(),v||r()},children:"Resend code"})]})]})]})})}function v(e){let{sendAuthCode:t}=e,[r,i]=(0,s.useState)("sendCodeForm"),[a,o]=(0,s.useState)("");return(0,n.jsxs)(n.Fragment,{children:["sendCodeForm"===r&&(0,n.jsx)(l,{email:a,sendAuthCode:t,onAuthCode:e=>{let{email:t}=e;o(t),i("signInForm")}}),"signInForm"===r&&(0,n.jsx)(p,{email:a,onSendCode:()=>i("sendCodeForm")})]})}},25704:function(e,t,r){"use strict";r.r(t),r.d(t,{Title:function(){return i}});var n=r(2265),s=r(20357);function i(e){let{children:t}=e;return(0,n.useEffect)(()=>{document.title=[s.env.NEXT_PUBLIC_APP_NAME,t].filter(e=>e).join(" - ")},[t]),(0,n.useEffect)(()=>()=>{document.title="".concat(s.env.NEXT_PUBLIC_APP_NAME)},[]),null}},50495:function(e,t,r){"use strict";r.d(t,{d:function(){return u},z:function(){return l}});var n=r(57437),s=r(2265),i=r(71538),a=r(12218),o=r(37440);let u=(0,a.j)("\n    inline-flex\n    items-center\n    justify-center\n    whitespace-nowrap\n    rounded-md\n    text-sm\n    font-medium\n    transition-colors\n    focus-visible:outline-none\n    disabled:pointer-events-none\n    disabled:opacity-50\n  ",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"border border-input bg-background hover:bg-primary/20","primary-outline":"border border-primary text-primary bg-transparent hover:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-primary/20 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:a,asChild:l=!1,...c}=e,d=l?i.g7:"button";return(0,n.jsx)(d,{className:(0,o.cn)(u({variant:s,size:a,className:r})),ref:t,...c})});l.displayName="Button"},94268:function(e,t,r){"use strict";r.d(t,{Zn:function(){return u},cY:function(){return c},hf:function(){return l}});var n=r(57437),s=r(2265),i=r(66431),a=r(32309),o=r(37440);let u=s.forwardRef((e,t)=>{let{className:r,containerClassName:s,...a}=e;return(0,n.jsx)(i.uZ,{ref:t,containerClassName:(0,o.cn)("flex items-center gap-2 has-[:disabled]:opacity-50",s),className:(0,o.cn)("disabled:cursor-not-allowed",r),...a})});u.displayName="InputOTP";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center",r),...s})});l.displayName="InputOTPGroup";let c=s.forwardRef((e,t)=>{let{index:r,className:a,...u}=e,{char:l,hasFakeCaret:c,isActive:d}=s.useContext(i.VM).slots[r];return(0,n.jsxs)("div",{ref:t,className:(0,o.cn)("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",d&&"z-10 ring-2 ring-ring ring-offset-background",a),...u,children:[l,c&&(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});c.displayName="InputOTPSlot",s.forwardRef((e,t)=>{let{...r}=e;return(0,n.jsx)("div",{ref:t,role:"separator",...r,children:(0,n.jsx)(a.Z,{})})}).displayName="InputOTPSeparator"},83102:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var n=r(57437),s=r(2265),i=r(37440);let a=s.forwardRef((e,t)=>{let{className:r,type:s,noRing:a,error:o,...u}=e;return(0,n.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a&&"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",o&&"border-danger",o&&!a&&"focus-visible:ring-danger",r),ref:t,...u})});a.displayName="Input"},53699:function(e,t,r){"use strict";r.d(t,{s:function(){return i}});var n=r(39099);let s={title:"",message:"",buttonLabel:"Ok",variant:"info",onClose:void 0},i=(0,n.Ue)(e=>({isOpen:!1,...s,alert:t=>e({isOpen:!0,...s,...t}),close:()=>e({isOpen:!1,onClose:void 0,...s})}))},37440:function(e,t,r){"use strict";r.d(t,{cn:function(){return i}});var n=r(44839),s=r(96164);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},16463:function(e,t,r){"use strict";var n=r(71169);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},34492:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,a=n.useEffect,o=n.useLayoutEffect,u=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),s=n[0].inst,c=n[1];return o(function(){s.value=r,s.getSnapshot=t,l(s)&&c({inst:s})},[e,r,t]),a(function(){return l(s)&&c({inst:s}),e(function(){l(s)&&c({inst:s})})},[e]),u(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},85107:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),s=r(10554),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useSyncExternalStore,o=n.useRef,u=n.useEffect,l=n.useMemo,c=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var d=o(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var m=a(e,(d=l(function(){function e(e){if(!u){if(u=!0,a=e,e=n(e),void 0!==s&&f.hasValue){var t=f.value;if(s(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var r=n(e);return void 0!==s&&s(t,r)?t:(a=e,o=r)}var a,o,u=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,s]))[0],d[1]);return u(function(){f.hasValue=!0,f.value=m},[m]),c(m),m}},10554:function(e,t,r){"use strict";e.exports=r(34492)},35006:function(e,t,r){"use strict";e.exports=r(85107)},39099:function(e,t,r){"use strict";r.d(t,{Ue:function(){return f}});let n=e=>{let t;let r=new Set,n=(e,n)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,i={setState:n,getState:s,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},a=t=e(n,s,i);return i},s=e=>e?n(e):n;var i=r(2265),a=r(35006);let{useDebugValue:o}=i,{useSyncExternalStoreWithSelector:u}=a,l=!1,c=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?s(e):e,r=(e,r)=>(function(e,t=c,r){r&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);let n=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return o(n),n})(t,e,r);return Object.assign(r,t),r},f=e=>e?d(e):d}},function(e){e.O(0,[4868,9343,9370,5548,7478,7023,1744],function(){return e(e.s=81905)}),_N_E=e.O()}]);