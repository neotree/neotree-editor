(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{27857:function(e,t,n){Promise.resolve().then(n.t.bind(n,58877,23)),Promise.resolve().then(n.bind(n,62602)),Promise.resolve().then(n.bind(n,4665)),Promise.resolve().then(n.bind(n,9285)),Promise.resolve().then(n.bind(n,3859)),Promise.resolve().then(n.bind(n,96058)),Promise.resolve().then(n.bind(n,58502)),Promise.resolve().then(n.bind(n,98775)),Promise.resolve().then(n.bind(n,17647)),Promise.resolve().then(n.t.bind(n,33387,23))},77605:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var a=n(57437),s=n(48625);function r(e){let{width:t=0,height:n=0,containerWidth:r,...l}=e;l.sizes;let i={width:"100%",height:"auto"};if(n&&t&&r){let e=(0,s.a)({imageWidth:t,imageHeight:n,containerWidth:r});i.width=e.imageWidth,i.height=e.imageHeight}return(0,a.jsx)("img",{...l,src:l.src,style:{...i,...l.style}})}},39661:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var a=n(57437),s=n(89627);function r(e){let{overlay:t,transparent:n}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",...t?{height:"100%",position:"fixed",top:0,left:0,bottom:0,zIndex:999,backgroundColor:n?"transparent":"rgba(255,255,255,.6)"}:{padding:"50px 0"}},children:(0,a.jsx)(s.Z,{style:{height:24,width:24},className:"animate-spin"})})})}},62602:function(e,t,n){"use strict";n.d(t,{AlertModal:function(){return c}});var a=n(57437),s=n(2265),r=n(7476),l=n(6780),i=n(53699),o=n(50495),d=n(37440);function c(){let{isOpen:e,title:t,message:n,variant:c,buttonLabel:u,close:f,onClose:m}=(0,i.s)(),x=(0,s.useCallback)(()=>{null==m||m(),f()},[f,m]);return(0,a.jsx)(l.aR,{open:e,onOpenChange:x,children:(0,a.jsxs)(l._T,{children:[(0,a.jsxs)(l.fY,{children:[(0,a.jsx)(l.f$,{className:(0,d.cn)(!t&&"hidden"),children:t}),!!n&&(0,a.jsxs)("div",{className:(0,d.cn)("flex gap-y-4 flex-col sm:items-start sm:flex-row sm:gap-x-4"),children:["error"===c&&(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(r.BJv,{className:"text-red-600 min-w-12 min-h-12 w-12 h-12"})}),"success"===c&&(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(r._rq,{className:"text-green-600 min-w-12 min-h-12 w-12 h-12"})}),(0,a.jsx)("div",{className:"flex-1 text-lg",children:n})]})]}),(0,a.jsx)(l.xo,{children:(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(o.z,{onClick:x,variant:"outline",children:u})})})]})})}},4665:function(e,t,n){"use strict";n.d(t,{ConfirmModal:function(){return d}});var a=n(57437),s=n(6780),r=n(7476),l=n(76230),i=n(50495),o=n(37440);function d(){let{isOpen:e,danger:t,title:n,message:d,positiveLabel:c,negativeLabel:u,close:f,onConfirm:m}=(0,l.t)();return(0,a.jsx)(s.aR,{open:e,onOpenChange:f,children:(0,a.jsxs)(s._T,{className:"p-0 max-h-[80%] flex flex-col",children:[!!n&&(0,a.jsx)(s.fY,{className:"py-2 px-4",children:(0,a.jsx)(s.f$,{children:n})}),(0,a.jsxs)("div",{className:(0,o.cn)("px-4 flex-1 flex flex-col gap-y-4 items-center sm:items-start sm:flex-row sm:gap-x-4 overflow-y-auto",!n&&"py-2"),children:[t&&(0,a.jsx)(r.bcx,{className:"text-red-600 min-w-10 min-h-10 w-10 h-10"}),(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:d}})]}),(0,a.jsxs)(s.xo,{className:"px-4 py-2",children:[(0,a.jsx)(s.le,{children:u}),(0,a.jsx)(i.z,{variant:t?"destructive":void 0,asChild:!0,children:(0,a.jsx)(s.OL,{onClick:()=>null==m?void 0:m(),children:c})})]})]})})}},9285:function(e,t,n){"use strict";n.d(t,{FilesModal:function(){return z}});var a=n(57437),s=n(2265),r=n(90837),l=n(36013),i=n(39661),o=n(21475),d=n(85273),c=n(7476),u=n(6780),f=n(50495);function m(){let{unhandledErrors:e}=(0,o.Y)(),t=(0,s.useCallback)(()=>o.Y.setState({unhandledErrors:[]}),[]);return(0,a.jsx)(u.aR,{open:!!e.length,onOpenChange:e=>!e&&t(),children:(0,a.jsxs)(u._T,{children:[(0,a.jsxs)(u.fY,{children:[(0,a.jsx)(u.f$,{children:""}),(0,a.jsx)(u.yT,{children:""}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(c.BJv,{className:"text-red-600 min-w-12 min-h-12 w-12 h-12"})}),(0,a.jsx)("div",{className:"flex-1 text-lg",dangerouslySetInnerHTML:{__html:e.join("\n")}})]}),(0,a.jsx)(u.xo,{children:(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(f.z,{onClick:()=>t(),variant:"outline",children:"Okay"})})})]})})}var x=n(20920),h=n(99827),p=n(58184),g=n(5192),v=n(38472),j=n(37440),y=n(53699),N=n(48625),b=n(77605);function w(e){let{type:t,inputProps:n,fileDetails:l,onUpload:d}=e,{getFiles:c}=(0,o.Y)(),[u,{width:m}]=(0,g.Z)(),[w,C]=(0,s.useState)(!1),[k,R]=(0,s.useState)([]),[O,z]=(0,s.useState)(!1),{alert:T}=(0,y.s)(),_=(0,s.useCallback)(async()=>{let e=(null==n?void 0:n.multiple)?k:[k[0]];try{for(let{file:t,metadata:n,fileId:a}of(z(!0),e)){let e=new FormData;e.append("file",t),e.append("fileId",a||(0,x.Z)()),e.append("filename",t.name),e.append("contentType",t.type),e.append("size","".concat(t.size)),e.append("metadata",JSON.stringify({...n})),l&&Object.keys(l).forEach(t=>{let n=l[t];e.append(t,JSON.stringify(n))});let s=(await v.Z.post("/api/files/upload",e)).data;await c(),null==d||d(s)}C(!1),R([]),T({title:"Success",message:"File".concat(e.length>1?"s":""," uploaded successfully!"),variant:"success"})}catch(t){T({title:"Error",message:"Failed to upload file".concat(e.length>1?"s":"",": ").concat(t.message),variant:"error"})}finally{z(!1)}},[d,T,c,k,null==n?void 0:n.multiple,l]),E=(0,s.useCallback)(async e=>{try{var t;let n=[];if(null===(t=e.target.files)||void 0===t?void 0:t.length)for(let t=0;t<e.target.files.length;t++)n.push(e.target.files[t]);let a=[];for(let e of n){let t,n;let s=URL.createObjectURL(e),r={};if("".concat(e.type).includes("image"))try{let e=await (0,N.p)(s);r={...r,...e},t=s}catch(e){}a.push({fileId:(0,x.Z)(),file:e,url:s,imageURL:t,videoURL:n,metadata:r})}R(a)}catch(e){T({title:"Error",message:e.message})}},[T]);return(0,a.jsxs)(a.Fragment,{children:[O&&(0,a.jsx)(i.a,{overlay:!0}),(0,a.jsxs)("div",{className:"p-4 flex-1 overflow-y-auto",ref:u,children:[1===k.length&&k.map(e=>{let t=(0,a.jsx)(h.Z,{className:"w-20 h-20 text-muted-foreground"});return e.imageURL&&(t=(0,a.jsx)(b.E,{alt:"",width:e.metadata.width||0,height:e.metadata.height||0,containerWidth:m,src:e.imageURL||"/images/placeholder.png"})),(0,a.jsxs)("div",{className:(0,j.cn)("\n                                    flex\n                                    flex-col\n                                    gap-y-2\n                                    w-full\n                                    items-center\n                                    justify-center\n                                    text-xs\n                                ",!(e.imageURL||e.videoURL)&&""),children:[t,(0,a.jsx)("span",{children:e.file.name})]},e.fileId)}),!k.length&&(0,a.jsxs)("div",{className:(0,j.cn)("\n                                relative\n                                w-full\n                                h-36\n                                bg-primary/20\n                                flex\n                                flex-col\n                                items-center\n                                justify-center\n                                text-primary\n                                uppercase\n                                font-bold\n                                rounded-md\n                                transition-colors\n                                hover:bg-primary/30\n                            ",!!k.length&&"hidden"),children:[(0,a.jsx)("div",{children:(null==n?void 0:n.placeholder)||"Choose file"}),(0,a.jsx)("input",{...n,type:"file",accept:t,value:"",className:(0,j.cn)("\n                                    absolute\n                                    left-0\n                                    top-0\n                                    w-full\n                                    h-full\n                                    opacity-0\n                                "),onChange:E})]})]}),(0,a.jsxs)(r.cN,{className:"px-4 py-4",children:[!k.length&&(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)(f.z,{variant:"ghost",onClick:()=>C(!1),children:"Cancel"}),!!k.length&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)(f.z,{variant:"destructive",onClick:()=>R([]),children:"Clear"}),(0,a.jsxs)(f.z,{disabled:!k.length,onClick:()=>_(),className:(0,j.cn)(!k.length&&"hidden"),children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"Upload"})]})]})]})]})}var C=n(44839),k=n(12738);function R(e){let[t,n]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1),o=(0,a.jsx)(b.E,{...e,onLoad:()=>n(!0),className:(0,C.Z)(!t&&"hidden opacity-0",e.className)});return(0,a.jsxs)(a.Fragment,{children:[!t&&(0,a.jsx)(k.O,{className:"h-24"}),(0,a.jsxs)(r.Vq,{open:l,onOpenChange:i,children:[(0,a.jsx)(r.hg,{children:o}),(0,a.jsxs)(r.cZ,{hideCloseButton:!0,className:"px-0 py-0 flex flex-col w-full max-w-xl max-h-[80%]",children:[(0,a.jsxs)(r.fK,{className:"hidden",children:[(0,a.jsx)(r.$N,{children:""}),(0,a.jsx)(r.Be,{children:""})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-2",children:o}),(0,a.jsx)(r.cN,{className:"px-4 py-2",children:(0,a.jsx)(r.GG,{asChild:!0,children:(0,a.jsx)(f.z,{variant:"ghost",children:"Close"})})})]})]})]})}let O=[{label:"Files",value:"files"},{label:"Upload",value:"upload"}];function z(){let{isModalOpen:e,latestResults:t,loading:n,files:c,closeModal:u}=(0,o.Y)(),[f,x]=(0,s.useState)(O[0].value);return!t&&n?(0,a.jsx)(i.a,{overlay:!0}):(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)(i.a,{overlay:!0}),(0,a.jsx)(r.Vq,{open:e,onOpenChange:u,children:(0,a.jsxs)(r.cZ,{hideCloseButton:!0,className:"px-0 py-0 max-w-3xl max-h-[80%] flex flex-col",children:[(0,a.jsx)(d.mQ,{className:"w-full [&>div]:w-full",value:f,onValueChange:e=>x(e),children:(0,a.jsx)(d.dr,{children:O.map(e=>(0,a.jsx)(d.SP,{value:e.value,className:"flex-1",children:e.label},e.value))})}),(0,a.jsxs)(a.Fragment,{children:[f===O[0].value&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 flex-1 overflow-y-auto columns-1 sm:columns-2 md:columns-3 gap-4",children:c.map(e=>{let t={...e.metadata};return(0,a.jsx)(l.Zb,{className:"mb-4",children:(0,a.jsx)(l.aY,{className:"p-2 transition-all hover:scale-105",children:(0,a.jsx)("div",{children:(0,a.jsx)(R,{width:t.width||t.w,height:t.height||t.h,alt:e.filename,src:e.url})})})},e.fileId)})}),(0,a.jsx)(r.cN,{})]}),f===O[1].value&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(w,{onUpload:()=>x(O[0].value),type:"image/*"})})]})]})}),(0,a.jsx)(m,{})]})}},3859:function(e,t,n){"use strict";n.d(t,{AuthContextProvider:function(){return r}});var a=n(57437),s=n(30998);function r(e){let{children:t}=e;return(0,a.jsx)(s.SessionProvider,{children:t})}},96058:function(e,t,n){"use strict";n.d(t,{ThemeProvider:function(){return r}});var a=n(57437);n(2265);var s=n(79512);function r(e){let{children:t,...n}=e;return(0,a.jsx)(s.f,{...n,children:t})}},58502:function(e,t,n){"use strict";n.d(t,{SocketEventsListener:function(){return l}});var a=n(2265),s=n(16463),r=n(7752);function l(e){let{events:t}=e,n=(0,a.useRef)({eventsTimeouts:{},eventsTimestamps:{}});(0,a.useRef)(new Date().getTime());let l=(0,s.useRouter)();return(0,a.useEffect)(()=>{t.forEach(e=>{let{name:t,action:a,delay:s=100,onEvent:i}=e;r.Z.on(t,function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];let d=()=>{var e,n;(!a||r[0]===a)&&(null===(e=i.callback)||void 0===e||e.call(i,...r),(null==i?void 0:i.refreshRouter)&&(console.log(t,"refreshing..."),l.refresh()),(null===(n=i.redirect)||void 0===n?void 0:n.to)&&(i.redirect.replace?l.replace(i.redirect.to):l.push(i.redirect.to)))},c=new Date().getTime();s?(clearTimeout(n.current.eventsTimeouts[t]),n.current.eventsTimeouts[t]=setTimeout(()=>{n.current.eventsTimestamps[t]=c,d()},s)):(n.current.eventsTimestamps[t]=new Date().getTime(),d())})})},[t,l]),null}},6780:function(e,t,n){"use strict";n.d(t,{OL:function(){return p},_T:function(){return u},aR:function(){return o},f$:function(){return x},fY:function(){return f},le:function(){return g},xo:function(){return m},yT:function(){return h}});var a=n(57437),s=n(2265),r=n(76669),l=n(37440),i=n(50495);let o=r.fC;r.xz;let d=r.h_,c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.aV,{className:(0,l.cn)("fixed inset-0 z-[99999999999] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s,ref:t})});c.displayName=r.aV.displayName;let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{}),(0,a.jsx)(r.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-[99999999999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...s})]})});u.displayName=r.VY.displayName;let f=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};f.displayName="AlertDialogHeader";let m=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};m.displayName="AlertDialogFooter";let x=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold",n),...s})});x.displayName=r.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n),...s})});h.displayName=r.dk.displayName;let p=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.aU,{ref:t,className:(0,l.cn)((0,i.d)(),n),...s})});p.displayName=r.aU.displayName;let g=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.$j,{ref:t,className:(0,l.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",n),...s})});g.displayName=r.$j.displayName},50495:function(e,t,n){"use strict";n.d(t,{d:function(){return o},z:function(){return d}});var a=n(57437),s=n(2265),r=n(71538),l=n(12218),i=n(37440);let o=(0,l.j)("\n    inline-flex\n    items-center\n    justify-center\n    whitespace-nowrap\n    rounded-md\n    text-sm\n    font-medium\n    transition-colors\n    focus-visible:outline-none\n    disabled:pointer-events-none\n    disabled:opacity-50\n  ",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"border border-input bg-background hover:bg-primary/20","primary-outline":"border border-primary text-primary bg-transparent hover:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-primary/20 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:n,variant:s,size:l,asChild:d=!1,...c}=e,u=d?r.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:n})),ref:t,...c})});d.displayName="Button"},36013:function(e,t,n){"use strict";n.d(t,{Zb:function(){return l},aY:function(){return i}});var a=n(57437),s=n(2265),r=n(37440);let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...s})});l.displayName="Card",s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",n),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",n),...s})}).displayName="CardDescription";let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",n),...s})});i.displayName="CardContent",s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",n),...s})}).displayName="CardFooter"},90837:function(e,t,n){"use strict";n.d(t,{$N:function(){return p},Be:function(){return g},GG:function(){return u},Vq:function(){return o},cN:function(){return h},cZ:function(){return m},fK:function(){return x},hg:function(){return d}});var a=n(57437),s=n(2265),r=n(13304),l=n(74697),i=n(37440);let o=r.fC,d=r.xz,c=r.h_,u=r.x8,f=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s})});f.displayName=r.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:n,children:s,hideCloseButton:o,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...d,children:[s,!0!==o&&(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let x=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};x.displayName="DialogHeader";let h=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};h.displayName="DialogFooter";let p=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",n),...s})});p.displayName=r.Dx.displayName;let g=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...s})});g.displayName=r.dk.displayName},12738:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var a=n(57437),s=n(37440);function r(e){let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",t),...n})}},98775:function(e,t,n){"use strict";n.d(t,{Toaster:function(){return l}});var a=n(57437),s=n(79512),r=n(27776);let l=e=>{let{...t}=e,{theme:n="system"}=(0,s.F)();return(0,a.jsx)(r.x7,{theme:n,richColors:!0,position:"top-center",...t})}},85273:function(e,t,n){"use strict";n.d(t,{SP:function(){return d},dr:function(){return o},mQ:function(){return i},nU:function(){return c}});var a=n(57437),s=n(2265),r=n(62447),l=n(37440);let i=r.fC,o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...s})});o.displayName=r.aV.displayName;let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.xz,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...s})});d.displayName=r.xz.displayName;let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,a.jsx)(r.VY,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...s})});c.displayName=r.VY.displayName},17647:function(e,t,n){"use strict";n.d(t,{AppContextProvider:function(){return g},b:function(){return p}});var a=n(57437),s=n(2265),r=n(79512),l=n(16463),i=n(23314),o=n(44785);let d=o.Z.get,c=o.Z.set;o.Z.remove;var u={get:d,set:c};function f(){let e=u.get("mode");return e||(e="view",u.set("mode",e,{expires:31536e7})),e}var m=n(7752),x=n(58502);let h=(0,s.createContext)(null),p=()=>(0,s.useContext)(h);function g(e){let{children:t,...n}=e,o=function(e){(0,l.useRouter)();let{isAdmin:t,isSuperUser:n,sys:a}=e,{setTheme:i}=(0,r.F)();(0,s.useEffect)(()=>{"yes"===a.data.hide_theme_toggle&&i("light")},[a]);let o=(0,s.useCallback)(()=>(t||n?f():"view")||"view",[n,t]),[d,c]=(0,s.useState)(o()),x=!t&&!n||"view"===d,h=(0,s.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=function(e){return u.set("mode",e,{expires:31536e7}),f()}(...t);return m.Z.emit("mode_changed",o()),c(o()),a},[o]),p=(0,s.useCallback)(()=>{c(o())},[o]);return{...e,mode:d,viewOnly:x,onModeChange:p,getMode:f,setMode:h}}(n),[d,c]=(0,s.useState)(!1);return((0,i.Z)(()=>{c(!0)}),d)?(0,a.jsxs)(h.Provider,{value:o,children:[t,(0,a.jsx)(x.SocketEventsListener,{events:[{name:"mode_changed",onEvent:{callback:o.onModeChange}}]})]}):null}},53699:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var a=n(39099);let s={title:"",message:"",buttonLabel:"Ok",variant:"info",onClose:void 0},r=(0,a.Ue)(e=>({isOpen:!1,...s,alert:t=>e({isOpen:!0,...s,...t}),close:()=>e({isOpen:!1,onClose:void 0,...s})}))},76230:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var a=n(39099);let s={danger:!1,title:"Confirm",message:"Are you sure?",positiveLabel:"Ok",negativeLabel:"Cancel"},r=(0,a.Ue)(e=>({isOpen:!1,...s,confirm:(t,n)=>e({isOpen:!0,...s,...n,onConfirm:t}),close:()=>e({isOpen:!1,onConfirm:void 0,...s})}))},21475:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var a=n(39099),s=n(38472);let r=(0,a.Ue)((e,t)=>{let n=async n=>{try{let a={...n};a.siteId!==t().siteId&&(a.page=1),e({loading:!0,unhandledErrors:[]});let{data:r,errors:l,...i}=(await s.Z.get("/api/files?data=".concat(JSON.stringify({...a})))).data;if(null==l?void 0:l.length)e({unhandledErrors:l});else{let n=[...t().files,...r];a.siteId&&a.siteId!==t().siteId&&(n=r),e({files:n,siteId:a.siteId||t().siteId,limit:a.limit||t().limit,page:a.page||t().page,latestResults:i})}}catch(t){e({unhandledErrors:[t.message]})}finally{e({loading:!1})}};return{isModalOpen:!1,loading:!1,page:1,limit:25,siteId:"",files:[],unhandledErrors:[],latestResults:null,getFiles:n,openModal:()=>{e({isModalOpen:!0}),t().latestResults||n()},closeModal:()=>e({isModalOpen:!1})}})},48625:function(e,t,n){"use strict";async function a(e){return new Promise((t,n)=>{let a=new Image;a.onload=function(){t({width:a.width,height:a.height})},a.onerror=function(e,t,a,s,r){n(r||Error("Failed to load image"))},a.src=e})}function s(e){let{imageWidth:t,imageHeight:n,containerWidth:a}=e;return t>a&&(n=a/t*n,t=a),{imageWidth:t,imageHeight:n}}n.d(t,{a:function(){return s},p:function(){return a}})},7752:function(e,t,n){"use strict";var a=n(34999),s=n(20357);let r=(0,a.io)(s.env.NEXT_PUBLIC_APP_URL);t.Z=r},37440:function(e,t,n){"use strict";n.d(t,{cn:function(){return r}});var a=n(44839),s=n(96164);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,a.W)(t))}},58877:function(){}},function(e){e.O(0,[4473,9956,8502,6562,7776,6927,8472,347,998,1293,7478,7023,1744],function(){return e(e.s=27857)}),_N_E=e.O()}]);