(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1030],{1030:function(e,t,a){Promise.resolve().then(a.bind(a,10082))},10082:function(e,t,a){"use strict";a.d(t,{Content:function(){return eH}});var l=a(57437),n=a(66070),d=a(69711),s=a(62869),i=a(2265),r=a(83464),o=a(40875),u=a(55122),c=a(45008),f=a(36549),p=a(64287),_=a(59440),y=a(26772),m=a(71611),N=a(36474),h=a(18754),g=a(87916),I=a(65613),x=a(99239),v=a(8147),b=a(5757),j=a(85112),w=a(90206),L=a(49360),A=a(32405);function D(){let e=(0,c._)(["md5(random()::text || clock_timestamp()::text)::uuid"]);return D=function(){return e},e}function k(){let e=(0,c._)(["md5(random()::text || clock_timestamp()::text)::uuid"]);return k=function(){return e},e}function B(){let e=(0,c._)(["md5(random()::text || clock_timestamp()::text)::uuid"]);return B=function(){return e},e}let V=(0,m.af)("nt_data_keys",{id:(0,N.eP)("id").primaryKey(),uuid:(0,h.Vj)("uuid").notNull().unique().default((0,p.i6)(D())),uniqueKey:(0,h.Vj)("unique_key").notNull().unique().default((0,p.i6)(k())),name:(0,g.fL)("name").notNull(),label:(0,g.fL)("label").default("").notNull(),refId:(0,g.fL)("ref_id"),dataType:(0,g.fL)("data_type").notNull(),options:(0,v.JB)("options").default([]).$type().notNull(),metadata:(0,v.JB)("metadata").default({}).$type().notNull(),version:(0,I._L)("version").notNull(),publishDate:(0,b.AB)("publish_date").defaultNow().notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")});(0,f.lE)(V,e=>{let{many:t,one:a}=e;return{history:t(C),draft:a(K,{fields:[V.uuid],references:[K.dataKeyId]})}});let K=(0,m.af)("nt_data_keys_drafts",{id:(0,N.eP)("id").primaryKey(),uuid:(0,h.Vj)("uuid").notNull().unique().default((0,p.i6)(B())),name:(0,g.fL)("name").notNull(),uniqueKey:(0,h.Vj)("unique_key").notNull(),dataKeyId:(0,h.Vj)("data_key_id").references(()=>V.uuid,{onDelete:"cascade"}),data:(0,v.JB)("data").$type().notNull(),createdByUserId:(0,h.Vj)("created_by_user_id"),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(K,e=>{let{one:t}=e;return{dataKey:t(V,{fields:[K.dataKeyId],references:[V.uuid]})}});let C=(0,m.af)("nt_data_keys_history",{id:(0,N.eP)("id").primaryKey(),version:(0,I._L)("version").notNull(),dataKeyId:(0,h.Vj)("data_key_id").references(()=>V.uuid,{onDelete:"cascade"}).notNull(),restoreKey:(0,h.Vj)("restore_key"),changes:(0,v.JB)("data").default([]),createdAt:(0,b.AB)("created_at").defaultNow().notNull()});function T(){let e=(0,c._)(["md5(random()::text || clock_timestamp()::text)::uuid"]);return T=function(){return e},e}(0,f.lE)(C,e=>{let{one:t}=e;return{dataKey:t(V,{fields:[C.dataKeyId],references:[V.uuid]})}});let R=(0,m.af)("nt_aliases",{id:(0,N.eP)("id").primaryKey(),uuid:(0,h.Vj)("uuid").notNull().unique().default((0,p.i6)(T())),name:(0,g.fL)("name").notNull(),alias:(0,g.fL)("alias").notNull(),script:(0,g.fL)("script").notNull(),oldScript:(0,g.fL)("old_script"),publishDate:(0,b.AB)("publish_date").defaultNow().notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")});function $(){let e=(0,c._)(["(\n                    to_tsvector('english', ",") ||\n                    to_tsvector('english', ",") ||\n                    to_tsvector('english', ",") ||\n                    to_tsvector('english', ",")\n                )"]);return $=function(){return e},e}function U(){let e=(0,c._)(["(\n                    to_tsvector('english', ",")\n                )"]);return U=function(){return e},e}function S(){let e=(0,c._)(["(\n                    to_tsvector('english', ",") ||\n                    to_tsvector('english', ",") ||\n                    to_tsvector('english', ",")\n                )"]);return S=function(){return e},e}function q(){let e=(0,c._)(["(\n                    to_tsvector('english', ",") ||\n                    to_tsvector('english', ",")\n                )"]);return q=function(){return e},e}function z(){let e=(0,c._)(["(\n                    to_tsvector('english', ",")\n                )"]);return z=function(){return e},e}function J(){let e=(0,c._)(["(\n                    to_tsvector('english', ",")\n                )"]);return J=function(){return e},e}let P=(0,_.Tr)({dataType:()=>"bytea"});(0,f.lE)(K,e=>{let{one:t}=e;return{createdBy:t(ea,{fields:[K.createdByUserId],references:[ea.userId]})}});let E=(0,y.ys)("mailer_service",["gmail","smtp"]),O=(0,y.ys)("role_name",["user","admin","super_user"]),F=(0,y.ys)("site_type",["nodeapi","webeditor"]),Z=(0,y.ys)("site_env",["production","stage","development","demo"]),M=(0,y.ys)("script_type",["admission","discharge","neolab","drecord","dff_calculator"]),H=(0,y.ys)("screen_type",["diagnosis","checklist","form","management","multi_select","single_select","progress","timer","yesno","drugs","fluids","feeds","zw_edliz_summary_table","mwi_edliz_summary_table","edliz_summary_table","dynamic_form"]),W=(0,y.ys)("drug_type",["drug","fluid","feed"]),Y=(0,y.ys)("list_style",["none","number","bullet"]),G=(0,y.ys)("change_log_action",["create","update","delete","publish","restore","rollback","merge"]),Q=(0,y.ys)("change_log_entity",["script","screen","diagnosis","config_key","drugs_library","data_key","alias","hospital","release","app_update_policy","apk_release"]),X=(0,y.ys)("apk_release_status",["uploaded","validated","approved","available","deprecated","revoked","rolled_back"]);(0,m.af)("nt_mailer_settings",{id:(0,N.eP)("id").primaryKey(),settingId:(0,h.Vj)("setting_id").notNull().unique().defaultRandom(),name:(0,g.fL)("name").notNull().unique(),service:E("service").notNull(),authUsername:(0,g.fL)("auth_username").notNull(),authPassword:(0,g.fL)("auth_password").notNull(),authType:(0,g.fL)("auth_type"),authMethod:(0,g.fL)("auth_method"),host:(0,g.fL)("host").notNull().default(""),port:(0,I._L)("port"),encryption:(0,g.fL)("encryption").notNull().default(""),fromAddress:(0,g.fL)("from_address").notNull().default(""),fromName:(0,g.fL)("from_name").notNull().default(""),isActive:(0,x.O7)("is_active").default(!1).notNull(),secure:(0,x.O7)("secure").default(!1).notNull()}),(0,m.af)("nt_email_templates",{id:(0,N.eP)("id").primaryKey(),templateId:(0,h.Vj)("template_id").notNull().unique().defaultRandom(),name:(0,g.fL)("name").notNull().unique(),data:(0,v.JB)("data").notNull()}),(0,m.af)("nt_sys",{_id:(0,N.eP)("_id").primaryKey(),id:(0,h.Vj)("id").notNull().unique().defaultRandom(),key:(0,g.fL)("key").notNull().unique(),value:(0,g.fL)("value").notNull()});let ee=(0,m.af)("nt_tokens",{id:(0,N.eP)("id").primaryKey(),token:(0,I._L)("token").notNull().unique(),userId:(0,h.Vj)("user_id").references(()=>ea.userId,{onDelete:"cascade"}),validUntil:(0,b.AB)("valid_until").notNull()});(0,f.lE)(ee,e=>{let{one:t}=e;return{user:t(ea,{fields:[ee.userId],references:[ea.userId]})}});let et=(0,m.af)("nt_user_roles",{id:(0,N.eP)("id").primaryKey(),name:O("name").notNull().unique(),description:(0,g.fL)("description")});(0,f.lE)(et,e=>{let{many:t}=e;return{users:t(ea)}}),(0,m.af)("nt_languages",{id:(0,N.eP)("id").primaryKey(),name:(0,g.fL)("name").notNull().unique(),iso:(0,g.fL)("iso").notNull().unique(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")});let ea=(0,m.af)("nt_users",{id:(0,N.eP)("id").primaryKey(),userId:(0,h.Vj)("user_id").notNull().unique().defaultRandom(),role:O("role").references(()=>et.name,{onDelete:"cascade"}).default("user").notNull(),email:(0,g.fL)("email").notNull().unique(),password:(0,g.fL)("password").notNull(),displayName:(0,g.fL)("display_name").notNull(),firstName:(0,g.fL)("first_name"),lastName:(0,g.fL)("last_name"),avatar:(0,g.fL)("avatar"),avatar_sm:(0,g.fL)("avatar_sm"),avatar_md:(0,g.fL)("avatar_md"),activationDate:(0,b.AB)("activation_date"),lastLoginDate:(0,b.AB)("last_login_date"),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("users_search_index").using("gin",(0,p.i6)($(),e.email,e.displayName,e.firstName,e.lastName))}));(0,f.lE)(ea,e=>{let{many:t,one:a}=e;return{authTokens:t(el),tokens:t(ee),files:t(er),role:a(et,{fields:[ea.role],references:[et.name]})}});let el=(0,m.af)("nt_auth_clients",{id:(0,N.eP)("id").primaryKey(),clientId:(0,h.Vj)("client_id").notNull().unique().defaultRandom(),clientToken:(0,g.fL)("client_token").notNull().unique(),userId:(0,h.Vj)("user_id").references(()=>ea.userId,{onDelete:"cascade"}),validUntil:(0,b.AB)("valid_until"),createdAt:(0,b.AB)("created_at").defaultNow().notNull()});(0,f.lE)(el,e=>{let{one:t}=e;return{user:t(ea,{fields:[el.userId],references:[ea.userId]})}}),(0,m.af)("nt_api_keys",{id:(0,N.eP)("id").primaryKey(),apiKeyId:(0,h.Vj)("api_key_id").notNull().unique().defaultRandom(),apiKey:(0,g.fL)("api_key").notNull().unique().$defaultFn(()=>(0,L.Z)()),validUntil:(0,b.AB)("valid_until"),createdAt:(0,b.AB)("created_at").defaultNow().notNull()}),(0,m.af)("nt_sites",{id:(0,N.eP)("id").primaryKey(),siteId:(0,h.Vj)("site_id").notNull().unique().defaultRandom(),name:(0,g.fL)("name").notNull().unique(),link:(0,g.fL)("link").notNull().unique(),apiKey:(0,g.fL)("api_key").notNull(),type:F("type").notNull(),env:Z("env").notNull().default("production"),displayName:(0,g.fL)("display_name"),countryISO:(0,g.fL)("country_iso"),countryName:(0,g.fL)("country_name"),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")});let en=(0,m.af)("nt_hospitals",{id:(0,N.eP)("id").primaryKey(),hospitalId:(0,h.Vj)("hospital_id").notNull().unique().defaultRandom(),oldHospitalId:(0,g.fL)("old_hospital_id").unique(),name:(0,g.fL)("name").notNull().unique(),country:(0,g.fL)("country").default(""),version:(0,I._L)("version").default(1).notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("hospitals_search_index").using("gin",(0,p.i6)(U(),e.name))}));(0,f.lE)(en,e=>{let{many:t,one:a}=e;return{history:t(es),draft:a(ed,{fields:[en.hospitalId],references:[ed.hospitalId]})}});let ed=(0,m.af)("nt_hospitals_drafts",{id:(0,N.eP)("id").primaryKey(),hospitalDraftId:(0,h.Vj)("hospital_draft_id").notNull().unique().defaultRandom(),hospitalId:(0,h.Vj)("hospital_id").references(()=>en.hospitalId,{onDelete:"cascade"}),data:(0,v.JB)("data").$type().notNull(),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(ed,e=>{let{one:t}=e;return{hospital:t(en,{fields:[ed.hospitalId],references:[en.hospitalId]}),createdBy:t(ea,{fields:[ed.createdByUserId],references:[ea.userId]})}});let es=(0,m.af)("nt_hospitals_history",{id:(0,N.eP)("id").primaryKey(),version:(0,I._L)("version").notNull(),hospitalId:(0,h.Vj)("hospital_id").references(()=>en.hospitalId,{onDelete:"cascade"}).notNull(),restoreKey:(0,h.Vj)("restore_key"),changes:(0,v.JB)("data").default([]),createdAt:(0,b.AB)("created_at").defaultNow().notNull()});(0,f.lE)(es,e=>{let{one:t}=e;return{hospital:t(en,{fields:[es.hospitalId],references:[en.hospitalId]})}}),(0,m.af)("nt_editor_info",{id:(0,N.eP)("id").primaryKey(),dataVersion:(0,I._L)("data_version").notNull().default(1),lastPublishDate:(0,b.AB)("last_publish_date"),lastDataKeysSyncDate:(0,b.AB)("last_data_keys_sync_date")}),(0,m.af)("nt_devices",{id:(0,N.eP)("id").primaryKey(),deviceId:(0,g.fL)("device_id").notNull().unique(),deviceHash:(0,g.fL)("device_hash").notNull().unique(),details:(0,v.JB)("details").default({}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")}),(0,m.af)("nt_device_update_events",{id:(0,N.eP)("id").primaryKey(),eventId:(0,h.Vj)("event_id").notNull().unique().defaultRandom(),deviceId:(0,g.fL)("device_id").notNull(),eventType:(0,g.fL)("event_type").notNull(),appVersion:(0,g.fL)("app_version"),runtimeVersion:(0,g.fL)("runtime_version"),otaUpdateId:(0,g.fL)("ota_update_id"),otaChannel:(0,g.fL)("ota_channel"),payload:(0,v.JB)("payload").default("{}").notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull()},e=>({deviceIndex:(0,j.Kz)("device_update_events_device_idx").on(e.deviceId),typeIndex:(0,j.Kz)("device_update_events_type_idx").on(e.eventType)}));let ei=(0,m.af)("nt_device_app_states",{id:(0,N.eP)("id").primaryKey(),deviceId:(0,g.fL)("device_id").notNull(),appVersion:(0,g.fL)("app_version").notNull(),runtimeVersion:(0,g.fL)("runtime_version").notNull(),otaUpdateId:(0,g.fL)("ota_update_id"),otaChannel:(0,g.fL)("ota_channel"),apkReleaseId:(0,h.Vj)("apk_release_id").references(()=>eo.apkReleaseId,{onDelete:"set null"}),lastSeenAt:(0,b.AB)("last_seen_at").defaultNow().notNull(),reportedAt:(0,b.AB)("reported_at").defaultNow().notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)},e=>({deviceUnique:(0,j.o9)("device_app_state_unique").on(e.deviceId)}));(0,f.lE)(ei,e=>{let{one:t}=e;return{apkRelease:t(eo,{fields:[ei.apkReleaseId],references:[eo.apkReleaseId]})}});let er=(0,m.af)("nt_files",{id:(0,N.eP)("id").primaryKey(),fileId:(0,h.Vj)("file_id").notNull().unique().defaultRandom(),ownerId:(0,h.Vj)("owner_id").references(()=>ea.userId,{onDelete:"cascade"}),filename:(0,g.fL)("filename").notNull(),contentType:(0,g.fL)("content_type").notNull(),size:(0,I._L)("size").notNull(),metadata:(0,v.JB)("metadata").default("{}").notNull(),data:P("data").notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")});(0,f.lE)(er,e=>{let{many:t,one:a}=e;return{owner:a(ea,{fields:[er.ownerId],references:[ea.userId]})}}),(0,m.af)("nt_files_chunks",{id:(0,N.eP)("id").primaryKey(),chunkId:(0,h.Vj)("chunk_id").notNull().unique().defaultRandom(),fileId:(0,h.Vj)("file_id").references(()=>er.fileId,{onDelete:"cascade"}).notNull(),data:P("data").notNull()});let eo=(0,m.af)("nt_apk_releases",{id:(0,N.eP)("id").primaryKey(),apkReleaseId:(0,h.Vj)("apk_release_id").notNull().unique().defaultRandom(),runtimeVersion:(0,g.fL)("runtime_version").notNull(),versionName:(0,g.fL)("version_name").notNull(),versionCode:(0,I._L)("version_code").notNull(),status:X("status").notNull().default("uploaded"),isAvailable:(0,x.O7)("is_available").default(!1).notNull(),fileId:(0,h.Vj)("file_id").references(()=>er.fileId,{onDelete:"set null"}),fileSize:(0,I._L)("file_size"),checksumSha256:(0,g.fL)("checksum_sha256"),signatureSha256:(0,g.fL)("signature_sha256"),validatedAt:(0,b.AB)("validated_at"),approvedAt:(0,b.AB)("approved_at"),releaseNotes:(0,g.fL)("release_notes").default(""),releasedAt:(0,b.AB)("released_at"),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")},e=>({uniqueVersionPerRuntime:(0,j.o9)("apk_release_unique_version").on(e.runtimeVersion,e.versionCode),statusIndex:(0,j.Kz)("apk_release_status_index").on(e.status)}));(0,f.lE)(eo,e=>{let{one:t}=e;return{file:t(er,{fields:[eo.fileId],references:[er.fileId]}),createdBy:t(ea,{fields:[eo.createdByUserId],references:[ea.userId]})}});let eu=(0,m.af)("nt_app_update_policies",{id:(0,N.eP)("id").primaryKey(),policyId:(0,h.Vj)("policy_id").notNull().unique().defaultRandom(),runtimeVersion:(0,g.fL)("runtime_version").notNull(),policyVersion:(0,I._L)("policy_version").default(1).notNull(),otaEnabled:(0,x.O7)("ota_enabled").default(!0).notNull(),otaChannel:(0,g.fL)("ota_channel").default("production").notNull(),apkAutoDownload:(0,x.O7)("apk_auto_download").default(!0).notNull(),apkForceInstall:(0,x.O7)("apk_force_install").default(!1).notNull(),apkGracePeriodHours:(0,I._L)("apk_grace_period_hours"),apkForceAfter:(0,b.AB)("apk_force_after"),apkInstallWindow:(0,g.fL)("apk_install_window").default("on_restart"),apkMessageTitle:(0,g.fL)("apk_message_title").default(""),apkMessageBody:(0,g.fL)("apk_message_body").default(""),currentApkReleaseId:(0,h.Vj)("current_apk_release_id").references(()=>eo.apkReleaseId,{onDelete:"set null"}),rollbackApkReleaseId:(0,h.Vj)("rollback_apk_release_id").references(()=>eo.apkReleaseId,{onDelete:"set null"}),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")},e=>({}));(0,f.lE)(eu,e=>{let{one:t}=e;return{currentApkRelease:t(eo,{fields:[eu.currentApkReleaseId],references:[eo.apkReleaseId],relationName:"currentApkRelease"}),rollbackApkRelease:t(eo,{fields:[eu.rollbackApkReleaseId],references:[eo.apkReleaseId],relationName:"rollbackApkRelease"}),createdBy:t(ea,{fields:[eu.createdByUserId],references:[ea.userId]})}});let ec=(0,m.af)("nt_apk_releases_drafts",{id:(0,N.eP)("id").primaryKey(),apkReleaseDraftId:(0,h.Vj)("apk_release_draft_id").notNull().unique().defaultRandom(),apkReleaseId:(0,h.Vj)("apk_release_id").references(()=>eo.apkReleaseId,{onDelete:"cascade"}),data:(0,v.JB)("data").$type().notNull(),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(ec,e=>{let{one:t}=e;return{apkRelease:t(eo,{fields:[ec.apkReleaseId],references:[eo.apkReleaseId]}),createdBy:t(ea,{fields:[ec.createdByUserId],references:[ea.userId]})}});let ef=(0,m.af)("nt_app_update_policies_drafts",{id:(0,N.eP)("id").primaryKey(),policyDraftId:(0,h.Vj)("policy_draft_id").notNull().unique().defaultRandom(),policyId:(0,h.Vj)("policy_id").references(()=>eu.policyId,{onDelete:"cascade"}),data:(0,v.JB)("data").$type().notNull(),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(ef,e=>{let{one:t}=e;return{policy:t(eu,{fields:[ef.policyId],references:[eu.policyId]}),createdBy:t(ea,{fields:[ef.createdByUserId],references:[ea.userId]})}});let ep=(0,m.af)("nt_config_keys",{id:(0,N.eP)("id").primaryKey(),configKeyId:(0,h.Vj)("config_key_id").notNull().unique().defaultRandom(),oldConfigKeyId:(0,g.fL)("old_config_key_id").unique(),position:(0,I._L)("position").notNull(),version:(0,I._L)("version").notNull(),key:(0,g.fL)("key").notNull().unique(),label:(0,g.fL)("label").notNull().unique(),summary:(0,g.fL)("summary").notNull(),source:(0,g.fL)("source").default("editor"),preferences:(0,v.JB)("preferences").default(JSON.stringify(A.$7)).notNull(),publishDate:(0,b.AB)("publish_date").defaultNow().notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("config_keys_search_index").using("gin",(0,p.i6)(S(),e.key,e.label,e.summary))}));(0,f.lE)(ep,e=>{let{many:t,one:a}=e;return{history:t(ey),draft:a(e_,{fields:[ep.configKeyId],references:[e_.configKeyId]})}});let e_=(0,m.af)("nt_config_keys_drafts",{id:(0,N.eP)("id").primaryKey(),configKeyDraftId:(0,h.Vj)("config_key_draft_id").notNull().unique().defaultRandom(),configKeyId:(0,h.Vj)("config_key_id").references(()=>ep.configKeyId,{onDelete:"cascade"}),position:(0,I._L)("position").notNull(),data:(0,v.JB)("data").$type().notNull(),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(e_,e=>{let{one:t}=e;return{configKey:t(ep,{fields:[e_.configKeyId],references:[ep.configKeyId]}),createdBy:t(ea,{fields:[e_.createdByUserId],references:[ea.userId]})}});let ey=(0,m.af)("nt_config_keys_history",{id:(0,N.eP)("id").primaryKey(),version:(0,I._L)("version").notNull(),configKeyId:(0,h.Vj)("config_key_id").references(()=>ep.configKeyId,{onDelete:"cascade"}).notNull(),restoreKey:(0,h.Vj)("restore_key"),changes:(0,v.JB)("data").default([]),createdAt:(0,b.AB)("created_at").defaultNow().notNull()});(0,f.lE)(ey,e=>{let{one:t}=e;return{configKey:t(ep,{fields:[ey.configKeyId],references:[ep.configKeyId]})}});let em=(0,m.af)("nt_scripts",{id:(0,N.eP)("id").primaryKey(),scriptId:(0,h.Vj)("script_id").notNull().unique().defaultRandom(),oldScriptId:(0,g.fL)("old_script_id").unique(),version:(0,I._L)("version").notNull(),type:M("type").notNull().default("admission"),position:(0,I._L)("position").notNull(),source:(0,g.fL)("source").default("editor"),title:(0,g.fL)("title").notNull(),printTitle:(0,g.fL)("print_title").notNull(),description:(0,g.fL)("description").notNull().default(""),hospitalId:(0,h.Vj)("hospital_id").references(()=>en.hospitalId,{onDelete:"set null"}),exportable:(0,x.O7)("exportable").notNull().default(!0),nuidSearchEnabled:(0,x.O7)("nuid_search_enabled").notNull().default(!1),nuidSearchFields:(0,v.JB)("nuid_search_fields").default("[]").notNull(),reviewable:(0,x.O7)("reviewable").notNull().default(!1),reviewConfigurations:(0,v.JB)("review_configurations").default("[]").notNull(),preferences:(0,v.JB)("preferences").default(JSON.stringify(A.$7)).notNull(),printConfig:(0,v.JB)("print_config").notNull().default('{\n              "headerFormat": "",\n              "headerFields": [],\n              "footerFields": [],\n              "sections": []\n            }').$type(),printSections:(0,v.JB)("print_sections").default("[]").notNull(),publishDate:(0,b.AB)("publish_date").defaultNow().notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("scripts_search_index").using("gin",(0,p.i6)(q(),e.title,e.description))}));(0,f.lE)(em,e=>{let{many:t,one:a}=e;return{screens:t(eg),screensDrafts:t(eI),screensHistory:t(ex),diagnoses:t(ev),diagnosesDrafts:t(eb),diagnosesHistory:t(ej),history:t(eh),drugsLibrary:t(eL),draft:a(eN,{fields:[em.scriptId],references:[eN.scriptId]})}});let eN=(0,m.af)("nt_scripts_drafts",{id:(0,N.eP)("id").primaryKey(),scriptDraftId:(0,h.Vj)("script_draft_id").notNull().unique().defaultRandom(),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"cascade"}),position:(0,I._L)("position").notNull(),hospitalId:(0,h.Vj)("hospital_id").references(()=>en.hospitalId,{onDelete:"set null"}),data:(0,v.JB)("data").$type().notNull(),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(eN,e=>{let{one:t,many:a}=e;return{screensDrafts:a(eI),diagnosesDrafts:a(eb),script:t(em,{fields:[eN.scriptId],references:[em.scriptId]}),createdBy:t(ea,{fields:[eN.createdByUserId],references:[ea.userId]})}});let eh=(0,m.af)("nt_scripts_history",{id:(0,N.eP)("id").primaryKey(),version:(0,I._L)("version").notNull(),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"cascade"}).notNull(),restoreKey:(0,h.Vj)("restore_key"),changes:(0,v.JB)("data").default([]),createdAt:(0,b.AB)("created_at").defaultNow().notNull()});(0,f.lE)(eh,e=>{let{one:t}=e;return{script:t(em,{fields:[eh.scriptId],references:[em.scriptId]})}});let eg=(0,m.af)("nt_screens",{id:(0,N.eP)("id").primaryKey(),screenId:(0,h.Vj)("screen_id").notNull().unique().defaultRandom(),oldScreenId:(0,g.fL)("old_screen_id").unique(),oldScriptId:(0,g.fL)("old_script_id"),version:(0,I._L)("version").notNull(),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"cascade"}).notNull(),type:H("type").notNull(),position:(0,I._L)("position").notNull(),source:(0,g.fL)("source").default("editor"),sectionTitle:(0,g.fL)("section_title").notNull(),previewTitle:(0,g.fL)("preview_title").notNull().default(""),previewPrintTitle:(0,g.fL)("preview_print_title").notNull().default(""),condition:(0,g.fL)("condition").notNull().default(""),skipToCondition:(0,g.fL)("skip_to_condition").notNull().default(""),skipToScreenId:(0,g.fL)("skip_to_screen_id"),epicId:(0,g.fL)("epic_id").notNull().default(""),storyId:(0,g.fL)("story_id").notNull().default(""),refId:(0,g.fL)("ref_id").notNull().default(""),refIdDataKey:(0,g.fL)("ref_id_data_key").notNull().default(""),refKey:(0,g.fL)("ref_key").notNull().default(""),refKeyDataKey:(0,g.fL)("ref_key_data_key").notNull().default(""),step:(0,g.fL)("step").notNull().default(""),actionText:(0,g.fL)("action_text").notNull().default(""),contentText:(0,g.fL)("content_text").notNull().default(""),contentTextImage:(0,v.JB)("content_text_image").$type(),infoText:(0,g.fL)("info_text").notNull().default(""),title:(0,g.fL)("title").notNull(),title1:(0,g.fL)("title1").notNull().default(""),title2:(0,g.fL)("title2").notNull().default(""),title3:(0,g.fL)("title3").notNull().default(""),title4:(0,g.fL)("title4").notNull().default(""),text1:(0,g.fL)("text1").notNull().default(""),text2:(0,g.fL)("text2").notNull().default(""),text3:(0,g.fL)("text3").notNull().default(""),image1:(0,v.JB)("image1").$type(),image2:(0,v.JB)("image2").$type(),image3:(0,v.JB)("image3").$type(),instructions:(0,g.fL)("instructions").notNull().default(""),instructions2:(0,g.fL)("instructions2").notNull().default(""),instructions3:(0,g.fL)("instructions3").notNull().default(""),instructions4:(0,g.fL)("instructions4").notNull().default(""),hcwDiagnosesInstructions:(0,g.fL)("hcw_diagnoses_instructions").notNull().default(""),suggestedDiagnosesInstructions:(0,g.fL)("suggested_diagnoses_instructions").notNull().default(""),notes:(0,g.fL)("notes").notNull().default(""),dataType:(0,g.fL)("data_type").notNull().default(""),key:(0,g.fL)("key").notNull().default(""),keyId:(0,g.fL)("key_id").notNull().default(""),label:(0,g.fL)("label").notNull().default(""),negativeLabel:(0,g.fL)("negative_label").notNull().default(""),positiveLabel:(0,g.fL)("positive_label").notNull().default(""),timerValue:(0,I._L)("timer_value"),multiplier:(0,I._L)("multiplier"),minValue:(0,I._L)("min_value"),maxValue:(0,I._L)("max_value"),exportable:(0,x.O7)("exportable").notNull().default(!0),printable:(0,x.O7)("printable"),skippable:(0,x.O7)("skippable").notNull().default(!1),confidential:(0,x.O7)("confidential").notNull().default(!1),prePopulate:(0,v.JB)("pre_populate").default("[]").$type().notNull(),fields:(0,v.JB)("fields").default("[]").$type().notNull(),items:(0,v.JB)("items").default("[]").$type().notNull(),preferences:(0,v.JB)("preferences").default(JSON.stringify(A.$7)).$type().notNull(),drugs:(0,v.JB)("drugs").default("[]").$type().notNull(),fluids:(0,v.JB)("fluids").default("[]").$type().notNull(),feeds:(0,v.JB)("feeds").default("[]").$type().notNull(),reasons:(0,v.JB)("reasons").default("[]").notNull().$type(),listStyle:Y("list_style").default("none").notNull(),printDisplayColumns:(0,I._L)("print_display_columns").default(2).notNull(),publishDate:(0,b.AB)("publish_date").defaultNow().notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at"),collectionName:(0,g.fL)("collection_name").notNull().default(""),collectionLabel:(0,g.fL)("collection_label").notNull().default(""),repeatable:(0,x.O7)("repeatable")},e=>({searchIndex:(0,j.Kz)("screens_search_index").using("gin",(0,p.i6)(z(),e.title))}));(0,f.lE)(eg,e=>{let{many:t,one:a}=e;return{history:t(ex),script:a(em,{fields:[eg.scriptId],references:[em.scriptId]}),draft:a(eI,{fields:[eg.screenId],references:[eI.screenId]})}});let eI=(0,m.af)("nt_screens_drafts",{id:(0,N.eP)("id").primaryKey(),screenDraftId:(0,h.Vj)("screen_draft_id").notNull().unique().defaultRandom(),screenId:(0,h.Vj)("screen_id").references(()=>eg.screenId,{onDelete:"cascade"}),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"cascade"}),scriptDraftId:(0,h.Vj)("script_draft_id").references(()=>eN.scriptDraftId,{onDelete:"cascade"}),type:H("type").notNull(),position:(0,I._L)("position").notNull(),data:(0,v.JB)("data").$type().notNull(),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(eI,e=>{let{one:t}=e;return{screen:t(eg,{fields:[eI.screenId],references:[eg.screenId]}),scriptDraft:t(eN,{fields:[eI.scriptDraftId],references:[eN.scriptDraftId]}),script:t(em,{fields:[eI.scriptId],references:[em.scriptId]}),createdBy:t(ea,{fields:[eI.createdByUserId],references:[ea.userId]})}});let ex=(0,m.af)("nt_screens_history",{id:(0,N.eP)("id").primaryKey(),version:(0,I._L)("version").notNull(),screenId:(0,h.Vj)("screen_id").references(()=>eg.screenId,{onDelete:"cascade"}).notNull(),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"cascade"}).notNull(),restoreKey:(0,g.fL)("restore_key"),changes:(0,v.JB)("data").default([]),createdAt:(0,b.AB)("created_at").defaultNow().notNull()});(0,f.lE)(ex,e=>{let{one:t}=e;return{screen:t(eg,{fields:[ex.screenId],references:[eg.screenId]}),script:t(em,{fields:[ex.scriptId],references:[em.scriptId]})}});let ev=(0,m.af)("nt_diagnoses",{id:(0,N.eP)("id").primaryKey(),diagnosisId:(0,h.Vj)("diagnosis_id").notNull().unique().defaultRandom(),oldDiagnosisId:(0,g.fL)("old_diagnosis_id").unique(),oldScriptId:(0,g.fL)("old_script_id"),version:(0,I._L)("version").notNull(),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"cascade"}).notNull(),position:(0,I._L)("position").notNull(),source:(0,g.fL)("source").default("editor"),expression:(0,g.fL)("expression").notNull(),name:(0,g.fL)("name").notNull().default(""),description:(0,g.fL)("description").notNull().default(""),key:(0,g.fL)("key").default(""),keyId:(0,g.fL)("key_id").notNull().default(""),severityOrder:(0,I._L)("severity_order"),expressionMeaning:(0,g.fL)("expression_meaning").notNull().default(""),symptoms:(0,v.JB)("symptoms").default("[]").$type().notNull(),text1:(0,g.fL)("text1").notNull().default(""),text2:(0,g.fL)("text2").notNull().default(""),text3:(0,g.fL)("text3").notNull().default(""),image1:(0,v.JB)("image1").$type(),image2:(0,v.JB)("image2").$type(),image3:(0,v.JB)("image3").$type(),preferences:(0,v.JB)("preferences").default(JSON.stringify(A.$7)).$type().notNull(),publishDate:(0,b.AB)("publish_date").defaultNow().notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")},e=>({searchIndex:(0,j.Kz)("diagnoses_search_index").using("gin",(0,p.i6)(J(),e.name))}));(0,f.lE)(ev,e=>{let{many:t,one:a}=e;return{history:t(ej),script:a(em,{fields:[ev.scriptId],references:[em.scriptId]}),draft:a(eb,{fields:[ev.diagnosisId],references:[eb.diagnosisId]})}});let eb=(0,m.af)("nt_diagnoses_drafts",{id:(0,N.eP)("id").primaryKey(),diagnosisDraftId:(0,h.Vj)("diagnosis_draft_id").notNull().unique().defaultRandom(),diagnosisId:(0,h.Vj)("diagnosis_id").references(()=>ev.diagnosisId,{onDelete:"cascade"}),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"cascade"}),scriptDraftId:(0,h.Vj)("script_draft_id").references(()=>eN.scriptDraftId,{onDelete:"cascade"}),position:(0,I._L)("position").notNull(),data:(0,v.JB)("data").$type().notNull(),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(eb,e=>{let{one:t}=e;return{diagnosis:t(ev,{fields:[eb.diagnosisId],references:[ev.diagnosisId]}),scriptDraft:t(eN,{fields:[eb.scriptDraftId],references:[eN.scriptDraftId]}),script:t(em,{fields:[eb.scriptId],references:[em.scriptId]}),createdBy:t(ea,{fields:[eb.createdByUserId],references:[ea.userId]})}});let ej=(0,m.af)("nt_diagnoses_history",{id:(0,N.eP)("id").primaryKey(),version:(0,I._L)("version").notNull(),diagnosisId:(0,h.Vj)("diagnosis_id").references(()=>ev.diagnosisId,{onDelete:"cascade"}).notNull(),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"cascade"}).notNull(),restoreKey:(0,g.fL)("restore_key"),changes:(0,v.JB)("data").default([]),createdAt:(0,b.AB)("created_at").defaultNow().notNull()});(0,f.lE)(ej,e=>{let{one:t}=e;return{diagnosis:t(ev,{fields:[ej.diagnosisId],references:[ev.diagnosisId]}),script:t(em,{fields:[ej.scriptId],references:[em.scriptId]})}});let ew=(0,y.ys)("dff_item_validation_type",["default","condition"]),eL=(0,m.af)("nt_drugs_library",{id:(0,N.eP)("id").primaryKey(),itemId:(0,h.Vj)("item_id").notNull().unique().defaultRandom(),key:(0,g.fL)("key").notNull().unique(),keyId:(0,g.fL)("key_id").notNull().default(""),type:W("type").notNull().default("drug"),drug:(0,g.fL)("drug").notNull().default(""),minGestation:(0,w.zz)("min_gestation"),maxGestation:(0,w.zz)("max_gestation"),minWeight:(0,w.zz)("min_weight"),maxWeight:(0,w.zz)("max_weight"),minAge:(0,w.zz)("min_age"),maxAge:(0,w.zz)("max_age"),hourlyFeed:(0,w.zz)("hourly_feed"),hourlyFeedDivider:(0,w.zz)("hourly_feed_divider"),dosage:(0,w.zz)("dosage"),dosageMultiplier:(0,w.zz)("dosage_multiplier"),dayOfLife:(0,g.fL)("day_of_life").notNull().default(""),dosageText:(0,g.fL)("dosage_text").notNull().default(""),managementText:(0,g.fL)("management_text").notNull().default(""),gestationKey:(0,g.fL)("gestation_key").notNull().default(""),weightKey:(0,g.fL)("weight_key").notNull().default(""),diagnosisKey:(0,g.fL)("diagnosis_key").notNull().default(""),ageKey:(0,g.fL)("age_key").notNull().default(""),ageKeyId:(0,g.fL)("age_key_id").notNull().default(""),gestationKeyId:(0,g.fL)("gestation_key_id").notNull().default(""),weightKeyId:(0,g.fL)("weight_key_id").notNull().default(""),diagnosisKeyId:(0,g.fL)("diagnosis_key_id").notNull().default(""),administrationFrequency:(0,g.fL)("administration_frequency").notNull().default(""),drugUnit:(0,g.fL)("drug_unit").notNull().default(""),routeOfAdministration:(0,g.fL)("route_of_administration").notNull().default(""),position:(0,I._L)("position").notNull(),condition:(0,g.fL)("condition").notNull().default(""),calculator_condition:(0,g.fL)("calculator_condition").notNull().default(""),validationType:ew("validation_type").default("default"),version:(0,I._L)("version").notNull(),publishDate:(0,b.AB)("publish_date").defaultNow().notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date),deletedAt:(0,b.AB)("deleted_at")});(0,f.lE)(eL,e=>{let{many:t,one:a}=e;return{history:t(eD),draft:a(eA,{fields:[eL.itemId],references:[eA.itemId]})}});let eA=(0,m.af)("nt_drugs_library_drafts",{id:(0,N.eP)("id").primaryKey(),itemDraftId:(0,h.Vj)("item_draft_id").notNull().unique().defaultRandom(),itemId:(0,h.Vj)("item_id").references(()=>eL.itemId,{onDelete:"cascade"}),key:(0,g.fL)("key").notNull(),type:W("type").notNull().default("drug"),position:(0,I._L)("position").notNull(),data:(0,v.JB)("data").$type().notNull(),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),updatedAt:(0,b.AB)("updated_at").defaultNow().notNull().$onUpdate(()=>new Date)});(0,f.lE)(eA,e=>{let{one:t}=e;return{item:t(eL,{fields:[eA.itemId],references:[eL.itemId]}),createdBy:t(ea,{fields:[eA.createdByUserId],references:[ea.userId]})}});let eD=(0,m.af)("nt_drugs_library_history",{id:(0,N.eP)("id").primaryKey(),version:(0,I._L)("version").notNull(),itemId:(0,h.Vj)("item_id").references(()=>eL.itemId,{onDelete:"cascade"}).notNull(),restoreKey:(0,h.Vj)("restore_key"),changes:(0,v.JB)("data").default([]),createdAt:(0,b.AB)("created_at").defaultNow().notNull()});(0,f.lE)(eD,e=>{let{one:t}=e;return{item:t(eL,{fields:[eD.itemId],references:[eL.itemId]})}});let ek=(0,m.af)("nt_pending_deletion",{id:(0,N.eP)("id").primaryKey(),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"cascade"}),screenId:(0,h.Vj)("screen_id").references(()=>eg.screenId,{onDelete:"cascade"}),screenScriptId:(0,h.Vj)("screen_script_id").references(()=>em.scriptId,{onDelete:"cascade"}),diagnosisId:(0,h.Vj)("diagnosis_id").references(()=>ev.diagnosisId,{onDelete:"cascade"}),diagnosisScriptId:(0,h.Vj)("diagnosis_script_id").references(()=>em.scriptId,{onDelete:"cascade"}),configKeyId:(0,h.Vj)("config_key_id").references(()=>ep.configKeyId,{onDelete:"cascade"}),hospitalId:(0,h.Vj)("hospital_id").references(()=>en.hospitalId,{onDelete:"cascade"}),drugsLibraryItemId:(0,h.Vj)("drugs_library_item_id").references(()=>eL.itemId,{onDelete:"cascade"}),scriptDraftId:(0,h.Vj)("script_draft_id").references(()=>eN.scriptDraftId,{onDelete:"cascade"}),screenDraftId:(0,h.Vj)("screen_draft_id").references(()=>eI.screenDraftId,{onDelete:"cascade"}),diagnosisDraftId:(0,h.Vj)("diagnosis_draft_id").references(()=>eb.diagnosisDraftId,{onDelete:"cascade"}),configKeyDraftId:(0,h.Vj)("config_key_draft_id").references(()=>e_.configKeyDraftId,{onDelete:"cascade"}),hospitalDraftId:(0,h.Vj)("hospital_draft_id").references(()=>ed.hospitalDraftId,{onDelete:"cascade"}),drugsLibraryItemDraftId:(0,h.Vj)("drugs_library_item_draft_id").references(()=>eA.itemDraftId,{onDelete:"cascade"}),dataKeyId:(0,h.Vj)("data_key_id").references(()=>V.uuid,{onDelete:"cascade"}),dataKeyDraftId:(0,h.Vj)("data_key_draft_id").references(()=>V.uuid,{onDelete:"cascade"}),aliasId:(0,h.Vj)("alias_id").references(()=>R.uuid,{onDelete:"cascade"}),createdByUserId:(0,h.Vj)("created_by_user_id").references(()=>ea.userId,{onDelete:"set null"}),createdAt:(0,b.AB)("created_at").defaultNow().notNull()});(0,f.lE)(ek,e=>{let{one:t}=e;return{script:t(em,{fields:[ek.scriptId],references:[em.scriptId]}),screen:t(eg,{fields:[ek.screenId],references:[eg.screenId]}),screenScript:t(em,{fields:[ek.screenScriptId],references:[em.scriptId]}),diagnosis:t(ev,{fields:[ek.diagnosisId],references:[ev.diagnosisId]}),diagnosisScript:t(em,{fields:[ek.diagnosisScriptId],references:[em.scriptId]}),configKey:t(ep,{fields:[ek.configKeyId],references:[ep.configKeyId]}),hospital:t(en,{fields:[ek.hospitalId],references:[en.hospitalId]}),drugsLibraryItem:t(eL,{fields:[ek.drugsLibraryItemId],references:[eL.itemId]}),scriptDraft:t(eN,{fields:[ek.scriptId],references:[eN.scriptDraftId]}),screenDraft:t(eI,{fields:[ek.screenId],references:[eI.screenDraftId]}),diagnosisDraft:t(eb,{fields:[ek.diagnosisId],references:[eb.diagnosisDraftId]}),configKeyDraft:t(e_,{fields:[ek.configKeyId],references:[e_.configKeyDraftId]}),hospitalDraft:t(ed,{fields:[ek.hospitalId],references:[ed.hospitalDraftId]}),drugsLibraryItemDraft:t(eA,{fields:[ek.drugsLibraryItemDraftId],references:[eA.itemDraftId]}),dataKey:t(V,{fields:[ek.dataKeyId],references:[V.uuid]}),dataKeyDraft:t(K,{fields:[ek.dataKeyDraftId],references:[K.uuid]}),alias:t(R,{fields:[ek.aliasId],references:[R.uuid]}),createdBy:t(ea,{fields:[ek.createdByUserId],references:[ea.userId]})}});let eB=(0,m.af)("nt_change_logs",{id:(0,N.eP)("id").primaryKey(),changeLogId:(0,h.Vj)("change_log_id").notNull().unique().defaultRandom(),version:(0,I._L)("version").notNull(),entityType:Q("entity_type").notNull(),entityId:(0,h.Vj)("entity_id").notNull(),parentVersion:(0,I._L)("parent_version"),mergedFromVersion:(0,I._L)("merged_from_version"),scriptId:(0,h.Vj)("script_id").references(()=>em.scriptId,{onDelete:"set null"}),screenId:(0,h.Vj)("screen_id").references(()=>eg.screenId,{onDelete:"set null"}),diagnosisId:(0,h.Vj)("diagnosis_id").references(()=>ev.diagnosisId,{onDelete:"set null"}),configKeyId:(0,h.Vj)("config_key_id").references(()=>ep.configKeyId,{onDelete:"set null"}),hospitalId:(0,h.Vj)("hospital_id").references(()=>en.hospitalId,{onDelete:"set null"}),drugsLibraryItemId:(0,h.Vj)("drugs_library_item_id").references(()=>eL.itemId,{onDelete:"set null"}),dataKeyId:(0,h.Vj)("data_key_id").references(()=>V.uuid,{onDelete:"set null"}),aliasId:(0,h.Vj)("alias_id").references(()=>R.uuid,{onDelete:"set null"}),action:G("action").notNull(),changes:(0,v.JB)("changes").$type().default([]).notNull(),fullSnapshot:(0,v.JB)("full_snapshot").$type().notNull(),previousSnapshot:(0,v.JB)("previous_snapshot").$type().default({}).notNull(),snapshotHash:(0,g.fL)("snapshot_hash"),description:(0,g.fL)("description").notNull().default(""),changeReason:(0,g.fL)("change_reason").notNull().default(""),isActive:(0,x.O7)("is_active").default(!0).notNull(),supersededBy:(0,I._L)("superseded_by"),supersededAt:(0,b.AB)("superseded_at"),userId:(0,h.Vj)("user_id").references(()=>ea.userId,{onDelete:"set null"}).notNull(),dateOfChange:(0,b.AB)("date_of_change").defaultNow().notNull(),createdAt:(0,b.AB)("created_at").defaultNow().notNull(),dataVersion:(0,I._L)("data_version")},e=>({uniqueVersionPerEntity:(0,j.o9)("unique_version_per_entity").on(e.entityType,e.entityId,e.version),activeVersionIndex:(0,j.Kz)("active_version_index").on(e.entityId,e.isActive),entityIndex:(0,j.Kz)("change_logs_entity_index").on(e.entityType,e.entityId),versionChainIndex:(0,j.Kz)("version_chain_index").on(e.entityId,e.parentVersion),userIndex:(0,j.Kz)("change_logs_user_index").on(e.userId),dateIndex:(0,j.Kz)("change_logs_date_index").on(e.dateOfChange),dataVersionIndex:(0,j.Kz)("change_logs_data_version_index").on(e.dataVersion)}));(0,f.lE)(eB,e=>{let{one:t}=e;return{user:t(ea,{fields:[eB.userId],references:[ea.userId],relationName:"changeLogUser"}),script:t(em,{fields:[eB.scriptId],references:[em.scriptId]}),screen:t(eg,{fields:[eB.screenId],references:[eg.screenId]}),diagnosis:t(ev,{fields:[eB.diagnosisId],references:[ev.diagnosisId]}),configKey:t(ep,{fields:[eB.configKeyId],references:[ep.configKeyId]}),hospital:t(en,{fields:[eB.hospitalId],references:[en.hospitalId]}),drugsLibraryItem:t(eL,{fields:[eB.drugsLibraryItemId],references:[eL.itemId]}),dataKey:t(V,{fields:[eB.dataKeyId],references:[V.uuid]}),alias:t(R,{fields:[eB.aliasId],references:[R.uuid]})}}),O.enumValues;let eV=M.enumValues,eK=H.enumValues;var eC=a(84190),eT=a(26815),eR=a(19060);function e$(e){let{filters:t,setFilters:a}=e,[n,d]=(0,u.Z)();return(0,l.jsx)("div",{ref:n,children:(0,l.jsxs)("div",{className:"flex flex-col gap-y-6",children:[(0,l.jsx)("div",{children:(0,l.jsxs)(eC.h_,{children:[(0,l.jsx)(eC.$F,{asChild:!0,children:(0,l.jsxs)(s.z,{disabled:!0,variant:"outline",className:"w-full",children:[t.scriptsTypes.length?t.scriptsTypes.length>1?"".concat(t.scriptsTypes.length," script types"):t.scriptsTypes[0]:"Select script types",(0,l.jsx)(o.Z,{className:"ml-auto h-4 w-4"})]})}),(0,l.jsxs)(eC.AW,{className:"max-h-[400px] overflow-y-auto",style:{width:d.width},children:[(0,l.jsx)(eC.Ju,{children:"Script types"}),(0,l.jsx)(eC.VD,{}),(0,l.jsx)("div",{className:" max-h-[400px] overflow-y-auto",children:eV.map(e=>{let n=t.scriptsTypes.includes(e);return(0,l.jsx)(eC.bO,{checked:n,onCheckedChange:()=>{a(t=>({scriptsTypes:n?t.scriptsTypes.filter(t=>t!==e):[...t.scriptsTypes,e]}))},children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})},e)})})]})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(eC.h_,{children:[(0,l.jsx)(eC.$F,{asChild:!0,children:(0,l.jsxs)(s.z,{disabled:!0,variant:"outline",className:"w-full",children:[t.screensTypes.length?t.screensTypes.length>1?"".concat(t.screensTypes.length," screen types"):t.screensTypes[0]:"Select screen types",(0,l.jsx)(o.Z,{className:"ml-auto h-4 w-4"})]})}),(0,l.jsxs)(eC.AW,{className:"max-h-[400px] overflow-y-auto",style:{width:d.width},children:[(0,l.jsx)(eC.Ju,{children:"Screen types"}),(0,l.jsx)(eC.VD,{}),(0,l.jsx)("div",{className:" max-h-[400px] overflow-y-auto",children:eK.map(e=>{let n=t.screensTypes.includes(e);return(0,l.jsx)(eC.bO,{checked:n,onCheckedChange:()=>{a(t=>({screensTypes:n?t.screensTypes.filter(t=>t!==e):[...t.screensTypes,e]}))},children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})},e)})})]})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(eT._,{htmlFor:"withImagesOnly",className:"flex items-center",children:[(0,l.jsx)(eR.X,{id:"withImagesOnly",checked:t.withImagesOnly,onCheckedChange:()=>a({withImagesOnly:!t.withImagesOnly})}),"\xa0 With images only"]})})]})})}var eU=a(96362),eS=a(27648),eq=a(66024),ez=a(94508),eJ=a(42004),eP=a(90740),eE=a(69304),eO=a(8272);function eF(e){let{children:t,...a}=e,{dataType:n,loadData:d}=a;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"h-[60px]"}),(0,l.jsxs)("div",{className:"   h-[60px]   border-b   fixed   top-0   left-0   w-full   px-4   flex   items-center   bg-white   z-10   gap-x-4   ",children:[(0,l.jsx)("div",{className:"text-xl",children:(0,eO.Z)(n)}),(0,l.jsx)("div",{className:"ml-auto"}),t,(0,l.jsxs)(eE.yo,{children:[(0,l.jsx)(eE.aM,{asChild:!0,children:(0,l.jsxs)(s.z,{variant:"outline",children:[(0,l.jsx)(eP.Z,{className:"h-4 w-4 mr-2"}),"Filters"]})}),(0,l.jsxs)(eE.ue,{className:"p-0 flex flex-col",children:[(0,l.jsxs)(eE.Tu,{className:"p-4",children:[(0,l.jsxs)(eE.bC,{children:["Filter ",n]}),(0,l.jsx)(eE.Ei,{children:""})]}),(0,l.jsx)("div",{className:"flex-1 px-4 overflow-y-auto",children:(0,l.jsx)(e$,{...a})}),(0,l.jsx)(eE.FF,{className:"p-4 border-t",children:(0,l.jsx)(eE.sw,{asChild:!0,children:(0,l.jsxs)(s.z,{className:"w-full mt-6",onClick:()=>d(),children:["Load ",a.dataType]})})})]})]})]})]})}function eZ(e){let{screens:t,screensColumns:a,setScreensColumns:n}=e,d=(0,i.useMemo)(()=>Object.keys({...t.data[0]}).map(e=>e),[t.data[0]]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eF,{...e,children:(0,l.jsxs)(eC.h_,{children:[(0,l.jsx)(eC.$F,{asChild:!0,children:(0,l.jsxs)(s.z,{variant:"outline",children:["Columns",(0,l.jsx)(o.Z,{className:"ml-auto h-4 w-4"})]})}),(0,l.jsxs)(eC.AW,{className:"max-h-[400px]",children:[(0,l.jsx)(eC.Ju,{children:"Screens"}),(0,l.jsx)(eC.VD,{}),(0,l.jsx)("div",{className:" max-h-[400px] overflow-y-auto",children:d.map(e=>{let t=a.includes(e);return(0,l.jsx)(eC.bO,{checked:t,onCheckedChange:()=>{n(a=>t?a.filter(t=>t!==e):[...a,e])},children:e},e)})})]})]})}),(0,l.jsx)(eq.DataTable,{columns:[{name:"Screen",cellClassName:"w-10",cellRenderer(e){let{value:t}=e;return(0,l.jsx)(eS.default,{target:"_blank",href:"".concat(t),children:(0,l.jsx)(eU.Z,{className:"text-primary w-4 h-4"})})}},...d.map(e=>({name:e,cellClassName:(0,ez.cn)("truncate max-w-[200px]",!a.includes(e)&&"hidden"),cellRenderer(a){let{value:n,rowIndex:d}=a,s=t.data[d],i=null;return("image1"===e&&(i=s.image1),"image2"===e&&(i=s.image2),"image3"===e&&(i=s.image3),i)?(0,l.jsx)("div",{className:"w-10 h-10",children:(0,l.jsx)(eJ.E,{alt:s.screenId,src:i.data})}):"scriptTitle"===e?(0,l.jsxs)(eS.default,{target:"_blank",href:"/script/".concat(s.scriptId),className:"flex items-center text-primary",children:[(0,l.jsx)(eU.Z,{className:"text-gray-400 w-4 h-4"}),"\xa0",n]}):n}}))],data:t.data.map(e=>["/script/".concat(e.scriptId,"/screen/").concat(e.screenId),...d.map(t=>{let a=e[t];return null!==a&&"object"==typeof a?typeof a:"".concat(a)})])})]})}function eM(e){let{diagnoses:t,diagnosesColumns:a,setDiagnosesColumns:n}=e,d=(0,i.useMemo)(()=>Object.keys({...t.data[0]}).map(e=>e),[t.data[0]]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eF,{...e,children:(0,l.jsxs)(eC.h_,{children:[(0,l.jsx)(eC.$F,{asChild:!0,children:(0,l.jsxs)(s.z,{variant:"outline",children:["Columns",(0,l.jsx)(o.Z,{className:"ml-auto h-4 w-4"})]})}),(0,l.jsxs)(eC.AW,{className:"max-h-[400px]",children:[(0,l.jsx)(eC.Ju,{children:"Diagnoses"}),(0,l.jsx)(eC.VD,{}),(0,l.jsx)("div",{className:" max-h-[400px] overflow-y-auto",children:d.map(e=>{let t=a.includes(e);return(0,l.jsx)(eC.bO,{checked:t,onCheckedChange:()=>{n(a=>t?a.filter(t=>t!==e):[...a,e])},children:e},e)})})]})]})}),(0,l.jsx)(eq.DataTable,{columns:[{name:"Screen",cellClassName:"w-10",cellRenderer(e){let{value:t}=e;return(0,l.jsx)(eS.default,{target:"_blank",href:"".concat(t),children:(0,l.jsx)(eU.Z,{className:"text-primary w-4 h-4"})})}},...d.map(e=>({name:e,cellClassName:(0,ez.cn)("truncate max-w-[200px]",!a.includes(e)&&"hidden"),cellRenderer(a){let{value:n,rowIndex:d}=a,s=t.data[d],i=null;return("image1"===e&&(i=s.image1),"image2"===e&&(i=s.image2),"image3"===e&&(i=s.image3),"scriptTitle"===e)?(0,l.jsxs)(eS.default,{target:"_blank",href:"/script/".concat(s.scriptId),className:"flex items-center text-primary",children:[(0,l.jsx)(eU.Z,{className:"text-gray-400 w-4 h-4"}),"\xa0",n]}):i?(0,l.jsx)("div",{className:"w-10 h-10",children:(0,l.jsx)(eJ.E,{alt:s.diagnosisId,src:i.data})}):n}}))],data:t.data.map(e=>["/script/".concat(e.scriptId,"/diagnosis/").concat(e.diagnosisId),...d.map(t=>{let a=e[t];return null!==a&&"object"==typeof a?typeof a:"".concat(a)})])})]})}function eH(e){let t=function(e){let[t,a]=(0,i.useState)(!1),[l,n]=(0,i.useState)(!1),[d,s]=(0,i.useState)({data:[]}),[o,u]=(0,i.useState)(["title"]),[c,f]=(0,i.useState)({data:[]}),[p,_]=(0,i.useState)(["title","image1","image2","image3","scriptTitle","hospitalName"]),[y,m]=(0,i.useState)({data:[]}),[N,h]=(0,i.useState)(["name","image1","image2","image3","scriptTitle","hospitalName"]),[g,I]=(0,i.useState)({screensIds:[],diagnosesIds:[],hospitalsIds:[],scriptsIds:[],screensTypes:[],scriptsTypes:[],withImagesOnly:!0,draftsOnly:!1}),[x,v]=(0,i.useState)(g),b=(0,i.useCallback)(e=>I(t=>({...t,..."function"==typeof e?e(t):e})),[]),j=(0,i.useMemo)(()=>!t||JSON.stringify(g)!==JSON.stringify(x),[g,x,t]),w=(0,i.useCallback)(async()=>{try{n(!0);let e={hospitalIds:g.hospitalsIds,returnDraftsIfExist:!0,scriptsIds:g.scriptsIds,withDeleted:!1},{errors:t,data:l}=(await r.Z.get("/api/scripts?data=".concat(JSON.stringify(e)))).data;if(null==t?void 0:t.length)throw Error(t.join(", "));s({data:l}),v(g),a(!0)}catch(e){alert(e.message)}finally{n(!1)}},[g]),L=(0,i.useCallback)(async()=>{try{n(!0);let e={scriptsIds:g.scriptsIds,screensIds:g.screensIds,returnDraftsIfExist:!0,withDeleted:!1,withImagesOnly:g.withImagesOnly},{errors:t,data:l}=(await r.Z.get("/api/screens?data=".concat(JSON.stringify(e)))).data;if(null==t?void 0:t.length)throw Error(t.join(", "));f({data:l}),v(g),a(!0)}catch(e){alert(e.message)}finally{n(!1)}},[g]),A=(0,i.useCallback)(async()=>{try{n(!0);let e={scriptsIds:g.scriptsIds,diagnosesIds:g.diagnosesIds,returnDraftsIfExist:!0,withDeleted:!1,withImagesOnly:g.withImagesOnly},{errors:t,data:l}=(await r.Z.get("/api/diagnoses?data=".concat(JSON.stringify(e)))).data;if(null==t?void 0:t.length)throw Error(t.join(", "));m({data:l}),v(g),a(!0)}catch(e){alert(e.message)}finally{n(!1)}},[g]),D=(0,i.useCallback)(()=>{"diagnoses"===e.dataType?A():"screens"===e.dataType?L():w()},[e.dataType,A,L,w]);return{...e,loading:l,scripts:d,screens:c,diagnoses:y,filters:g,canLoadData:j,dataInitialised:t,scriptsColumns:o,screensColumns:p,diagnosesColumns:N,setScriptsColumns:u,setScreensColumns:_,setDiagnosesColumns:h,loadData:D,setLoading:n,setScripts:s,setScreens:f,setDiagnoses:m,_setFilters:I,setFilters:b,loadScripts:w,loadScreens:L,loadDiagnoses:A}}(e),{loading:a,dataInitialised:o,canLoadData:u,loadData:c}=t;return(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)(d.a,{overlay:!0}),o?(0,l.jsxs)(l.Fragment,{children:["screens"===e.dataType&&(0,l.jsx)(eZ,{...t}),"diagnoses"===e.dataType&&(0,l.jsx)(eM,{...t})]}):(0,l.jsx)("div",{className:"fixed top-0 left-0 w-full h-full flex flex-col p-5 overflow-y-auto",children:(0,l.jsx)("div",{className:"m-auto w-full max-w-lg",children:(0,l.jsx)(n.Zb,{children:(0,l.jsxs)(n.aY,{children:[(0,l.jsxs)(n.Ol,{children:[(0,l.jsx)(n.ll,{children:"Filters"}),(0,l.jsxs)(n.SZ,{children:["Filter ",e.dataType]})]}),(0,l.jsx)(e$,{...e,...t}),(0,l.jsxs)(s.z,{className:"w-full mt-6",disabled:!u,onClick:()=>c(),children:["Load ",e.dataType]})]})})})})]})}},42004:function(e,t,a){"use strict";a.d(t,{E:function(){return d}});var l=a(57437),n=a(16107);function d(e){let{width:t=0,height:a=0,containerWidth:d,...s}=e;s.sizes;let i={width:"100%",height:"auto"};if(a&&t&&d){let e=(0,n.a)({imageWidth:t,imageHeight:a,containerWidth:d});i.width=e.imageWidth,i.height=e.imageHeight}return(0,l.jsx)("img",{...s,src:s.src,style:{...i,...s.style}})}},69711:function(e,t,a){"use strict";a.d(t,{a:function(){return d}});var l=a(57437),n=a(15001);function d(e){let{overlay:t,transparent:a,padding:d="50px 0"}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",...t?{height:"100%",position:"fixed",top:0,left:0,bottom:0,zIndex:999,backgroundColor:a?"transparent":"rgba(255,255,255,.6)"}:{padding:d}},children:(0,l.jsx)(n.Z,{style:{height:24,width:24},className:"animate-spin"})})})}},66070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return s},aY:function(){return u},eW:function(){return c},ll:function(){return r}});var l=a(57437),n=a(2265),d=a(94508);let s=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:t,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});s.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:t,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let r=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("h3",{ref:t,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});r.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("p",{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...n})});o.displayName="CardDescription";let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:t,className:(0,d.cn)("p-6 pt-0",a),...n})});u.displayName="CardContent";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)("div",{ref:t,className:(0,d.cn)("flex items-center p-6 pt-0",a),...n})});c.displayName="CardFooter"},26815:function(e,t,a){"use strict";a.d(t,{_:function(){return o}});var l=a(57437),n=a(2265),d=a(370),s=a(90535),i=a(94508);let r=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=n.forwardRef((e,t)=>{let{className:a,secondary:n,error:s,...o}=e;return(0,l.jsx)(d.f,{ref:t,className:(0,i.cn)(r(),n&&"text-xs",s?"text-danger":"",a),...o})});o.displayName=d.f.displayName},69304:function(e,t,a){"use strict";a.d(t,{Ei:function(){return g},FF:function(){return N},Tu:function(){return m},aM:function(){return u},bC:function(){return h},sw:function(){return c},ue:function(){return y},yo:function(){return o}});var l=a(57437),n=a(2265),d=a(70001),s=a(90535),i=a(32489),r=a(94508);let o=d.fC,u=d.xz,c=d.x8,f=d.h_,p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)(d.aV,{className:(0,r.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});p.displayName=d.aV.displayName;let _=(0,s.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),y=n.forwardRef((e,t)=>{let{side:a="right",className:n,children:s,hideCloseButton:o,...u}=e;return(0,l.jsxs)(f,{children:[(0,l.jsx)(p,{}),(0,l.jsxs)(d.VY,{ref:t,className:(0,r.cn)(_({side:a}),n),...u,children:[s,!0!==o&&(0,l.jsxs)(d.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,l.jsx)(i.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});y.displayName=d.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};m.displayName="SheetHeader";let N=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};N.displayName="SheetFooter";let h=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)(d.Dx,{ref:t,className:(0,r.cn)("text-lg font-semibold text-foreground",a),...n})});h.displayName=d.Dx.displayName;let g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)(d.dk,{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})});g.displayName=d.dk.displayName},30278:function(e,t,a){"use strict";a.d(t,{Uv:function(){return d},VO:function(){return n},d4:function(){return l},fR:function(){return i}});let l=[{value:"allSearches",label:"Found in all searches"},{value:"admissionSearches",label:"Found in admission searches"},{value:"twinSearches",label:"Found in twin searches"}],n=[{label:"Days & hours",value:"days_hours"},{label:"Years & Months",value:"years_months"}],d=[{name:"date",label:"Date"},{name:"datetime",label:"Date + Time"},{name:"dropdown",label:"Dropdown"},{name:"multi_select",label:"Multiple choice list"},{name:"number",label:"Number"},{name:"text",label:"Text"},{name:"time",label:"Time"},{name:"period",label:"Time period"}],s={calculation:null,condition:"",confidential:!1,dataType:null,defaultValue:null,format:null,type:null,key:null,refKey:null,label:null,minValue:null,maxValue:null,optional:!1,minDate:null,maxDate:null,minTime:null,maxTime:null,minDateKey:"",maxDateKey:"",minTimeKey:"",maxTimeKey:"",values:"",editable:!1},i={admission:[{...s,type:"dropdown",key:"BabyTransfered",values:"Y,Yes\nN,No",label:"Has the baby been transfered from another facility"},{...s,type:"text",key:"patientNUID",label:"Search patient's NUID",condition:"$BabyTransfered = 'Y'"},{...s,type:"dropdown",key:"BabyTwin",values:"Y,Yes\nN,No",label:"Does the baby have a twin?"},{...s,type:"text",key:"BabyTwinNUID",label:"Search twin's NUID",condition:"$BabyTwin = 'Y'"}],other:[{...s,type:"text",key:"patientNUID",values:"Y,Yes\nN,No",label:"Search patient's NUID"}]}},32405:function(e,t,a){"use strict";a.d(t,{$7:function(){return r},F4:function(){return _},PU:function(){return s},Tf:function(){return c},UQ:function(){return y},_S:function(){return i},m1:function(){return u},ph:function(){return f},uh:function(){return o},y0:function(){return p}});var l=a(30278),n=a(61281),d=a(10820);let s={headerFormat:"",headerFields:[],footerFields:[],sections:[]},i="Example: ($key = true and $key2 = false) or $key3 = 'HD'",r={fontSize:{},fontWeight:{},fontStyle:{},textColor:{},backgroundColor:{},highlight:{}},o=[{value:"screens",label:"Screens"},{value:"diagnoses",label:"Diagnoses"},{value:"print",label:"Print"}],u=[{label:"Admission",value:"admission"},{label:"Discharge",value:"discharge"},{label:"Neolab",value:"neolab"},{label:"Daily Record",value:"drecord"},{label:"DFF Calculator",value:"dff_calculator"}],c=[{value:"checklist",label:"Checklist"},{value:"form",label:"Form"},{value:"management",label:"Management"},{value:"multi_select",label:"Multiple choice list"},{value:"single_select",label:"Single choice list"},{value:"progress",label:"Progress"},{value:"timer",label:"Timer"},{value:"yesno",label:"Yes/No"},{value:"drugs",label:"Drugs"},{value:"fluids",label:"Fluids"},{value:"zw_edliz_summary_table",label:"EDLIZ summary table (ZW)"},{value:"mwi_edliz_summary_table",label:"EDLIZ summary table (MWI)"},{value:"diagnosis",label:"Diagnosis"}],f=[{value:"risk",label:"Risk factor"},{value:"sign",label:"Sign/Symptom"}];({...c.reduce((e,t)=>{let a=t.value,l=t.value,n=[l,"".concat(l,"_option")];return"single_select"===a&&(n=[...n,"dropdown","dropdown_option"]),{...e,[l]:n}},{}),...l.Uv.reduce((e,t)=>{let a=t.name,l=t.name,n=[l,"".concat(l,"_option")];return"dropdown"===a&&(n=[...n,"single_select","single_select_option"]),{...e,[l]:n}},{})});let p=[{value:"checklist",label:"checklist",hasChildren:!0},{value:"multi_select",label:"multi_select",hasChildren:!0},{value:"single_select",label:"single_select",hasChildren:!0},{value:"yesno",label:"yesno",hasChildren:!1},{value:"zw_edliz_summary_table",label:"zw_edliz_summary_table",hasChildren:!0},{value:"mwi_edliz_summary_table",label:"mwi_edliz_summary_table",hasChildren:!0},{value:"diagnosis",label:"diagnosis",hasChildren:!0},{value:"diagnosis_symptom_sign",label:"diagnosis_symptom_sign",hasChildren:!1},{value:"diagnosis_symptom_risk",label:"diagnosis_symptom_risk",hasChildren:!1},{value:"date",label:"date",hasChildren:!1},{value:"datetime",label:"datetime",hasChildren:!1},{value:"dropdown",label:"dropdown",hasChildren:!0},{value:"number",label:"number",hasChildren:!1},{value:"text",label:"text",hasChildren:!1},{value:"timer",label:"timer",hasChildren:!1},{value:"period",label:"period",hasChildren:!1},{value:"option",label:"option",hasChildren:!1}],_=[{value:"label.asc",label:"Label (asc)",Icon:n.Z},{value:"label.desc",label:"Label (desc)",Icon:d.Z},{value:"key.asc",label:"Key (asc)",Icon:n.Z},{value:"key.desc",label:"Key (desc)",Icon:d.Z},{value:"type.asc",label:"Type (asc)",Icon:n.Z},{value:"type.desc",label:"Type (desc)",Icon:d.Z},{value:"refId.asc",label:"Ref ID (asc)",Icon:n.Z},{value:"refId.desc",label:"Ref ID (desc)",Icon:d.Z},{value:"createdAt.asc",label:"Creation date (asc)",Icon:n.Z},{value:"createdAt.desc",label:"Creation date (desc)",Icon:d.Z},{value:"updatedAt.asc",label:"Update date (asc)",Icon:n.Z},{value:"updatedAt.desc",label:"Update date (desc)",Icon:d.Z}],y=[{label:"Published",value:"published"},{label:"Drafts",value:"drafts"}]},16107:function(e,t,a){"use strict";async function l(e){return new Promise((t,a)=>{let l=new Image;l.onload=function(){t({width:l.width,height:l.height})},l.onerror=function(e,t,l,n,d){a(d||Error("Failed to load image"))},l.src=e})}function n(e){let{imageWidth:t,imageHeight:a,containerWidth:l}=e;return t>l&&(a=l/t*a,t=l),{imageWidth:t,imageHeight:a}}a.d(t,{a:function(){return n},p:function(){return l}})},8272:function(e,t){"use strict";t.Z=e=>"".concat(e||"").charAt(0).toUpperCase()+"".concat(e||"").slice(1)}}]);