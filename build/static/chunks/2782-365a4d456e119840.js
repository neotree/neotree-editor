(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2782],{32782:function(e,s,i){Promise.resolve().then(i.bind(i,78528)),Promise.resolve().then(i.bind(i,50773)),Promise.resolve().then(i.bind(i,89884)),Promise.resolve().then(i.t.bind(i,72972,23))},78528:function(e,s,i){"use strict";i.d(s,{DiagnosisForm:function(){return K}});var n=i(57437),t=i(2265),l=i(99376),a=i(29501),r=i(62869),d=i(95186),o=i(76818),c=i(26815),u=i(6512),m=i(69711),h=i(94508),x=i(78968),p=i(94658),v=i(49360),g=i(83464),f=i(79976),y=i(98656),j=i(67132),b=i(32405),w=i(24959),I=i(73526),N=i(22381),D=i(72839),k=i(20657),C=i(99397),F=i(71533),S=i(15868),M=i(27413),T=i(66024),z=i(26110),R=i(84190),_=i(86180),E=i(82425);function O(e){let{disabled:s,selected:i,onDelete:t,onCopy:l}=e;return(0,n.jsx)(n.Fragment,{children:!!i.length&&(0,n.jsx)(E.h,{children:(0,n.jsxs)(r.z,{variant:"destructive",className:"h-auto w-auto",disabled:s,onClick:()=>t(),children:[(0,n.jsx)(M.Z,{className:"h-4 w-4 mr-1"}),(0,n.jsx)("span",{children:i.length>1?"Delete ".concat(i.length," symptoms"):"Delete symptom"})]})})})}var V=i(9699),Z=i(74991),P=i(19060),U=i(94790),q=i(45617);function A(e){let{children:s,symptom:i,form:l,disabled:o,...u}=e,{data:m,index:x}={...i},[g,f]=(0,t.useState)(!1),y=(0,t.useCallback)(()=>({...m,symptomId:(null==m?void 0:m.symptomId)||(0,v.Z)(),expression:(null==m?void 0:m.expression)||"",name:(null==m?void 0:m.name)||"",key:(null==m?void 0:m.key)||"",keyId:(null==m?void 0:m.keyId)||"",weight:(null==m?void 0:m.weight)||null,type:(null==m?void 0:m.type)||b.ph[0].value,position:(null==m?void 0:m.position)||1,printable:!!(null==m?void 0:m.printable)}),[m]),{control:j,reset:w,watch:I,register:N,handleSubmit:D,setValue:k}=(0,a.cI)({defaultValues:y()}),C=I("type"),F=I("name"),S=I("printable"),M=(0,t.useMemo)(()=>!!o,[o]),T=D(e=>{!(0,U.x)(x)&&m?l.setValue("symptoms",l.getValues("symptoms").map((s,i)=>({...s,...i===x?e:null}))):l.setValue("symptoms",[...l.getValues("symptoms"),e],{shouldDirty:!0}),f(!1)});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(V.u,{open:g,title:m?"Add symptom":"Edit symptom",trigger:"function"==typeof s?s({extraProps:u}):s,onOpenChange:e=>{f(e),w(y())},actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:(0,h.cn)("text-danger text-xs",M&&"hidden"),children:"* Required"}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)(z.GG,{asChild:!0,children:(0,n.jsx)(r.z,{variant:"ghost",children:"Cancel"})}),(0,n.jsx)(r.z,{disabled:M,onClick:()=>T(),children:"Save"})]}),children:(0,n.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,n.jsx)(q.D,{children:"Type"}),(0,n.jsx)("div",{children:(0,n.jsx)(Z.E,{disabled:M,defaultValue:C,onValueChange:e=>k("type",e,{shouldDirty:!0}),className:"flex flex-col gap-y-4",children:b.ph.map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(Z.m,{value:e.value,id:e.value}),(0,n.jsx)(c._,{secondary:!0,htmlFor:e.value,children:e.label})]},e.value))})}),(0,n.jsx)(q.D,{children:"Properties"}),(0,n.jsx)("div",{children:(0,n.jsx)(a.Qr,{control:j,name:"key",render:e=>{let{field:{value:s,onChange:i}}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c._,{htmlFor:"key",error:!M&&!s,children:"Key *"}),(0,n.jsx)(p.L,{value:"".concat(s||""),disabled:!1,onChange:e=>{let[s]=e;i(s.name),k("name",null==s?void 0:s.label,{shouldDirty:!0}),k("keyId",null==s?void 0:s.uniqueKey,{shouldDirty:!0})}})]})}})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c._,{error:!M&&!F,htmlFor:"name",children:"Name *"}),(0,n.jsx)(d.I,{...N("name",{disabled:M,required:!0}),name:"name",error:!M&&!F})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c._,{htmlFor:"weight",children:"Weight "}),(0,n.jsx)(d.I,{...N("weight",{disabled:M}),name:"weight",type:"number"}),(0,n.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Must be in the range: 0.0 - 1.0 (",(0,n.jsx)("b",{children:"default 1.0"}),")"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c._,{htmlFor:"expression",children:"Sign/Risk expression "}),(0,n.jsx)(d.I,{...N("expression",{disabled:M}),name:"expression"}),(0,n.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Example: ",(0,n.jsx)("b",{children:b._S})]})]}),(0,n.jsx)(q.D,{children:"Print"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[(0,n.jsx)(P.X,{id:"printable",disabled:M,checked:S,onCheckedChange:()=>k("printable",!S,{shouldDirty:!0})}),(0,n.jsx)(c._,{htmlFor:"printable",children:"Print"})]}),(0,n.jsx)("span",{className:"text-muted-foreground text-xs",children:"If not checked, data will not be display on the session summary and the printout."})]})]})})})}function $(e){let{form:s,disabled:i}=e,l=(0,t.useRef)(null),[a,d]=(0,t.useState)([]),{confirm:o}=(0,_.t)(),c=s.watch("symptoms"),u=(0,t.useCallback)((e,i)=>{let n=(0,k.q)([...c],e,i);s.setValue("symptoms",n.map((e,s)=>({...e,position:s+1})),{shouldDirty:!0})},[s,c]),m=(0,t.useCallback)(e=>{let i=c.filter((s,i)=>e.includes(i)).map(e=>'<div class="font-bold text-danger">'.concat(e.name,"</div>")).join("");o(()=>{let i=c.filter((s,i)=>!e.includes(i));s.setValue("symptoms",i.map((e,s)=>({...e,position:s+1})),{shouldDirty:!0}),d([])},{title:"Delete",message:"<p>Are you sure you want to delete ".concat(e.length>1?"".concat(e.length," symptoms: "):"symptom: ","</p> ").concat(i),danger:!0,positiveLabel:"Delete"})},[s,c,o]),x=(0,t.useCallback)(e=>{let i=c.filter((s,i)=>e.includes(i)).map(e=>'<div class="font-bold">'.concat(e.name,"</div>")).join("");o(()=>{let i=[...c,...c.filter((s,i)=>e.includes(i)).map((e,s)=>({...e,position:c.length+1+s}))];s.setValue("symptoms",i.map((e,s)=>({...e,position:s+1})),{shouldDirty:!0}),d([])},{title:"Duplicate",message:"<p>Are you sure you want to duplicate ".concat(e.length>1?"".concat(e.length," symptoms: "):"symptom: ","</p> ").concat(i),positiveLabel:"Duplicate"})},[s,c,o]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{ref:l}),(0,n.jsx)(T.DataTable,{title:"Symptoms",sortable:!i,selectable:!i,onSort:u,selectedIndexes:a,onSelect:d,search:{inputPlaceholder:"Search symptoms"},headerActions:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(A,{form:s,disabled:i,children:!i&&(0,n.jsx)(z.hg,{asChild:!0,children:(0,n.jsxs)(r.z,{className:"text-primary border-primary",variant:"outline",children:[(0,n.jsx)(C.Z,{className:"h-4 w-4 mr-1"}),"New symptom"]})})})}),columns:[{name:"Type"},{name:"Name"},{name:"Action",align:"right",cellRenderer(e){let{rowIndex:t}=e,a=c[t];return(0,n.jsxs)(R.h_,{children:[(0,n.jsx)(R.$F,{asChild:!0,children:(0,n.jsx)(r.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:(0,n.jsx)(F.Z,{className:"h-4 w-4"})})}),(0,n.jsxs)(R.AW,{children:[(0,n.jsx)(R.Xi,{asChild:!0,children:(0,n.jsx)(A,{disabled:i,form:s,symptom:{data:a,index:t},children:e=>{let{extraProps:s}=e;return(0,n.jsxs)(z.hg,{...s,className:(0,h.cn)(null==s?void 0:s.className,"w-full"),children:[(0,n.jsx)(S.Z,{className:"w-4 h-4 mr-2"}),(0,n.jsx)("span",{children:i?"View":"Edit"})]})}})}),(0,n.jsxs)(R.Xi,{onClick:()=>{var e,s;null===(s=l.current)||void 0===s||null===(e=s.click)||void 0===e||e.call(s),setTimeout(()=>m([t]),0)},className:(0,h.cn)("text-danger focus:bg-danger focus:text-danger-foreground"),disabled:i,children:[(0,n.jsx)(M.Z,{className:"mr-2 h-4 w-4"}),(0,n.jsx)("span",{children:"Delete"})]})]})]})}}],data:c.map(e=>[e.type,e.name,""])}),!i&&(0,n.jsx)(O,{disabled:i,selected:a,onDelete:()=>m(a),onCopy:()=>x(a)})]})}var W=i(12819);function K(e){var s,i;let k=(0,l.useRouter)(),C=function(e){let{formData:s,scriptId:i,script:n}=e,r=(0,l.useRouter)(),[d,o]=(0,t.useState)(!1),{saveDiagnoses:c}=(0,f.h)(),{alert:u}=(0,y.s)(),{viewOnly:m,authenticatedUser:h}=(0,j.b)(),x=(0,t.useMemo)(()=>"/script/".concat(i,"?section=diagnoses"),[i]),p=!(null==s?void 0:s.diagnosisId),D=(0,t.useCallback)(()=>"undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():(0,v.Z)(),[]),k=(0,t.useRef)((null==s?void 0:s.diagnosisId)?(0,N.$u)({entityId:s.diagnosisId,entityType:"diagnosis",userId:null==h?void 0:h.userId,userName:null==h?void 0:h.displayName,entityTitle:(null==s?void 0:s.name)||(null==s?void 0:s.key)||"Diagnosis",resolveEntityTitle:e=>(null==e?void 0:e.name)||(null==e?void 0:e.key)||(null==e?void 0:e.description)}):null),C=(0,t.useRef)(null),F=(0,t.useCallback)(()=>({version:(null==s?void 0:s.version)||1,scriptId:(null==s?void 0:s.scriptId)||i,diagnosisId:(null==s?void 0:s.diagnosisId)||D(),name:(null==s?void 0:s.name)||"",description:(null==s?void 0:s.description)||"",key:(null==s?void 0:s.key)||"",keyId:(null==s?void 0:s.keyId)||"",expression:(null==s?void 0:s.expression)||"",expressionMeaning:(null==s?void 0:s.expressionMeaning)||"",severityOrder:(null==s?void 0:s.severityOrder)||null,symptoms:(null==s?void 0:s.symptoms)||[],text1:(null==s?void 0:s.text1)||"",text2:(null==s?void 0:s.text2)||"",text3:(null==s?void 0:s.text3)||"",image1:(null==s?void 0:s.image1)||null,image2:(null==s?void 0:s.image2)||null,image3:(null==s?void 0:s.image3)||null,preferences:(null==s?void 0:s.preferences)||b.$7}),[s,i,D]),S=(0,a.cI)({defaultValues:F()});(0,t.useEffect)(()=>{k.current&&s&&!C.current&&(C.current=s,k.current.setSnapshot(s))},[s]);let{formState:{dirtyFields:M},handleSubmit:T}=S,z=(0,t.useMemo)(()=>!!Object.keys(M).length,[M]),R=T(async e=>{try{var s;o(!0);let i=e.diagnosisId||D(),n={...e,diagnosisId:i,severityOrder:e.severityOrder?Number(e.severityOrder):null};if(!n.scriptId)throw Error("Diagnosis is missing script reference!");let t=(await g.Z.post("/api/diagnoses/save",{data:[n],broadcastAction:!0})).data;if(null===(s=t.errors)||void 0===s?void 0:s.length)throw Error(t.errors.join(", "));p?await I.pb.addChange({entityType:"diagnosis",entityId:i,entityTitle:n.name||n.key||"Untitled Diagnosis",action:"create",fieldPath:"diagnosis",fieldName:"New Diagnosis",oldValue:null,newValue:n.name||"Untitled Diagnosis",userId:null==h?void 0:h.userId,userName:null==h?void 0:h.displayName,fullSnapshot:n}):k.current&&C.current&&await k.current.trackChanges(n,"Diagnosis draft saved"),r.refresh(),u({variant:"success",message:"Diagnosis draft was saved successfully!",onClose:()=>r.push(x)})}catch(e){u({variant:"error",message:"Failed to save draft: "+e.message})}finally{o(!1)}}),_=(0,w.v)({isDraft:!!(null==s?void 0:s.isDraft),userId:null==s?void 0:s.draftCreatedByUserId}),E=(null==n?void 0:n.draftCreatedByUserId)||(null==n?void 0:n.itemsChangedByUserId),O=(0,w.v)({isDraft:!!(null==n?void 0:n.isDraft)||!!(null==n?void 0:n.hasChangedItems),userId:E}),V=(0,t.useMemo)(()=>d||m||_||O,[d,m,_,O]);return{...S,formIsDirty:z,saving:d,scriptPageHref:x,disabled:V,isLocked:_,isScriptLocked:O,scriptLockedByUserId:E,save:R,getDefaultValues:F}}(e),{isLocked:F,control:S,saving:M,scriptPageHref:T,disabled:z,isScriptLocked:R,scriptLockedByUserId:_,register:E,watch:O,setValue:V,save:Z}=C,P=O("name"),U=O("key"),q=O("image1"),A=O("image2"),K=O("image3"),L=O("preferences"),Q=(0,t.useCallback)(()=>{k.push(T)},[k,T]);return(0,n.jsxs)(n.Fragment,{children:[M&&(0,n.jsx)(m.a,{overlay:!0}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-5 [&>*]:px-4",children:[(F||R)&&(0,n.jsx)("div",{children:(0,n.jsx)(W.O,{card:!0,isDraft:!!(null===(s=e.formData)||void 0===s?void 0:s.isDraft)||R,userId:(null===(i=e.formData)||void 0===i?void 0:i.draftCreatedByUserId)||_,dataType:"diagnosis"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c._,{htmlFor:"key",error:!z&&!U,children:"Key *"}),(0,n.jsx)(a.Qr,{control:S,name:"key",render:e=>{let{field:{value:s,onChange:i}}=e;return(0,n.jsx)(p.L,{value:"".concat(s||""),disabled:!1,onChange:e=>{let[s]=e;i(s.name),V("name",null==s?void 0:s.label,{shouldDirty:!0}),V("keyId",null==s?void 0:s.uniqueKey,{shouldDirty:!0})}})}})]}),(0,n.jsxs)("div",{className:"flex gap-x-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(c._,{htmlFor:"severityOrder",children:"Severity order"}),(0,n.jsx)(d.I,{...E("severityOrder",{disabled:z}),name:"severityOrder",noRing:!1,type:"number"})]}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)(c._,{htmlFor:"name",error:!z&&!P,children:"Name *"}),(0,n.jsx)(d.I,{...E("name",{disabled:z,required:!0}),name:"name",noRing:!1,error:!z&&!P})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c._,{htmlFor:"description",children:"Description"}),(0,n.jsx)(d.I,{...E("description",{disabled:z}),name:"description",noRing:!1}),(0,n.jsx)(x.w,{id:"description",title:"Description",disabled:z,data:L,onSave:e=>V("preferences",e,{shouldDirty:!0})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c._,{htmlFor:"expression",children:"Diagnosis expression (e.g. $Temp > 37 or $Gestation < 20)"}),(0,n.jsx)(d.I,{...E("expression",{disabled:z}),name:"expression",noRing:!1})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(c._,{htmlFor:"expressionMeaning",children:"Diagnosis expression (e.g. Temperature greater than 37 or Gestation period less than 20 weeks)"}),(0,n.jsx)(d.I,{...E("expressionMeaning",{disabled:z}),name:"expressionMeaning",noRing:!1})]}),[["text1",q],["text2",A],["text3",K]].map((e,s)=>{let[i,l]=e,a="image".concat(s+1);return(0,n.jsx)(t.Fragment,{children:(0,n.jsxs)("div",{className:"flex gap-x-4",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)(c._,{htmlFor:"imageTextFields.".concat(s,".text"),children:["Text ",s+1]}),(0,n.jsx)(o.g,{...E(i,{disabled:z}),name:"text".concat(s+1),noRing:!1,rows:5}),(0,n.jsx)(x.w,{id:i,title:"Text ".concat(s+1),disabled:z,data:L,onSave:e=>V("preferences",e,{shouldDirty:!0})})]}),(0,n.jsx)(D.M,{disabled:z,image:l,onChange:e=>V(a,e,{shouldDirty:!0})})]})},"imageTextFields.".concat(s))})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-x-2 py-6 px-4",children:[(0,n.jsx)("span",{className:(0,h.cn)("text-danger text-xs",z&&"hidden"),children:"* Required"}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsx)(r.z,{variant:"ghost",onClick:()=>Q(),children:"Cancel"}),(0,n.jsx)(r.z,{disabled:z,onClick:()=>Z(),children:"Save Draft"})]}),(0,n.jsx)(u.Separator,{className:"my-20"}),(0,n.jsx)("div",{children:(0,n.jsx)($,{disabled:z,form:C})})]})}},72839:function(e,s,i){"use strict";i.d(s,{M:function(){return m}});var n=i(57437),t=i(99397),l=i(27413),a=i(55122),r=i(78062),d=i(62869),o=i(86180),c=i(42004),u=i(70465);function m(e){let{image:s,disabled:i,onChange:m}=e,h=(0,u.Y)(),[x,{width:p}]=(0,a.Z)(),{confirm:v}=(0,o.t)(),g="".concat((null==s?void 0:s.data)||"").split("?").filter((e,s)=>s).join(""),{width:f,height:y}=r.Z.parse(g);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{ref:x,className:"flex flex-col gap-y-2 min-w-60 max-w-60",children:[(0,n.jsx)("div",{className:"w-full flex flex-col items-center justify-center min-h-28",children:(0,n.jsx)(c.E,{alt:"",width:Number(f||"0"),height:Number(y||"0"),containerWidth:p,src:(null==s?void 0:s.data)||"/images/placeholder.png"})}),(0,n.jsxs)("div",{className:"flex items-center justify-center gap-x-4",children:[(0,n.jsx)(d.z,{size:"icon",className:"w-8 h-8 rounded-full",disabled:i,onClick:()=>h.openModal({onSelectFiles(e){let[s]=e;m({data:s.url,fileId:s.fileId,filename:s.filename,size:s.size,contentType:s.contentType})}}),children:(0,n.jsx)(t.Z,{className:"h-4 w-4"})}),!!s&&(0,n.jsx)(d.z,{variant:"destructive",size:"icon",className:"w-8 h-8 rounded-full",disabled:i,onClick:()=>v(()=>m(null),{title:"Delete image",message:"Are you sure you want to delete this image?",danger:!0}),children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})]})]})})}},42004:function(e,s,i){"use strict";i.d(s,{E:function(){return l}});var n=i(57437),t=i(16107);function l(e){let{width:s=0,height:i=0,containerWidth:l,...a}=e;a.sizes;let r={width:"100%",height:"auto"};if(i&&s&&l){let e=(0,t.a)({imageWidth:s,imageHeight:i,containerWidth:l});r.width=e.imageWidth,r.height=e.imageHeight}return(0,n.jsx)("img",{...a,src:a.src,style:{...r,...a.style}})}},94658:function(e,s,i){"use strict";i.d(s,{L:function(){return r}});var n=i(57437),t=i(2265),l=i(51383),a=i(68577);function r(e){let{value:s,type:i,disabled:r,modal:d,multiple:o,placeholder:c,error:u,onChange:m,filterDataKeys:h}=e,{allDataKeys:x,extractDataKeys:p}=(0,a.M)(),v=(0,t.useMemo)(()=>{let e=x;return i&&""!==i.trim()&&(e=e.filter(e=>e.dataType===i)),h&&(e=e.filter(h)),e.map(e=>({label:e.name,value:e.uniqueKey,caption:e.dataType||"",description:e.label}))},[x,i,h]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.V,{multiple:o,modal:d,error:u,placeholder:"".concat(s||"")||c||"Select key",search:{placeholder:"Search data keys"},options:v,onSelect:e=>{let s=p(e.map(e=>e.value)).map(e=>({...e,children:p(e.options)}));null==m||m(s)}})})}},6512:function(e,s,i){"use strict";i.d(s,{Separator:function(){return r}});var n=i(57437),t=i(2265),l=i(90759),a=i(94508);let r=t.forwardRef((e,s)=>{let{className:i,orientation:t="horizontal",decorative:r=!0,...d}=e;return(0,n.jsx)(l.f,{ref:s,decorative:r,orientation:t,className:(0,a.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",i),...d})});r.displayName=l.f.displayName},70465:function(e,s,i){"use strict";i.d(s,{Y:function(){return l}});var n=i(59625),t=i(83464);let l=(0,n.Ue)((e,s)=>{let i=async i=>{try{let{reset:n,...l}={...i};n&&(l.page=1),e({loading:!0,unhandledErrors:[]});let{data:a,errors:r,totalPages:d,totalRows:o,page:c}=(await t.Z.get("/api/files?data=".concat(JSON.stringify({...l,limit:l.limit||s().limit,page:l.page||s().page})))).data;if(null==r?void 0:r.length)e({unhandledErrors:r});else{let i=n?a:[...s().files,...a];i=i.filter((e,s)=>s===i.map(e=>e.fileId).indexOf(e.fileId)),l.siteId&&l.siteId!==s().siteId&&(i=a),e({files:i,totalPages:d,totalRows:o,page:c,siteId:l.siteId||s().siteId,lastFilesQueryDate:a.length?new Date:null})}}catch(s){e({unhandledErrors:[s.message]})}finally{e({loading:!1})}};return{isModalOpen:!1,loading:!1,siteId:"",files:[],unhandledErrors:[],lastFilesQueryDate:null,page:1,limit:15,totalPages:1,totalRows:0,onSelectFiles:null,selectMultiple:!1,getFiles:i,openModal(n){e({onSelectFiles:(null==n?void 0:n.onSelectFiles)||null,isModalOpen:!0}),s().lastFilesQueryDate||i()},closeModal:()=>e({isModalOpen:!1})}})},16107:function(e,s,i){"use strict";async function n(e){return new Promise((s,i)=>{let n=new Image;n.onload=function(){s({width:n.width,height:n.height})},n.onerror=function(e,s,n,t,l){i(l||Error("Failed to load image"))},n.src=e})}function t(e){let{imageWidth:s,imageHeight:i,containerWidth:n}=e;return s>n&&(i=n/s*i,s=n),{imageWidth:s,imageHeight:i}}i.d(s,{a:function(){return t},p:function(){return n}})},90759:function(e,s,i){"use strict";i.d(s,{f:function(){return c}});var n=i(2265);i(54887);var t=i(37053),l=i(57437),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,t.Z8)(`Primitive.${s}`),a=n.forwardRef((e,n)=>{let{asChild:t,...a}=e,r=t?i:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(r,{...a,ref:n})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{}),r="horizontal",d=["horizontal","vertical"],o=n.forwardRef((e,s)=>{let{decorative:i,orientation:n=r,...t}=e,o=d.includes(n)?n:r;return(0,l.jsx)(a.div,{"data-orientation":o,...i?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...t,ref:s})});o.displayName="Separator";var c=o}}]);