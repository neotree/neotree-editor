(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7289],{83898:function(e,t,n){Promise.resolve().then(n.bind(n,45427)),Promise.resolve().then(n.bind(n,95229)),Promise.resolve().then(n.bind(n,25704)),Promise.resolve().then(n.t.bind(n,231,23))},45427:function(e,t,n){"use strict";n.d(t,{DiagnosisForm:function(){return W}});var s=n(57437),i=n(2265),r=n(16463),l=n(39343),a=n(50495),o=n(83102),d=n(93146),c=n(67135),u=n(64344),m=n(39661),h=n(37440),p=n(87861),x=n(80852),f=n(20920),v=n(38472),g=n(15701),y=n(53699),j=n(17647),b=n(83146),w=n(71239),k=n(20021),N=n(12599),D=n(92513),I=n(45188),C=n(6649),F=n(90399),R=n(44380),E=n(90837),M=n(46910),S=n(76230),z=n(17501);function O(e){let{disabled:t,selected:n,onDelete:i,onCopy:r}=e;return(0,s.jsx)(s.Fragment,{children:!!n.length&&(0,s.jsx)(z.h,{children:(0,s.jsxs)(a.z,{variant:"destructive",className:"h-auto w-auto",disabled:t,onClick:()=>i(),children:[(0,s.jsx)(F.Z,{className:"h-4 w-4 mr-1"}),(0,s.jsx)("span",{children:n.length>1?"Delete ".concat(n.length," symptoms"):"Delete symptom"})]})})})}var V=n(74709),_=n(85070),Z=n(86466),P=n(21453),T=n(84760);function A(e){let{children:t,symptom:n,form:r,disabled:d,...u}=e,{data:m,index:p}={...n},[v,g]=(0,i.useState)(!1),y=(0,i.useCallback)(()=>({...m,symptomId:(null==m?void 0:m.symptomId)||(0,f.Z)(),expression:(null==m?void 0:m.expression)||"",name:(null==m?void 0:m.name)||"",key:(null==m?void 0:m.key)||"",keyId:(null==m?void 0:m.keyId)||"",weight:(null==m?void 0:m.weight)||null,type:(null==m?void 0:m.type)||b.ph[0].value,position:(null==m?void 0:m.position)||1,printable:!!(null==m?void 0:m.printable)}),[m]),{control:j,reset:w,watch:k,register:N,handleSubmit:D,setValue:I}=(0,l.cI)({defaultValues:y()}),C=k("type"),F=k("name"),R=k("printable"),M=(0,i.useMemo)(()=>!!d,[d]),S=D(e=>{!(0,P.x)(p)&&m?r.setValue("symptoms",r.getValues("symptoms").map((t,n)=>({...t,...n===p?e:null}))):r.setValue("symptoms",[...r.getValues("symptoms"),e],{shouldDirty:!0}),g(!1)});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(V.u,{open:v,title:m?"Add symptom":"Edit symptom",trigger:"function"==typeof t?t({extraProps:u}):t,onOpenChange:e=>{g(e),w(y())},actions:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:(0,h.cn)("text-danger text-xs",M&&"hidden"),children:"* Required"}),(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsx)(E.GG,{asChild:!0,children:(0,s.jsx)(a.z,{variant:"ghost",children:"Cancel"})}),(0,s.jsx)(a.z,{disabled:M,onClick:()=>S(),children:"Save"})]}),children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,s.jsx)(T.D,{children:"Type"}),(0,s.jsx)("div",{children:(0,s.jsx)(_.E,{disabled:M,defaultValue:C,onValueChange:e=>I("type",e,{shouldDirty:!0}),className:"flex flex-col gap-y-4",children:b.ph.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(_.m,{value:e.value,id:e.value}),(0,s.jsx)(c._,{secondary:!0,htmlFor:e.value,children:e.label})]},e.value))})}),(0,s.jsx)(T.D,{children:"Properties"}),(0,s.jsx)("div",{children:(0,s.jsx)(l.Qr,{control:j,name:"key",render:e=>{let{field:{value:t,onChange:n}}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c._,{htmlFor:"key",error:!M&&!t,children:"Key *"}),(0,s.jsx)(x.L,{value:"".concat(t||""),disabled:!1,onChange:e=>{let[t]=e;n(t.name),I("name",null==t?void 0:t.label,{shouldDirty:!0}),I("keyId",null==t?void 0:t.uniqueKey,{shouldDirty:!0})}})]})}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c._,{error:!M&&!F,htmlFor:"name",children:"Name *"}),(0,s.jsx)(o.I,{...N("name",{disabled:M,required:!0}),name:"name",error:!M&&!F})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c._,{htmlFor:"weight",children:"Weight "}),(0,s.jsx)(o.I,{...N("weight",{disabled:M}),name:"weight",type:"number"}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Must be in the range: 0.0 - 1.0 (",(0,s.jsx)("b",{children:"default 1.0"}),")"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c._,{htmlFor:"expression",children:"Sign/Risk expression "}),(0,s.jsx)(o.I,{...N("expression",{disabled:M}),name:"expression"}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Example: ",(0,s.jsx)("b",{children:b._S})]})]}),(0,s.jsx)(T.D,{children:"Print"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[(0,s.jsx)(Z.X,{id:"printable",disabled:M,checked:R,onCheckedChange:()=>I("printable",!R,{shouldDirty:!0})}),(0,s.jsx)(c._,{htmlFor:"printable",children:"Print"})]}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:"If not checked, data will not be display on the session summary and the printout."})]})]})})})}function L(e){let{form:t,disabled:n}=e,r=(0,i.useRef)(null),[l,o]=(0,i.useState)([]),{confirm:d}=(0,S.t)(),c=t.watch("symptoms"),u=(0,i.useCallback)((e,n)=>{let s=(0,N.q)([...c],e,n);t.setValue("symptoms",s.map((e,t)=>({...e,position:t+1})),{shouldDirty:!0})},[t,c]),m=(0,i.useCallback)(e=>{let n=c.filter((t,n)=>e.includes(n)).map(e=>'<div class="font-bold text-danger">'.concat(e.name,"</div>")).join("");d(()=>{let n=c.filter((t,n)=>!e.includes(n));t.setValue("symptoms",n.map((e,t)=>({...e,position:t+1})),{shouldDirty:!0}),o([])},{title:"Delete",message:"<p>Are you sure you want to delete ".concat(e.length>1?"".concat(e.length," symptoms: "):"symptom: ","</p> ").concat(n),danger:!0,positiveLabel:"Delete"})},[t,c,d]),p=(0,i.useCallback)(e=>{let n=c.filter((t,n)=>e.includes(n)).map(e=>'<div class="font-bold">'.concat(e.name,"</div>")).join("");d(()=>{let n=[...c,...c.filter((t,n)=>e.includes(n)).map((e,t)=>({...e,position:c.length+1+t}))];t.setValue("symptoms",n.map((e,t)=>({...e,position:t+1})),{shouldDirty:!0}),o([])},{title:"Duplicate",message:"<p>Are you sure you want to duplicate ".concat(e.length>1?"".concat(e.length," symptoms: "):"symptom: ","</p> ").concat(n),positiveLabel:"Duplicate"})},[t,c,d]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{ref:r}),(0,s.jsx)(R.DataTable,{title:"Symptoms",sortable:!n,selectable:!n,onSort:u,selectedIndexes:l,onSelect:o,search:{inputPlaceholder:"Search symptoms"},headerActions:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(A,{form:t,disabled:n,children:!n&&(0,s.jsx)(E.hg,{asChild:!0,children:(0,s.jsxs)(a.z,{className:"text-primary border-primary",variant:"outline",children:[(0,s.jsx)(D.Z,{className:"h-4 w-4 mr-1"}),"New symptom"]})})})}),columns:[{name:"Type"},{name:"Name"},{name:"Action",align:"right",cellRenderer(e){let{rowIndex:i}=e,l=c[i];return(0,s.jsxs)(M.h_,{children:[(0,s.jsx)(M.$F,{asChild:!0,children:(0,s.jsx)(a.z,{variant:"ghost",size:"icon",className:"p-0 h-auto w-auto transition-colors rounded-full hover:text-primary hover:bg-transparent",children:(0,s.jsx)(I.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(M.AW,{children:[(0,s.jsx)(M.Xi,{asChild:!0,children:(0,s.jsx)(A,{disabled:n,form:t,symptom:{data:l,index:i},children:e=>{let{extraProps:t}=e;return(0,s.jsxs)(E.hg,{...t,className:(0,h.cn)(null==t?void 0:t.className,"w-full"),children:[(0,s.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),(0,s.jsx)("span",{children:n?"View":"Edit"})]})}})}),(0,s.jsxs)(M.Xi,{onClick:()=>{var e,t;null===(t=r.current)||void 0===t||null===(e=t.click)||void 0===e||e.call(t),setTimeout(()=>m([i]),0)},className:(0,h.cn)("text-danger focus:bg-danger focus:text-danger-foreground"),disabled:n,children:[(0,s.jsx)(F.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Delete"})]})]})]})}}],data:c.map(e=>[e.type,e.name,""])}),!n&&(0,s.jsx)(O,{disabled:n,selected:l,onDelete:()=>m(l),onCopy:()=>p(l)})]})}var q=n(12832);function W(e){var t,n;let N=(0,r.useRouter)(),D=function(e){let{formData:t,scriptId:n,script:s}=e,a=(0,r.useRouter)(),[o,d]=(0,i.useState)(!1),{saveDiagnoses:c}=(0,g.h)(),{alert:u}=(0,y.s)(),{viewOnly:m}=(0,j.b)(),h=(0,i.useMemo)(()=>"/script/".concat(n,"?section=diagnoses"),[n]),p=(0,i.useCallback)(()=>({version:(null==t?void 0:t.version)||1,scriptId:(null==t?void 0:t.scriptId)||n,diagnosisId:(null==t?void 0:t.diagnosisId)||(0,f.Z)(),name:(null==t?void 0:t.name)||"",description:(null==t?void 0:t.description)||"",key:(null==t?void 0:t.key)||"",keyId:(null==t?void 0:t.keyId)||"",expression:(null==t?void 0:t.expression)||"",expressionMeaning:(null==t?void 0:t.expressionMeaning)||"",severityOrder:(null==t?void 0:t.severityOrder)||null,symptoms:(null==t?void 0:t.symptoms)||[],text1:(null==t?void 0:t.text1)||"",text2:(null==t?void 0:t.text2)||"",text3:(null==t?void 0:t.text3)||"",image1:(null==t?void 0:t.image1)||null,image2:(null==t?void 0:t.image2)||null,image3:(null==t?void 0:t.image3)||null,preferences:(null==t?void 0:t.preferences)||b.$7}),[t,n]),x=(0,l.cI)({defaultValues:p()}),{formState:{dirtyFields:k},handleSubmit:N}=x,D=(0,i.useMemo)(()=>!!Object.keys(k).length,[k]),I=N(async e=>{try{var t;d(!0);let n={...e,severityOrder:e.severityOrder?Number(e.severityOrder):null};if(!n.scriptId)throw Error("Diagnosis is missing script reference!");let s=(await v.Z.post("/api/diagnoses/save",{data:[n],broadcastAction:!0})).data;if(null===(t=s.errors)||void 0===t?void 0:t.length)throw Error(s.errors.join(", "));a.refresh(),u({variant:"success",message:"Diagnosis draft was saved successfully!",onClose:()=>a.push(h)})}catch(e){u({variant:"error",message:"Failed to save draft: "+e.message})}finally{d(!1)}}),C=(0,w.v)({isDraft:!!(null==t?void 0:t.isDraft),userId:null==t?void 0:t.draftCreatedByUserId}),F=(null==s?void 0:s.draftCreatedByUserId)||(null==s?void 0:s.itemsChangedByUserId),R=(0,w.v)({isDraft:!!(null==s?void 0:s.isDraft)||!!(null==s?void 0:s.hasChangedItems),userId:F}),E=(0,i.useMemo)(()=>o||m||C||R,[o,m,C,R]);return{...x,formIsDirty:D,saving:o,scriptPageHref:h,disabled:E,isLocked:C,isScriptLocked:R,scriptLockedByUserId:F,save:I,getDefaultValues:p}}(e),{isLocked:I,control:C,saving:F,scriptPageHref:R,disabled:E,isScriptLocked:M,scriptLockedByUserId:S,register:z,watch:O,setValue:V,save:_}=D,Z=O("name"),P=O("key"),T=O("image1"),A=O("image2"),W=O("image3"),G=O("preferences"),K=(0,i.useCallback)(()=>{N.push(R)},[N,R]);return(0,s.jsxs)(s.Fragment,{children:[F&&(0,s.jsx)(m.a,{overlay:!0}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-5 [&>*]:px-4",children:[(I||M)&&(0,s.jsx)("div",{children:(0,s.jsx)(q.O,{card:!0,isDraft:!!(null===(t=e.formData)||void 0===t?void 0:t.isDraft)||M,userId:(null===(n=e.formData)||void 0===n?void 0:n.draftCreatedByUserId)||S,dataType:"diagnosis"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c._,{htmlFor:"key",error:!E&&!P,children:"Key *"}),(0,s.jsx)(l.Qr,{control:C,name:"key",render:e=>{let{field:{value:t,onChange:n}}=e;return(0,s.jsx)(x.L,{value:"".concat(t||""),disabled:!1,onChange:e=>{let[t]=e;n(t.name),V("name",null==t?void 0:t.label,{shouldDirty:!0}),V("keyId",null==t?void 0:t.uniqueKey,{shouldDirty:!0})}})}})]}),(0,s.jsxs)("div",{className:"flex gap-x-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c._,{htmlFor:"severityOrder",children:"Severity order"}),(0,s.jsx)(o.I,{...z("severityOrder",{disabled:E}),name:"severityOrder",noRing:!1,type:"number"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(c._,{htmlFor:"name",error:!E&&!Z,children:"Name *"}),(0,s.jsx)(o.I,{...z("name",{disabled:E,required:!0}),name:"name",noRing:!1,error:!E&&!Z})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c._,{htmlFor:"description",children:"Description"}),(0,s.jsx)(o.I,{...z("description",{disabled:E}),name:"description",noRing:!1}),(0,s.jsx)(p.w,{id:"description",title:"Description",disabled:E,data:G,onSave:e=>V("preferences",e,{shouldDirty:!0})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c._,{htmlFor:"expression",children:"Diagnosis expression (e.g. $Temp > 37 or $Gestation < 20)"}),(0,s.jsx)(o.I,{...z("expression",{disabled:E}),name:"expression",noRing:!1})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c._,{htmlFor:"expressionMeaning",children:"Diagnosis expression (e.g. Temperature greater than 37 or Gestation period less than 20 weeks)"}),(0,s.jsx)(o.I,{...z("expressionMeaning",{disabled:E}),name:"expressionMeaning",noRing:!1})]}),[["text1",T],["text2",A],["text3",W]].map((e,t)=>{let[n,r]=e,l="image".concat(t+1);return(0,s.jsx)(i.Fragment,{children:(0,s.jsxs)("div",{className:"flex gap-x-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)(c._,{htmlFor:"imageTextFields.".concat(t,".text"),children:["Text ",t+1]}),(0,s.jsx)(d.g,{...z(n,{disabled:E}),name:"text".concat(t+1),noRing:!1,rows:5}),(0,s.jsx)(p.w,{id:n,title:"Text ".concat(t+1),disabled:E,data:G,onSave:e=>V("preferences",e,{shouldDirty:!0})})]}),(0,s.jsx)(k.M,{disabled:E,image:r,onChange:e=>V(l,e,{shouldDirty:!0})})]})},"imageTextFields.".concat(t))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-x-2 py-6 px-4",children:[(0,s.jsx)("span",{className:(0,h.cn)("text-danger text-xs",E&&"hidden"),children:"* Required"}),(0,s.jsx)("div",{className:"flex-1"}),(0,s.jsx)(a.z,{variant:"ghost",onClick:()=>K(),children:"Cancel"}),(0,s.jsx)(a.z,{disabled:E,onClick:()=>_(),children:"Save Draft"})]}),(0,s.jsx)(u.Z,{className:"my-20"}),(0,s.jsx)("div",{children:(0,s.jsx)(L,{disabled:E,form:D})})]})}},20021:function(e,t,n){"use strict";n.d(t,{M:function(){return m}});var s=n(57437),i=n(92513),r=n(90399),l=n(5192),a=n(12491),o=n(50495),d=n(76230),c=n(77605),u=n(21475);function m(e){let{image:t,disabled:n,onChange:m}=e,h=(0,u.Y)(),[p,{width:x}]=(0,l.Z)(),{confirm:f}=(0,d.t)(),v="".concat((null==t?void 0:t.data)||"").split("?").filter((e,t)=>t).join(""),{width:g,height:y}=a.Z.parse(v);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{ref:p,className:"flex flex-col gap-y-2 min-w-60 max-w-60",children:[(0,s.jsx)("div",{className:"w-full flex flex-col items-center justify-center min-h-28",children:(0,s.jsx)(c.E,{alt:"",width:Number(g||"0"),height:Number(y||"0"),containerWidth:x,src:(null==t?void 0:t.data)||"/images/placeholder.png"})}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-x-4",children:[(0,s.jsx)(o.z,{size:"icon",className:"w-8 h-8 rounded-full",disabled:n,onClick:()=>h.openModal({onSelectFiles(e){let[t]=e;m({data:t.url,fileId:t.fileId,filename:t.filename,size:t.size,contentType:t.contentType})}}),children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})}),!!t&&(0,s.jsx)(o.z,{variant:"destructive",size:"icon",className:"w-8 h-8 rounded-full",disabled:n,onClick:()=>f(()=>m(null),{title:"Delete image",message:"Are you sure you want to delete this image?",danger:!0}),children:(0,s.jsx)(r.Z,{className:"h-4 w-4"})})]})]})})}},77605:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var s=n(57437),i=n(48625);function r(e){let{width:t=0,height:n=0,containerWidth:r,...l}=e;l.sizes;let a={width:"100%",height:"auto"};if(n&&t&&r){let e=(0,i.a)({imageWidth:t,imageHeight:n,containerWidth:r});a.width=e.imageWidth,a.height=e.imageHeight}return(0,s.jsx)("img",{...l,src:l.src,style:{...a,...l.style}})}},80852:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var s=n(57437),i=n(2265),r=n(84492),l=n(23920);function a(e){let{value:t,disabled:n,modal:a,multiple:o,placeholder:d,error:c,onChange:u,filterDataKeys:m}=e,{dataKeys:h,extractDataKeys:p}=(0,l.M)(),x=(0,i.useMemo)(()=>h.filter(e=>!m||m(e)).map(e=>({label:e.name,value:e.uniqueKey,caption:e.dataType||"",description:e.label})),[h,m]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.V,{multiple:o,modal:a,error:c,placeholder:"".concat(t||"")||d||"Select key",search:{placeholder:"Search data keys"},options:x,onSelect:e=>{let t=p(e.map(e=>e.value)).map(e=>({...e,children:p(e.options)}));null==u||u(t)}})})}},64344:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(57437),i=n(2265),r=n(48484),l=n(37440);let a=i.forwardRef((e,t)=>{let{className:n,orientation:i="horizontal",decorative:a=!0,...o}=e;return(0,s.jsx)(r.f,{ref:t,decorative:a,orientation:i,className:(0,l.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",n),...o})});a.displayName=r.f.displayName},21475:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var s=n(39099),i=n(38472);let r=(0,s.Ue)((e,t)=>{let n=async n=>{try{let{reset:s,...r}={...n};s&&(r.page=1),e({loading:!0,unhandledErrors:[]});let{data:l,errors:a,totalPages:o,totalRows:d,page:c}=(await i.Z.get("/api/files?data=".concat(JSON.stringify({...r,limit:r.limit||t().limit,page:r.page||t().page})))).data;if(null==a?void 0:a.length)e({unhandledErrors:a});else{let n=s?l:[...t().files,...l];n=n.filter((e,t)=>t===n.map(e=>e.fileId).indexOf(e.fileId)),r.siteId&&r.siteId!==t().siteId&&(n=l),e({files:n,totalPages:o,totalRows:d,page:c,siteId:r.siteId||t().siteId,lastFilesQueryDate:l.length?new Date:null})}}catch(t){e({unhandledErrors:[t.message]})}finally{e({loading:!1})}};return{isModalOpen:!1,loading:!1,siteId:"",files:[],unhandledErrors:[],lastFilesQueryDate:null,page:1,limit:15,totalPages:1,totalRows:0,onSelectFiles:null,selectMultiple:!1,getFiles:n,openModal(s){e({onSelectFiles:(null==s?void 0:s.onSelectFiles)||null,isModalOpen:!0}),t().lastFilesQueryDate||n()},closeModal:()=>e({isModalOpen:!1})}})},48625:function(e,t,n){"use strict";async function s(e){return new Promise((t,n)=>{let s=new Image;s.onload=function(){t({width:s.width,height:s.height})},s.onerror=function(e,t,s,i,r){n(r||Error("Failed to load image"))},s.src=e})}function i(e){let{imageWidth:t,imageHeight:n,containerWidth:s}=e;return t>s&&(n=s/t*n,t=s),{imageWidth:t,imageHeight:n}}n.d(t,{a:function(){return i},p:function(){return s}})},92513:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.399.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(78030).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5192:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(2265),i=function(){},r="undefined"!=typeof window,l=r?s.useLayoutEffect:s.useEffect,a={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0},o=r&&void 0!==window.ResizeObserver?function(){var e=(0,s.useState)(null),t=e[0],n=e[1],i=(0,s.useState)(a),r=i[0],o=i[1],d=(0,s.useMemo)(function(){return new window.ResizeObserver(function(e){if(e[0]){var t=e[0].contentRect;o({x:t.x,y:t.y,width:t.width,height:t.height,top:t.top,left:t.left,bottom:t.bottom,right:t.right})}})},[]);return l(function(){if(t)return d.observe(t),function(){d.disconnect()}},[t]),[n,r]}:function(){return[i,a]}},99497:function(e,t,n){"use strict";n.d(t,{ck:function(){return P},fC:function(){return Z},z$:function(){return T}});var s=n(2265),i=n(78149),r=n(1584),l=n(98324),a=n(25171),o=n(53398),d=n(91715),c=n(87513),u=n(75238),m=n(47250),h=n(31383),p=n(57437),x="Radio",[f,v]=(0,l.b)(x),[g,y]=f(x),j=s.forwardRef((e,t)=>{let{__scopeRadio:n,name:l,checked:o=!1,required:d,disabled:c,value:u="on",onCheck:m,form:h,...x}=e,[f,v]=s.useState(null),y=(0,r.e)(t,e=>v(e)),j=s.useRef(!1),b=!f||h||!!f.closest("form");return(0,p.jsxs)(g,{scope:n,checked:o,disabled:c,children:[(0,p.jsx)(a.WV.button,{type:"button",role:"radio","aria-checked":o,"data-state":N(o),"data-disabled":c?"":void 0,disabled:c,value:u,...x,ref:y,onClick:(0,i.M)(e.onClick,e=>{o||null==m||m(),b&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),b&&(0,p.jsx)(k,{control:f,bubbles:!j.current,name:l,value:u,checked:o,required:d,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});j.displayName=x;var b="RadioIndicator",w=s.forwardRef((e,t)=>{let{__scopeRadio:n,forceMount:s,...i}=e,r=y(b,n);return(0,p.jsx)(h.z,{present:s||r.checked,children:(0,p.jsx)(a.WV.span,{"data-state":N(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:t})})});w.displayName=b;var k=s.forwardRef((e,t)=>{let{__scopeRadio:n,control:i,checked:l,bubbles:o=!0,...d}=e,c=s.useRef(null),h=(0,r.e)(c,t),x=(0,m.D)(l),f=(0,u.t)(i);return s.useEffect(()=>{let e=c.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(x!==l&&t){let n=new Event("click",{bubbles:o});t.call(e,l),e.dispatchEvent(n)}},[x,l,o]),(0,p.jsx)(a.WV.input,{type:"radio","aria-hidden":!0,defaultChecked:l,...d,tabIndex:-1,ref:h,style:{...d.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}k.displayName="RadioBubbleInput";var D=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I="RadioGroup",[C,F]=(0,l.b)(I,[o.Pc,v]),R=(0,o.Pc)(),E=v(),[M,S]=C(I),z=s.forwardRef((e,t)=>{let{__scopeRadioGroup:n,name:s,defaultValue:i,value:r,required:l=!1,disabled:u=!1,orientation:m,dir:h,loop:x=!0,onValueChange:f,...v}=e,g=R(n),y=(0,c.gm)(h),[j,b]=(0,d.T)({prop:r,defaultProp:null!=i?i:null,onChange:f,caller:I});return(0,p.jsx)(M,{scope:n,name:s,required:l,disabled:u,value:j,onValueChange:b,children:(0,p.jsx)(o.fC,{asChild:!0,...g,orientation:m,dir:y,loop:x,children:(0,p.jsx)(a.WV.div,{role:"radiogroup","aria-required":l,"aria-orientation":m,"data-disabled":u?"":void 0,dir:y,...v,ref:t})})})});z.displayName=I;var O="RadioGroupItem",V=s.forwardRef((e,t)=>{let{__scopeRadioGroup:n,disabled:l,...a}=e,d=S(O,n),c=d.disabled||l,u=R(n),m=E(n),h=s.useRef(null),x=(0,r.e)(t,h),f=d.value===a.value,v=s.useRef(!1);return s.useEffect(()=>{let e=e=>{D.includes(e.key)&&(v.current=!0)},t=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,p.jsx)(o.ck,{asChild:!0,...u,focusable:!c,active:f,children:(0,p.jsx)(j,{disabled:c,required:d.required,checked:f,...m,...a,name:d.name,ref:x,onCheck:()=>d.onValueChange(a.value),onKeyDown:(0,i.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,i.M)(a.onFocus,()=>{var e;v.current&&(null===(e=h.current)||void 0===e||e.click())})})})});V.displayName=O;var _=s.forwardRef((e,t)=>{let{__scopeRadioGroup:n,...s}=e,i=E(n);return(0,p.jsx)(w,{...i,...s,ref:t})});_.displayName="RadioGroupIndicator";var Z=z,P=V,T=_},48484:function(e,t,n){"use strict";n.d(t,{f:function(){return d}});var s=n(2265),i=n(25171),r=n(57437),l="horizontal",a=["horizontal","vertical"],o=s.forwardRef((e,t)=>{let{decorative:n,orientation:s=l,...o}=e,d=a.includes(s)?s:l;return(0,r.jsx)(i.WV.div,{"data-orientation":d,...n?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...o,ref:t})});o.displayName="Separator";var d=o}}]);