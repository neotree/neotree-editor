"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6942],{76942:function(e,t,a){a.d(t,{DataTable:function(){return z}});var r=a(57437),l=a(2265),n=a(83046),s=a(12599),o=a(92095),i=a(37440);let d=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",a),...l})})});d.displayName="Table";let c=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",a),...l})});c.displayName="TableHeader";let u=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",a),...l})});u.displayName="TableBody",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...l})}).displayName="TableFooter";let m=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...l})});m.displayName="TableRow";let f=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...l})});f.displayName="TableHead";let p=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...l})});p.displayName="TableCell",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",a),...l})}).displayName="TableCaption";var x=a(50495),h=a(86466),b=a(12738),g=a(44839),v=a(46910),N=a(63541),y=a(55066),w=a(47019),j=a(1282);let C=[{value:"asc",label:"Asc",Icon:N.Z},{value:"desc",label:"Desc",Icon:y.Z},{value:"hide",label:"Hide",divider:!0,Icon:w.Z}],k=e=>{let{column:t,value:a,onFilter:l}=e,n=C.filter(e=>e.value===a)[0],s=(null==n?void 0:n.Icon)||j.Z;return(0,r.jsxs)(v.h_,{children:[(0,r.jsx)(v.$F,{asChild:!0,children:(0,r.jsxs)(x.z,{variant:"ghost",size:"sm",className:" focus-visible:ring-0  focus-visible:ring-transparent  focus-visible:ring-offset-0 ",children:[(0,r.jsx)("span",{className:"mr-2",children:t.name}),(0,r.jsx)(s,{className:"w-4 h-4"})]})}),(0,r.jsx)(v.AW,{align:"end",children:C.filter(e=>"hide"!==e.value||!1!==t.canHide).map(e=>(0,r.jsxs)(v.Xi,{onClick:()=>l(e.value),className:(0,i.cn)(e.divider?"border-t":""),children:[(0,r.jsx)(e.Icon,{className:"w-4 h-4 mr-2"}),e.label]},e.value))})]})};var I=a(39343),R=a(83102);function S(e){let{inputPlaceholder:t,onSearch:a}=e,n=(0,l.useRef)(null),s=(0,l.useRef)(null),[o,i]=(0,l.useState)(0),[d,c]=(0,l.useState)(!1),{register:u,watch:m,setValue:f}=(0,I.cI)({defaultValues:{searchValue:""}}),p=m("searchValue"),{ref:x,...h}=u("searchValue"),b=(0,l.useCallback)(e=>{x(e),e&&(n.current=e)},[x]);return(0,l.useEffect)(()=>{if(s.current){let e=new ResizeObserver(e=>{i(e[0].contentRect.width)});return e.observe(s.current),()=>e.disconnect()}},[]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{null==a||a(p),c(!1)},300);return()=>clearTimeout(e)},[p,a]),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("form",{ref:s,children:(0,r.jsx)(R.I,{...h,ref:b,type:"search",placeholder:t||"Search...[title,description,hospital]",value:p,onChange:e=>{if(c(!0),f("searchValue",e.target.value,{shouldDirty:!0}),n.current){let t=e.target.selectionStart;requestAnimationFrame(()=>{n.current&&null!==t&&n.current.setSelectionRange(t,t)})}},className:"w-full"})})})}function T(e){let{title:t,search:a,headerActions:l}=e;return a||t||l?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"px-4 py-4 flex flex-col gap-y-2",children:(0,r.jsxs)("div",{className:"flex flex-col gap-y-2 md:flex-row md:gap-y-0 md:gap-x-2",children:[(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center gap-x-2",!t&&"hidden"),children:[!!t&&(0,r.jsx)("div",{className:(0,i.cn)("md:mr-auto","string"==typeof t?"text-2xl":""),children:t}),(0,r.jsx)("div",{className:"ml-auto"})]}),(0,r.jsx)("div",{className:(0,i.cn)("flex-1",!a&&"hidden"),children:!!a&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(S,{...a})})}),(0,r.jsx)("div",{className:(0,i.cn)("flex flex-row flex-wrap gap-x-2 gap-y-1 ml-auto",!l&&"hidden"),children:l})]})})}):null}let z=e=>{var t,a;let{selectable:v=!1,loading:N,sortable:y,tableClassname:w,tableRowClassname:j,tableBodyClassname:C,onSort:I,searchKeys:R}=e,S=(0,l.useRef)(null),z=function(e){let{props:t}=e,a=(0,l.useRef)(!1),{selectable:r,sortable:n,selectedIndexes:s,columns:o,data:i,maxRows:d,onSelect:c,searchKeys:u}=t,[m,f]=(0,l.useState)({selected:{},columns:[],rows:[],skeletonRows:[],searchKeys:[]}),p=(0,l.useCallback)(()=>r?{...null==s?void 0:s.reduce((e,t)=>({...e,[t]:!0}),{})}:{},[s,r]);(0,l.useEffect)(()=>{let e=[],t=d||25;for(let a=0;a<t;a++)e.push({id:"".concat(a),rowIndex:a,cells:o.map((e,t)=>({id:"".concat(a,".").concat(t),columnIndex:t,rowIndex:a,value:""}))});f(t=>({...t,columns:o.map((e,t)=>({...e,id:"".concat(t),columnIndex:t,filter:null,hidden:!1,cellClassName:(0,g.Z)(e.cellClassName,"py-2")})),skeletonRows:e,searchKeys:u||[],rows:i.map((e,t)=>({id:"".concat(t),rowIndex:t,cells:o.map((a,r)=>({id:"".concat(t,".").concat(r),rowIndex:t,columnIndex:r,value:e[r]||""}))}))})),a.current||(a.current=!0)},[o,i,d]),(0,l.useEffect)(()=>{f(e=>({...e,selected:p()}))},[n,s,p]);let x=(0,l.useCallback)(e=>{let t=[];f(a=>{let r=e.length===a.rows.length,l=Object.values(a.selected).filter(e=>e).length===a.rows.length,n={...a.selected};return e.forEach(e=>{n[e]=r?!l:!n[e]}),t=Object.keys(n).filter(e=>n[e]).map(e=>Number(e)),{...a,selected:n}}),null==c||c(t)},[f,c]);return{state:m,setState:f,setSelected:x,toggleColumn:e=>f(t=>{let a=[...t.columns].map(t=>({...t,filter:null,hidden:t.columnIndex===e?!t.hidden:t.hidden}));return{...t,columns:a}}),setFilter:(e,t)=>f(a=>{let r=[...a.columns].map(a=>{let r=a.columnIndex===e?t:null;return{...a,filter:r}}),l=r.filter(t=>t.columnIndex===e)[0],n=[...a.rows];return t&&(n=function(e){let{column:t,rows:a}=e;return a.sort((e,a)=>{let r=e.cells.filter(e=>e.columnIndex===t.columnIndex)[0].value||"",l=a.cells.filter(e=>e.columnIndex===t.columnIndex)[0].value||"",n=0;if("number"===t.filterType){let e=Number(r),a=Number(l);if(!(isNaN(e)||isNaN(a)))switch(t.filter){case"asc":n=e-a;break;case"desc":n=a-e}}else if("text"===t.filterType)switch(t.filter){case"asc":n=r.localeCompare(l);break;case"desc":n=l.localeCompare(r)}return n})}({rows:n,column:l})),{...a,columns:r,rows:n}})}}({props:e}),[Z,_]=(0,l.useState)(""),[E,F]=(0,l.useState)(""),{state:{columns:O,rows:V,skeletonRows:A,selected:D},setState:H,setFilter:X,setSelected:L,toggleColumn:M}=z,U=(0,l.useMemo)(()=>N?A:V,[N,A,V]),W=(0,l.useMemo)(()=>(console.log(O),O.filter(e=>!e.hidden&&e.name&&/title|name|key|ref|hospital|field|type/i.test(String(e.name))).map(e=>e.columnIndex)),[O]),$=(0,l.useCallback)(e=>{_(e.toLowerCase())},[]);(0,l.useEffect)(()=>{let e=setTimeout(()=>{F(Z)},300);return()=>clearTimeout(e)},[Z]);let q=(0,l.useCallback)((e,t)=>{if(!t.trim())return e;let a=t.toLowerCase();return e.filter(e=>{var t;for(let t of W){let r=e.cells[t],l=null==r?void 0:r.value;if(null!=l&&String(l).toLowerCase().includes(a))return!0}let r=null===(t=e.cells[0])||void 0===t?void 0:t.value;if(null!=r){let e=null==R?void 0:R.find(e=>String(e.position)===String(r));if(e&&e.keys.some(e=>e.toLowerCase().includes(a)))return!0}return!1})},[W]),B=(0,l.useMemo)(()=>q(U,E),[U,E,q]),K=(0,l.useCallback)((e,t)=>{let a=[];H(r=>{let l=(0,s.q)([...r.rows],e,t);return a=l.map((e,t)=>({oldIndex:e.rowIndex,newIndex:t})),{...r,rows:l}}),null==I||I(e,t,a),L([])},[H,I,L]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{...e,search:{...e.search,onSearch:$}}),(0,r.jsx)(n.ZP,{allowDrag:!!y,onSortEnd:K,draggedItemClassName:"opacity-90 z-[9999999999999]",customHolderRef:S,children:(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)(d,{className:(0,i.cn)("w-full overflow-x-auto",w),children:[(0,r.jsx)(c,{className:(0,i.cn)(e.theadClassName),children:(0,r.jsxs)(m,{children:[v&&(0,r.jsx)(f,{className:(0,i.cn)(null===(t=O[0])||void 0===t?void 0:t.cellClassName,"w-8"),children:(0,r.jsx)(h.X,{disabled:N,checked:!!B.length&&Object.values(D).filter(e=>e).length===B.length,onCheckedChange:()=>L(B.map(e=>e.rowIndex))})}),y&&(0,r.jsx)(f,{className:(0,i.cn)(null===(a=O[0])||void 0===a?void 0:a.cellClassName,"w-4")}),O.map(t=>(0,r.jsx)(f,{colSpan:t.colSpan,align:t.align,className:(0,i.cn)(e.cellClassName,e.thClassName,t.cellClassName,t.thClassName,"px-2",t.hidden?"hidden":"",t.align?({left:"text-left",center:"text-center",right:"text-right",justify:"text-justify",char:""})[t.align]:""),children:(()=>{switch(t.filterType){case"number":case"text":return(0,r.jsx)(k,{column:t,value:t.filter,onFilter:e=>{"hide"===e?M(t.columnIndex):X(t.columnIndex,e)}});default:return(0,r.jsx)(x.z,{variant:"ghost",size:"sm",className:" focus-visible:ring-0  focus-visible:ring-transparent  focus-visible:ring-offset-0 hover:bg-transparent hover:text-primary ",children:t.name||""})}})()},t.id))]})}),(0,r.jsxs)(u,{ref:S,className:C,children:[!B.length&&(0,r.jsx)(m,{className:"p-0",children:(0,r.jsx)(p,{colSpan:O.length+(v?1:0)+(y?1:0),className:"p-4 text-center text-muted-foreground",children:e.noDataMessage||"No data to display"})}),B.map(t=>{var a,s,d;let c={...null===(a=e.getRowOptions)||void 0===a?void 0:a.call(e,{rowIndex:t.rowIndex})};return(0,r.jsx)(n.TR,{children:(0,r.jsxs)(m,{...c,className:(0,i.cn)(e.trClassName,"hover:bg-primary/10",D[t.rowIndex]?"bg-primary/10":"",j,c.className),children:[v&&(0,r.jsx)(p,{className:(0,i.cn)(null===(s=O[0])||void 0===s?void 0:s.cellClassName,"w-8"),children:(0,r.jsx)(h.X,{disabled:N,checked:!!D[t.rowIndex],onCheckedChange:()=>L([t.rowIndex])})}),y&&(0,r.jsx)(p,{className:(0,i.cn)(null===(d=O[0])||void 0===d?void 0:d.cellClassName,"w-4 cursor-move"),children:(0,r.jsx)(n.TI,{children:(0,r.jsx)(o.Z,{className:"w-4 h-4 text-muted-foreground"})})}),t.cells.map(a=>{var n,s;let o=O[a.columnIndex],d={...null===(n=e.getCellOptions)||void 0===n?void 0:n.call(e,{rowIndex:t.rowIndex,columnIndex:a.columnIndex})};return(0,l.createElement)(p,{...d,key:a.id,colSpan:o.colSpan,align:o.align,className:(0,i.cn)(e.cellClassName,e.tdClassName,o.cellClassName,o.tdClassName,"px-4",d.className,o.hidden?"hidden":"")},N?(0,r.jsx)(b.O,{className:"h-4 w-[120px] bg-black/10 dark:bg-white/10"}):(null===(s=o.cellRenderer)||void 0===s?void 0:s.call(o,a))||a.value)})]})},t.id)})]})]})})})]})}},50495:function(e,t,a){a.d(t,{d:function(){return i},z:function(){return d}});var r=a(57437),l=a(2265),n=a(71538),s=a(13027),o=a(37440);let i=(0,s.j)("\n    inline-flex\n    items-center\n    justify-center\n    whitespace-nowrap\n    rounded-md\n    text-sm\n    font-medium\n    transition-colors\n    focus-visible:outline-none\n    disabled:pointer-events-none\n    disabled:opacity-50\n  ",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"border border-input bg-background hover:bg-primary/20","primary-outline":"border border-primary text-primary bg-transparent hover:bg-primary/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90",ghost:"hover:bg-primary/20 hover:text-primary",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{let{className:a,variant:l,size:s,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(i({variant:l,size:s,className:a})),ref:t,...c})});d.displayName="Button"},86466:function(e,t,a){a.d(t,{X:function(){return i}});var r=a(57437),l=a(2265),n=a(69324),s=a(22468),o=a(37440);let i=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(n.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:(0,r.jsx)(n.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(s.Z,{className:"h-4 w-4"})})})});i.displayName=n.fC.displayName},46910:function(e,t,a){a.d(t,{$F:function(){return u},AW:function(){return m},Ju:function(){return x},VD:function(){return h},Xi:function(){return f},bO:function(){return p},h_:function(){return c}});var r=a(57437),l=a(2265),n=a(81622),s=a(87592),o=a(22468),i=a(28165),d=a(37440);let c=n.fC,u=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,l.forwardRef((e,t)=>{let{className:a,inset:l,children:o,...i}=e;return(0,r.jsxs)(n.fF,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",l&&"pl-8",a),...i,children:[o,(0,r.jsx)(s.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=n.fF.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(n.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=n.tu.displayName;let m=l.forwardRef((e,t)=>{let{className:a,sideOffset:l=4,...s}=e;return(0,r.jsx)(n.Uv,{children:(0,r.jsx)(n.VY,{ref:t,sideOffset:l,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})})});m.displayName=n.VY.displayName;let f=l.forwardRef((e,t)=>{let{className:a,inset:l,...s}=e;return(0,r.jsx)(n.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",a),...s})});f.displayName=n.ck.displayName;let p=l.forwardRef((e,t)=>{let{className:a,children:l,checked:s,...i}=e;return(0,r.jsxs)(n.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:s,...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),l]})});p.displayName=n.oC.displayName,l.forwardRef((e,t)=>{let{className:a,children:l,...s}=e;return(0,r.jsxs)(n.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(i.Z,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=n.Rk.displayName;let x=l.forwardRef((e,t)=>{let{className:a,inset:l,...s}=e;return(0,r.jsx)(n.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...s})});x.displayName=n.__.displayName;let h=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(n.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...l})});h.displayName=n.Z0.displayName},83102:function(e,t,a){a.d(t,{I:function(){return s}});var r=a(57437),l=a(2265),n=a(37440);let s=l.forwardRef((e,t)=>{let{className:a,type:l,noRing:s,error:o,...i}=e;return(0,r.jsx)("input",{type:l,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s&&"focus-visible:ring-0 focus-visible:ring-transparent focus-visible:ring-offset-0",o&&"border-danger",o&&!s&&"focus-visible:ring-danger",a),ref:t,...i})});s.displayName="Input"},12738:function(e,t,a){a.d(t,{O:function(){return n}});var r=a(57437),l=a(37440);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",t),...a})}},37440:function(e,t,a){a.d(t,{cn:function(){return n}});var r=a(44839),l=a(96164);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,r.W)(t))}}}]);